# ðŸ” QG-14 â€” Mode What-If

> **Date** : 21 fÃ©vrier 2026  
> **Bloc** : 14 â€” Mode What-If  
> **Checkpoint** : after-architecture  

---

## Sections vÃ©rifiÃ©es

| Â§ | Section | Verdict | DÃ©tails |
|---|---------|---------|---------|
| Â§2 | Structure | âœ… | `WhatIfDiff.tsx` = 119L. < 250L. |
| Â§10 | Edge Cases | âœ… | 0 changements â†’ composant retourne null. Reset â†’ setAnswers(originalAnswers). |
| Â§17 | Perf | âœ… | Diff recalculÃ© via useMemo sur [originalAnswers, currentAnswers]. < 5ms pour 5 V Ã— activation check. |

---

## RÃ©serves

### Micro-Phase 14a â€” content_blocks populate (â³)
**Constat** : Chantier data engineering â€” parser KERNEL markdown â†’ insÃ©rer en DB. Pas un task UI.  
**RÃ©solution** : ReportÃ© en **task data dÃ©diÃ©** (hors sprint architecture UI).

### Micro-Phase 14b â€” Tests unitaires (â³)
**Constat** : Pas de framework de test configurÃ© (Vitest). Fonctions pures testables.  
**RÃ©solution** : ReportÃ© en **session test setup** (configuration Vitest + tests).

---

## Validation

| VÃ©rification | RÃ©sultat |
|--------------|----------|
| `npx tsc --noEmit` | âœ… 0 erreurs |
| `WhatIfDiff.tsx` | 119L [NEW] âœ… |
| `SimulatorPage.tsx` | 455L (+7L what-if wiring) âœ… |

---

## Verdict global

### âœ… Peut procÃ©der â€” 2 reports (14a â†’ task data, 14b â†’ session test setup)
