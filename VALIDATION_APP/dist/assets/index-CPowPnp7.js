(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function bC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wc={exports:{}},er={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function u0(){if(ng)return er;ng=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:n,type:r,key:c,ref:l!==void 0?l:null,props:u}}return er.Fragment=t,er.jsx=s,er.jsxs=s,er}var tg;function c0(){return tg||(tg=1,wc.exports=u0()),wc.exports}var M=c0(),Uc={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function d0(){if(ig)return _e;ig=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),T=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=T&&q[T]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,D={};function R(q,H,E){this.props=q,this.context=H,this.refs=D,this.updater=E||S}R.prototype.isReactComponent={},R.prototype.setState=function(q,H){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,H,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function P(){}P.prototype=R.prototype;function N(q,H,E){this.props=q,this.context=H,this.refs=D,this.updater=E||S}var $=N.prototype=new P;$.constructor=N,b($,R.prototype),$.isPureReactComponent=!0;var Y=Array.isArray;function x(){}var z={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function ae(q,H,E){var se=E.ref;return{$$typeof:n,type:q,key:H,ref:se!==void 0?se:null,props:E}}function k(q,H){return ae(q.type,H,q.props)}function W(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function ne(q){var H={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(E){return H[E]})}var ve=/\/+/g;function ie(q,H){return typeof q=="object"&&q!==null&&q.key!=null?ne(""+q.key):H.toString(36)}function X(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(x,x):(q.status="pending",q.then(function(H){q.status==="pending"&&(q.status="fulfilled",q.value=H)},function(H){q.status==="pending"&&(q.status="rejected",q.reason=H)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function w(q,H,E,se,fe){var ce=typeof q;(ce==="undefined"||ce==="boolean")&&(q=null);var Oe=!1;if(q===null)Oe=!0;else switch(ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(q.$$typeof){case n:case t:Oe=!0;break;case g:return Oe=q._init,w(Oe(q._payload),H,E,se,fe)}}if(Oe)return fe=fe(q),Oe=se===""?"."+ie(q,0):se,Y(fe)?(E="",Oe!=null&&(E=Oe.replace(ve,"$&/")+"/"),w(fe,H,E,"",function(et){return et})):fe!=null&&(W(fe)&&(fe=k(fe,E+(fe.key==null||q&&q.key===fe.key?"":(""+fe.key).replace(ve,"$&/")+"/")+Oe)),H.push(fe)),1;Oe=0;var We=se===""?".":se+":";if(Y(q))for(var Ue=0;Ue<q.length;Ue++)se=q[Ue],ce=We+ie(se,Ue),Oe+=w(se,H,E,ce,fe);else if(Ue=_(q),typeof Ue=="function")for(q=Ue.call(q),Ue=0;!(se=q.next()).done;)se=se.value,ce=We+ie(se,Ue++),Oe+=w(se,H,E,ce,fe);else if(ce==="object"){if(typeof q.then=="function")return w(X(q),H,E,se,fe);throw H=String(q),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function J(q,H,E){if(q==null)return q;var se=[],fe=0;return w(q,se,"","",function(ce){return H.call(E,ce,fe++)}),se}function oe(q){if(q._status===-1){var H=q._result;H=H(),H.then(function(E){(q._status===0||q._status===-1)&&(q._status=1,q._result=E)},function(E){(q._status===0||q._status===-1)&&(q._status=2,q._result=E)}),q._status===-1&&(q._status=0,q._result=H)}if(q._status===1)return q._result.default;throw q._result}var Ee=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},y={map:J,forEach:function(q,H,E){J(q,function(){H.apply(this,arguments)},E)},count:function(q){var H=0;return J(q,function(){H++}),H},toArray:function(q){return J(q,function(H){return H})||[]},only:function(q){if(!W(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return _e.Activity=C,_e.Children=y,_e.Component=R,_e.Fragment=s,_e.Profiler=l,_e.PureComponent=N,_e.StrictMode=r,_e.Suspense=h,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,_e.__COMPILER_RUNTIME={__proto__:null,c:function(q){return z.H.useMemoCache(q)}},_e.cache=function(q){return function(){return q.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(q,H,E){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var se=b({},q.props),fe=q.key;if(H!=null)for(ce in H.key!==void 0&&(fe=""+H.key),H)!te.call(H,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&H.ref===void 0||(se[ce]=H[ce]);var ce=arguments.length-2;if(ce===1)se.children=E;else if(1<ce){for(var Oe=Array(ce),We=0;We<ce;We++)Oe[We]=arguments[We+2];se.children=Oe}return ae(q.type,fe,se)},_e.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:u,_context:q},q},_e.createElement=function(q,H,E){var se,fe={},ce=null;if(H!=null)for(se in H.key!==void 0&&(ce=""+H.key),H)te.call(H,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=H[se]);var Oe=arguments.length-2;if(Oe===1)fe.children=E;else if(1<Oe){for(var We=Array(Oe),Ue=0;Ue<Oe;Ue++)We[Ue]=arguments[Ue+2];fe.children=We}if(q&&q.defaultProps)for(se in Oe=q.defaultProps,Oe)fe[se]===void 0&&(fe[se]=Oe[se]);return ae(q,ce,fe)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(q){return{$$typeof:p,render:q}},_e.isValidElement=W,_e.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:oe}},_e.memo=function(q,H){return{$$typeof:m,type:q,compare:H===void 0?null:H}},_e.startTransition=function(q){var H=z.T,E={};z.T=E;try{var se=q(),fe=z.S;fe!==null&&fe(E,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(x,Ee)}catch(ce){Ee(ce)}finally{H!==null&&E.types!==null&&(H.types=E.types),z.T=H}},_e.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},_e.use=function(q){return z.H.use(q)},_e.useActionState=function(q,H,E){return z.H.useActionState(q,H,E)},_e.useCallback=function(q,H){return z.H.useCallback(q,H)},_e.useContext=function(q){return z.H.useContext(q)},_e.useDebugValue=function(){},_e.useDeferredValue=function(q,H){return z.H.useDeferredValue(q,H)},_e.useEffect=function(q,H){return z.H.useEffect(q,H)},_e.useEffectEvent=function(q){return z.H.useEffectEvent(q)},_e.useId=function(){return z.H.useId()},_e.useImperativeHandle=function(q,H,E){return z.H.useImperativeHandle(q,H,E)},_e.useInsertionEffect=function(q,H){return z.H.useInsertionEffect(q,H)},_e.useLayoutEffect=function(q,H){return z.H.useLayoutEffect(q,H)},_e.useMemo=function(q,H){return z.H.useMemo(q,H)},_e.useOptimistic=function(q,H){return z.H.useOptimistic(q,H)},_e.useReducer=function(q,H,E){return z.H.useReducer(q,H,E)},_e.useRef=function(q){return z.H.useRef(q)},_e.useState=function(q){return z.H.useState(q)},_e.useSyncExternalStore=function(q,H,E){return z.H.useSyncExternalStore(q,H,E)},_e.useTransition=function(){return z.H.useTransition()},_e.version="19.2.4",_e}var sg;function Ld(){return sg||(sg=1,Uc.exports=d0()),Uc.exports}var Cn=Ld(),kc={exports:{}},nr={},Fc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function p0(){return ag||(ag=1,(function(n){function t(w,J){var oe=w.length;w.push(J);e:for(;0<oe;){var Ee=oe-1>>>1,y=w[Ee];if(0<l(y,J))w[Ee]=J,w[oe]=y,oe=Ee;else break e}}function s(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var J=w[0],oe=w.pop();if(oe!==J){w[0]=oe;e:for(var Ee=0,y=w.length,q=y>>>1;Ee<q;){var H=2*(Ee+1)-1,E=w[H],se=H+1,fe=w[se];if(0>l(E,oe))se<y&&0>l(fe,E)?(w[Ee]=fe,w[se]=oe,Ee=se):(w[Ee]=E,w[H]=oe,Ee=H);else if(se<y&&0>l(fe,oe))w[Ee]=fe,w[se]=oe,Ee=se;else break e}}return J}function l(w,J){var oe=w.sortIndex-J.sortIndex;return oe!==0?oe:w.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();n.unstable_now=function(){return c.now()-p}}var h=[],m=[],g=1,C=null,T=3,_=!1,S=!1,b=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function $(w){for(var J=s(m);J!==null;){if(J.callback===null)r(m);else if(J.startTime<=w)r(m),J.sortIndex=J.expirationTime,t(h,J);else break;J=s(m)}}function Y(w){if(b=!1,$(w),!S)if(s(h)!==null)S=!0,x||(x=!0,ne());else{var J=s(m);J!==null&&X(Y,J.startTime-w)}}var x=!1,z=-1,te=5,ae=-1;function k(){return D?!0:!(n.unstable_now()-ae<te)}function W(){if(D=!1,x){var w=n.unstable_now();ae=w;var J=!0;try{e:{S=!1,b&&(b=!1,P(z),z=-1),_=!0;var oe=T;try{n:{for($(w),C=s(h);C!==null&&!(C.expirationTime>w&&k());){var Ee=C.callback;if(typeof Ee=="function"){C.callback=null,T=C.priorityLevel;var y=Ee(C.expirationTime<=w);if(w=n.unstable_now(),typeof y=="function"){C.callback=y,$(w),J=!0;break n}C===s(h)&&r(h),$(w)}else r(h);C=s(h)}if(C!==null)J=!0;else{var q=s(m);q!==null&&X(Y,q.startTime-w),J=!1}}break e}finally{C=null,T=oe,_=!1}J=void 0}}finally{J?ne():x=!1}}}var ne;if(typeof N=="function")ne=function(){N(W)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ie=ve.port2;ve.port1.onmessage=W,ne=function(){ie.postMessage(null)}}else ne=function(){R(W,0)};function X(w,J){z=R(function(){w(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(w){w.callback=null},n.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<w?Math.floor(1e3/w):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(w){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var oe=T;T=J;try{return w()}finally{T=oe}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(w,J){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var oe=T;T=w;try{return J()}finally{T=oe}},n.unstable_scheduleCallback=function(w,J,oe){var Ee=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ee+oe:Ee):oe=Ee,w){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=oe+y,w={id:g++,callback:J,priorityLevel:w,startTime:oe,expirationTime:y,sortIndex:-1},oe>Ee?(w.sortIndex=oe,t(m,w),s(h)===null&&w===s(m)&&(b?(P(z),z=-1):b=!0,X(Y,oe-Ee))):(w.sortIndex=y,t(h,w),S||_||(S=!0,x||(x=!0,ne()))),w},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(w){var J=T;return function(){var oe=T;T=J;try{return w.apply(this,arguments)}finally{T=oe}}}})(zc)),zc}var rg;function m0(){return rg||(rg=1,Fc.exports=p0()),Fc.exports}var Gc={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function f0(){if(og)return bn;og=1;var n=Ld();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(h,m,g){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:h,containerInfo:m,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(h,m,null,g)},bn.flushSync=function(h){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=m,r.p=g,r.d.f()}},bn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},bn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},bn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,C=p(g,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:C,integrity:T,fetchPriority:_}):g==="script"&&r.d.X(h,{crossOrigin:C,integrity:T,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},bn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=p(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},bn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,C=p(g,m.crossOrigin);r.d.L(h,g,{crossOrigin:C,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},bn.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=p(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},bn.requestFormReset=function(h){r.d.r(h)},bn.unstable_batchedUpdates=function(h,m){return h(m)},bn.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.2.4",bn}var lg;function h0(){if(lg)return Gc.exports;lg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gc.exports=f0(),Gc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function g0(){if(ug)return nr;ug=1;var n=m0(),t=Ld(),s=h0();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(r(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return h(d),e;if(f===o)return h(d),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=d,o=f;else{for(var v=!1,A=d.child;A;){if(A===a){v=!0,a=d,o=f;break}if(A===o){v=!0,o=d,a=f;break}A=A.sibling}if(!v){for(A=f.child;A;){if(A===a){v=!0,a=f,o=d;break}if(A===o){v=!0,o=f,a=d;break}A=A.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var C=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case R:return"Profiler";case D:return"StrictMode";case Y:return"Suspense";case x:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case N:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case $:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case te:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var X=Array.isArray,w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ee=[],y=-1;function q(e){return{current:e}}function H(e){0>y||(e.current=Ee[y],Ee[y]=null,y--)}function E(e,i){y++,Ee[y]=e.current,e.current=i}var se=q(null),fe=q(null),ce=q(null),Oe=q(null);function We(e,i){switch(E(ce,i),E(fe,e),E(se,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Mh(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Mh(i),e=bh(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(se),E(se,e)}function Ue(){H(se),H(fe),H(ce)}function et(e){e.memoizedState!==null&&E(Oe,e);var i=se.current,a=bh(i,e.type);i!==a&&(E(fe,e),E(se,a))}function Rt(e){fe.current===e&&(H(se),H(fe)),Oe.current===e&&(H(Oe),Wa._currentValue=oe)}var oa,yr;function yt(e){if(oa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);oa=i&&i[1]||"",yr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+e+yr}var es=!1;function ns(e,i){if(!e||es)return"";es=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(F){var U=F}Reflect.construct(e,[],K)}else{try{K.call()}catch(F){U=F}e.call(K.prototype)}}else{try{throw Error()}catch(F){U=F}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(F){if(F&&U&&typeof F.stack=="string")return[F.stack,U.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],A=f[1];if(v&&A){var O=v.split(`
`),j=A.split(`
`);for(d=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(o===O.length||d===j.length)for(o=O.length-1,d=j.length-1;1<=o&&0<=d&&O[o]!==j[d];)d--;for(;1<=o&&0<=d;o--,d--)if(O[o]!==j[d]){if(o!==1||d!==1)do if(o--,d--,0>d||O[o]!==j[d]){var G=`
`+O[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=d);break}}}finally{es=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yt(a):""}function Or(e,i){switch(e.tag){case 26:case 27:case 5:return yt(e.type);case 16:return yt("Lazy");case 13:return e.child!==i&&i!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return yt("Activity");default:return""}}function Dr(e){try{var i="",a=null;do i+=Or(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ts=Object.prototype.hasOwnProperty,is=n.unstable_scheduleCallback,la=n.unstable_cancelCallback,El=n.unstable_shouldYield,Ml=n.unstable_requestPaint,On=n.unstable_now,bl=n.unstable_getCurrentPriorityLevel,B=n.unstable_ImmediatePriority,ee=n.unstable_UserBlockingPriority,Ce=n.unstable_NormalPriority,Me=n.unstable_LowPriority,Le=n.unstable_IdlePriority,zn=n.log,Ot=n.unstable_setDisableYieldValue,Dn=null,pn=null;function Nn(e){if(typeof zn=="function"&&Ot(e),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Dn,e)}catch{}}var Ge=Math.clz32?Math.clz32:Jv,Wt=Math.log,pt=Math.LN2;function Jv(e){return e>>>=0,e===0?32:31-(Wt(e)/pt|0)|0}var qr=256,Vr=262144,Nr=4194304;function Ri(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pr(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var d=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var A=o&134217727;return A!==0?(o=A&~f,o!==0?d=Ri(o):(v&=A,v!==0?d=Ri(v):a||(a=A&~e,a!==0&&(d=Ri(a))))):(A=o&~f,A!==0?d=Ri(A):v!==0?d=Ri(v):a||(a=o&~e,a!==0&&(d=Ri(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function ua(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Wv(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sp(){var e=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),e}function Rl(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ca(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yv(e,i,a,o,d,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,O=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Ge(a),K=1<<G;A[G]=0,O[G]=-1;var U=j[G];if(U!==null)for(j[G]=null,G=0;G<U.length;G++){var F=U[G];F!==null&&(F.lane&=-536870913)}a&=~K}o!==0&&ap(e,o,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function ap(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ge(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function rp(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Ge(a),d=1<<o;d&i|e[o]&i&&(e[o]|=i),a&=~d}}function op(e,i){var a=i&-i;return a=(a&42)!==0?1:yl(a),(a&(e.suspendedLanes|i))!==0?0:a}function yl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ol(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lp(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:$h(e.type))}function up(e,i){var a=J.p;try{return J.p=e,i()}finally{J.p=a}}var Yt=Math.random().toString(36).slice(2),vn="__reactFiber$"+Yt,Pn="__reactProps$"+Yt,ss="__reactContainer$"+Yt,Dl="__reactEvents$"+Yt,Xv="__reactListeners$"+Yt,Zv="__reactHandles$"+Yt,cp="__reactResources$"+Yt,da="__reactMarker$"+Yt;function ql(e){delete e[vn],delete e[Pn],delete e[Dl],delete e[Xv],delete e[Zv]}function as(e){var i=e[vn];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ss]||a[vn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Nh(e);e!==null;){if(a=e[vn])return a;e=Nh(e)}return i}e=a,a=e.parentNode}return null}function rs(e){if(e=e[vn]||e[ss]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pa(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function os(e){var i=e[cp];return i||(i=e[cp]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function hn(e){e[da]=!0}var dp=new Set,pp={};function yi(e,i){ls(e,i),ls(e+"Capture",i)}function ls(e,i){for(pp[e]=i,e=0;e<i.length;e++)dp.add(i[e])}var e_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mp={},fp={};function n_(e){return ts.call(fp,e)?!0:ts.call(mp,e)?!1:e_.test(e)?fp[e]=!0:(mp[e]=!0,!1)}function Ir(e,i,a){if(n_(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function xr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Dt(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hp(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function t_(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Vl(e){if(!e._valueTracker){var i=hp(e)?"checked":"value";e._valueTracker=t_(e,i,""+e[i])}}function gp(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=hp(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var i_=/[\n"\\]/g;function tt(e){return e.replace(i_,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nl(e,i,a,o,d,f,v,A){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+nt(i)):e.value!==""+nt(i)&&(e.value=""+nt(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Pl(e,v,nt(i)):a!=null?Pl(e,v,nt(a)):o!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+nt(A):e.removeAttribute("name")}function Cp(e,i,a,o,d,f,v,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Vl(e);return}a=a!=null?""+nt(a):"",i=i!=null?""+nt(i):a,A||i===e.value||(e.value=i),e.defaultValue=i}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=A?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Vl(e)}function Pl(e,i,a){i==="number"&&Lr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function us(e,i,a,o){if(e=e.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=i.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&o&&(e[a].defaultSelected=!0)}else{for(a=""+nt(a),i=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function vp(e,i,a){if(i!=null&&(i=""+nt(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+nt(a):""}function _p(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(X(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=nt(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Vl(e)}function cs(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var s_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tp(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||s_.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ap(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in i)o=i[d],i.hasOwnProperty(d)&&a[d]!==o&&Tp(e,d,o)}else for(var f in i)i.hasOwnProperty(f)&&Tp(e,f,i[f])}function Il(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jr(e){return r_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qt(){}var xl=null;function Ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,ps=null;function Sp(e){var i=rs(e);if(i&&(e=i.stateNode)){var a=e[Pn]||null;e:switch(e=i.stateNode,i.type){case"input":if(Nl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var d=o[Pn]||null;if(!d)throw Error(r(90));Nl(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&gp(o)}break e;case"textarea":vp(e,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&us(e,!!a.multiple,i,!1)}}}var jl=!1;function Ep(e,i,a){if(jl)return e(i,a);jl=!0;try{var o=e(i);return o}finally{if(jl=!1,(ds!==null||ps!==null)&&(bo(),ds&&(i=ds,e=ps,ps=ds=null,Sp(i),e)))for(i=0;i<e.length;i++)Sp(e[i])}}function ma(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Pn]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(Vt)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){wl=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{wl=!1}var Xt=null,Ul=null,wr=null;function Mp(){if(wr)return wr;var e,i=Ul,a=i.length,o,d="value"in Xt?Xt.value:Xt.textContent,f=d.length;for(e=0;e<a&&i[e]===d[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===d[f-o];o++);return wr=d.slice(e,1<o?1-o:void 0)}function Ur(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function kr(){return!0}function bp(){return!1}function In(e){function i(a,o,d,f,v){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kr:bp,this.isPropagationStopped=bp,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),i}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fr=In(Oi),ha=C({},Oi,{view:0,detail:0}),o_=In(ha),kl,Fl,ga,zr=C({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ga&&(ga&&e.type==="mousemove"?(kl=e.screenX-ga.screenX,Fl=e.screenY-ga.screenY):Fl=kl=0,ga=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),Rp=In(zr),l_=C({},zr,{dataTransfer:0}),u_=In(l_),c_=C({},ha,{relatedTarget:0}),zl=In(c_),d_=C({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),p_=In(d_),m_=C({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f_=In(m_),h_=C({},Oi,{data:0}),yp=In(h_),g_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function __(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=v_[e])?!!i[e]:!1}function Gl(){return __}var T_=C({},ha,{key:function(e){if(e.key){var i=g_[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ur(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gl,charCode:function(e){return e.type==="keypress"?Ur(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ur(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A_=In(T_),S_=C({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=In(S_),E_=C({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gl}),M_=In(E_),b_=C({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R_=In(b_),y_=C({},zr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O_=In(y_),D_=C({},Oi,{newState:0,oldState:0}),q_=In(D_),V_=[9,13,27,32],Hl=Vt&&"CompositionEvent"in window,Ca=null;Vt&&"documentMode"in document&&(Ca=document.documentMode);var N_=Vt&&"TextEvent"in window&&!Ca,Dp=Vt&&(!Hl||Ca&&8<Ca&&11>=Ca),qp=" ",Vp=!1;function Np(e,i){switch(e){case"keyup":return V_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function P_(e,i){switch(e){case"compositionend":return Pp(i);case"keypress":return i.which!==32?null:(Vp=!0,qp);case"textInput":return e=i.data,e===qp&&Vp?null:e;default:return null}}function I_(e,i){if(ms)return e==="compositionend"||!Hl&&Np(e,i)?(e=Mp(),wr=Ul=Xt=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Dp&&i.locale!=="ko"?null:i.data;default:return null}}var x_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!x_[e.type]:i==="textarea"}function xp(e,i,a,o){ds?ps?ps.push(o):ps=[o]:ds=o,i=No(i,"onChange"),0<i.length&&(a=new Fr("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var va=null,_a=null;function L_(e){vh(e,0)}function Gr(e){var i=pa(e);if(gp(i))return e}function Lp(e,i){if(e==="change")return i}var jp=!1;if(Vt){var Bl;if(Vt){var Ql="oninput"in document;if(!Ql){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),Ql=typeof wp.oninput=="function"}Bl=Ql}else Bl=!1;jp=Bl&&(!document.documentMode||9<document.documentMode)}function Up(){va&&(va.detachEvent("onpropertychange",kp),_a=va=null)}function kp(e){if(e.propertyName==="value"&&Gr(_a)){var i=[];xp(i,_a,e,Ll(e)),Ep(L_,i)}}function j_(e,i,a){e==="focusin"?(Up(),va=i,_a=a,va.attachEvent("onpropertychange",kp)):e==="focusout"&&Up()}function w_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gr(_a)}function U_(e,i){if(e==="click")return Gr(i)}function k_(e,i){if(e==="input"||e==="change")return Gr(i)}function F_(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Gn=typeof Object.is=="function"?Object.is:F_;function Ta(e,i){if(Gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!ts.call(i,d)||!Gn(e[d],i[d]))return!1}return!0}function Fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,i){var a=Fp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fp(a)}}function Gp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Gp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Hp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Lr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Lr(e.document)}return i}function Kl(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var z_=Vt&&"documentMode"in document&&11>=document.documentMode,fs=null,$l=null,Aa=null,Jl=!1;function Bp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jl||fs==null||fs!==Lr(o)||(o=fs,"selectionStart"in o&&Kl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Aa&&Ta(Aa,o)||(Aa=o,o=No($l,"onSelect"),0<o.length&&(i=new Fr("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=fs)))}function Di(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var hs={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionrun:Di("Transition","TransitionRun"),transitionstart:Di("Transition","TransitionStart"),transitioncancel:Di("Transition","TransitionCancel"),transitionend:Di("Transition","TransitionEnd")},Wl={},Qp={};Vt&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function qi(e){if(Wl[e])return Wl[e];if(!hs[e])return e;var i=hs[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qp)return Wl[e]=i[a];return e}var Kp=qi("animationend"),$p=qi("animationiteration"),Jp=qi("animationstart"),G_=qi("transitionrun"),H_=qi("transitionstart"),B_=qi("transitioncancel"),Wp=qi("transitionend"),Yp=new Map,Yl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yl.push("scrollEnd");function mt(e,i){Yp.set(e,i),yi(i,[e])}var Hr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},it=[],gs=0,Xl=0;function Br(){for(var e=gs,i=Xl=gs=0;i<e;){var a=it[i];it[i++]=null;var o=it[i];it[i++]=null;var d=it[i];it[i++]=null;var f=it[i];if(it[i++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}f!==0&&Xp(a,d,f)}}function Qr(e,i,a,o){it[gs++]=e,it[gs++]=i,it[gs++]=a,it[gs++]=o,Xl|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Zl(e,i,a,o){return Qr(e,i,a,o),Kr(e)}function Vi(e,i){return Qr(e,null,null,i),Kr(e)}function Xp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var d=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&i!==null&&(d=31-Ge(a),e=f.hiddenUpdates,o=e[d],o===null?e[d]=[i]:o.push(i),i.lane=a|536870912),f):null}function Kr(e){if(50<Ga)throw Ga=0,lc=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Cs={};function Q_(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,i,a,o){return new Q_(e,i,a,o)}function eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nt(e,i){var a=e.alternate;return a===null?(a=Hn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Zp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function $r(e,i,a,o,d,f){var v=0;if(o=e,typeof e=="function")eu(e)&&(v=1);else if(typeof e=="string")v=YT(e,a,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=Hn(31,a,i,d),e.elementType=ae,e.lanes=f,e;case b:return Ni(a.children,d,f,i);case D:v=8,d|=24;break;case R:return e=Hn(12,a,i,d|2),e.elementType=R,e.lanes=f,e;case Y:return e=Hn(13,a,i,d),e.elementType=Y,e.lanes=f,e;case x:return e=Hn(19,a,i,d),e.elementType=x,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:v=10;break e;case P:v=9;break e;case $:v=11;break e;case z:v=14;break e;case te:v=16,o=null;break e}v=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=Hn(v,a,i,d),i.elementType=e,i.type=o,i.lanes=f,i}function Ni(e,i,a,o){return e=Hn(7,e,o,i),e.lanes=a,e}function nu(e,i,a){return e=Hn(6,e,null,i),e.lanes=a,e}function em(e){var i=Hn(18,null,null,0);return i.stateNode=e,i}function tu(e,i,a){return i=Hn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var nm=new WeakMap;function st(e,i){if(typeof e=="object"&&e!==null){var a=nm.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Dr(i)},nm.set(e,i),i)}return{value:e,source:i,stack:Dr(i)}}var vs=[],_s=0,Jr=null,Sa=0,at=[],rt=0,Zt=null,Tt=1,At="";function Pt(e,i){vs[_s++]=Sa,vs[_s++]=Jr,Jr=e,Sa=i}function tm(e,i,a){at[rt++]=Tt,at[rt++]=At,at[rt++]=Zt,Zt=e;var o=Tt;e=At;var d=32-Ge(o)-1;o&=~(1<<d),a+=1;var f=32-Ge(i)+d;if(30<f){var v=d-d%5;f=(o&(1<<v)-1).toString(32),o>>=v,d-=v,Tt=1<<32-Ge(i)+d|a<<d|o,At=f+e}else Tt=1<<f|a<<d|o,At=e}function iu(e){e.return!==null&&(Pt(e,1),tm(e,1,0))}function su(e){for(;e===Jr;)Jr=vs[--_s],vs[_s]=null,Sa=vs[--_s],vs[_s]=null;for(;e===Zt;)Zt=at[--rt],at[rt]=null,At=at[--rt],at[rt]=null,Tt=at[--rt],at[rt]=null}function im(e,i){at[rt++]=Tt,at[rt++]=At,at[rt++]=Zt,Tt=i.id,At=i.overflow,Zt=e}var _n=null,$e=null,Ve=!1,ei=null,ot=!1,au=Error(r(519));function ni(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ea(st(i,e)),au}function sm(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[vn]=e,i[Pn]=o,a){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(a=0;a<Ba.length;a++)Re(Ba[a],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":Re("invalid",i),Cp(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Re("invalid",i);break;case"textarea":Re("invalid",i),_p(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Sh(i.textContent,a)?(o.popover!=null&&(Re("beforetoggle",i),Re("toggle",i)),o.onScroll!=null&&Re("scroll",i),o.onScrollEnd!=null&&Re("scrollend",i),o.onClick!=null&&(i.onclick=qt),i=!0):i=!1,i||ni(e,!0)}function am(e){for(_n=e.return;_n;)switch(_n.tag){case 5:case 31:case 13:ot=!1;return;case 27:case 3:ot=!0;return;default:_n=_n.return}}function Ts(e){if(e!==_n)return!1;if(!Ve)return am(e),Ve=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ec(e.type,e.memoizedProps)),a=!a),a&&$e&&ni(e),am(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$e=Vh(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$e=Vh(e)}else i===27?(i=$e,hi(e.type)?(e=Oc,Oc=null,$e=e):$e=i):$e=_n?ut(e.stateNode.nextSibling):null;return!0}function Pi(){$e=_n=null,Ve=!1}function ru(){var e=ei;return e!==null&&(wn===null?wn=e:wn.push.apply(wn,e),ei=null),e}function Ea(e){ei===null?ei=[e]:ei.push(e)}var ou=q(null),Ii=null,It=null;function ti(e,i,a){E(ou,i._currentValue),i._currentValue=a}function xt(e){e._currentValue=ou.current,H(ou)}function lu(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function uu(e,i,a,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=d;for(var O=0;O<i.length;O++)if(A.context===i[O]){f.lanes|=a,A=f.alternate,A!==null&&(A.lanes|=a),lu(f.return,a,e),o||(v=null);break e}f=A.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),lu(v,a,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function As(e,i,a,o){e=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var A=d.type;Gn(d.pendingProps.value,v.value)||(e!==null?e.push(A):e=[A])}}else if(d===Oe.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Wa):e=[Wa])}d=d.return}e!==null&&uu(i,e,a,o),i.flags|=262144}function Wr(e){for(e=e.firstContext;e!==null;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xi(e){Ii=e,It=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tn(e){return rm(Ii,e)}function Yr(e,i){return Ii===null&&xi(e),rm(e,i)}function rm(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},It===null){if(e===null)throw Error(r(308));It=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else It=It.next=i;return a}var K_=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},$_=n.unstable_scheduleCallback,J_=n.unstable_NormalPriority,rn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cu(){return{controller:new K_,data:new Map,refCount:0}}function Ma(e){e.refCount--,e.refCount===0&&$_(J_,function(){e.controller.abort()})}var ba=null,du=0,Ss=0,Es=null;function W_(e,i){if(ba===null){var a=ba=[];du=0,Ss=fc(),Es={status:"pending",value:void 0,then:function(o){a.push(o)}}}return du++,i.then(om,om),i}function om(){if(--du===0&&ba!==null){Es!==null&&(Es.status="fulfilled");var e=ba;ba=null,Ss=0,Es=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Y_(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(o.status="rejected",o.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),o}var lm=w.S;w.S=function(e,i){Qf=On(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&W_(e,i),lm!==null&&lm(e,i)};var Li=q(null);function pu(){var e=Li.current;return e!==null?e:He.pooledCache}function Xr(e,i){i===null?E(Li,Li.current):E(Li,i.pool)}function um(){var e=pu();return e===null?null:{parent:rn._currentValue,pool:e}}var Ms=Error(r(460)),mu=Error(r(474)),Zr=Error(r(542)),eo={then:function(){}};function cm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dm(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(qt,qt),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,mm(e),e;default:if(typeof i.status=="string")i.then(qt,qt);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=o}},function(o){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,mm(e),e}throw wi=i,Ms}}function ji(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(wi=a,Ms):a}}var wi=null;function pm(){if(wi===null)throw Error(r(459));var e=wi;return wi=null,e}function mm(e){if(e===Ms||e===Zr)throw Error(r(483))}var bs=null,Ra=0;function no(e){var i=Ra;return Ra+=1,bs===null&&(bs=[]),dm(bs,e,i)}function ya(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function to(e,i){throw i.$$typeof===T?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function fm(e){function i(I,V){if(e){var L=I.deletions;L===null?(I.deletions=[V],I.flags|=16):L.push(V)}}function a(I,V){if(!e)return null;for(;V!==null;)i(I,V),V=V.sibling;return null}function o(I){for(var V=new Map;I!==null;)I.key!==null?V.set(I.key,I):V.set(I.index,I),I=I.sibling;return V}function d(I,V){return I=Nt(I,V),I.index=0,I.sibling=null,I}function f(I,V,L){return I.index=L,e?(L=I.alternate,L!==null?(L=L.index,L<V?(I.flags|=67108866,V):L):(I.flags|=67108866,V)):(I.flags|=1048576,V)}function v(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function A(I,V,L,Q){return V===null||V.tag!==6?(V=nu(L,I.mode,Q),V.return=I,V):(V=d(V,L),V.return=I,V)}function O(I,V,L,Q){var de=L.type;return de===b?G(I,V,L.props.children,Q,L.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===te&&ji(de)===V.type)?(V=d(V,L.props),ya(V,L),V.return=I,V):(V=$r(L.type,L.key,L.props,null,I.mode,Q),ya(V,L),V.return=I,V)}function j(I,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=tu(L,I.mode,Q),V.return=I,V):(V=d(V,L.children||[]),V.return=I,V)}function G(I,V,L,Q,de){return V===null||V.tag!==7?(V=Ni(L,I.mode,Q,de),V.return=I,V):(V=d(V,L),V.return=I,V)}function K(I,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=nu(""+V,I.mode,L),V.return=I,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return L=$r(V.type,V.key,V.props,null,I.mode,L),ya(L,V),L.return=I,L;case S:return V=tu(V,I.mode,L),V.return=I,V;case te:return V=ji(V),K(I,V,L)}if(X(V)||ne(V))return V=Ni(V,I.mode,L,null),V.return=I,V;if(typeof V.then=="function")return K(I,no(V),L);if(V.$$typeof===N)return K(I,Yr(I,V),L);to(I,V)}return null}function U(I,V,L,Q){var de=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return de!==null?null:A(I,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return L.key===de?O(I,V,L,Q):null;case S:return L.key===de?j(I,V,L,Q):null;case te:return L=ji(L),U(I,V,L,Q)}if(X(L)||ne(L))return de!==null?null:G(I,V,L,Q,null);if(typeof L.then=="function")return U(I,V,no(L),Q);if(L.$$typeof===N)return U(I,V,Yr(I,L),Q);to(I,L)}return null}function F(I,V,L,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return I=I.get(L)||null,A(V,I,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return I=I.get(Q.key===null?L:Q.key)||null,O(V,I,Q,de);case S:return I=I.get(Q.key===null?L:Q.key)||null,j(V,I,Q,de);case te:return Q=ji(Q),F(I,V,L,Q,de)}if(X(Q)||ne(Q))return I=I.get(L)||null,G(V,I,Q,de,null);if(typeof Q.then=="function")return F(I,V,L,no(Q),de);if(Q.$$typeof===N)return F(I,V,L,Yr(V,Q),de);to(V,Q)}return null}function re(I,V,L,Q){for(var de=null,Pe=null,le=V,Ae=V=0,qe=null;le!==null&&Ae<L.length;Ae++){le.index>Ae?(qe=le,le=null):qe=le.sibling;var Ie=U(I,le,L[Ae],Q);if(Ie===null){le===null&&(le=qe);break}e&&le&&Ie.alternate===null&&i(I,le),V=f(Ie,V,Ae),Pe===null?de=Ie:Pe.sibling=Ie,Pe=Ie,le=qe}if(Ae===L.length)return a(I,le),Ve&&Pt(I,Ae),de;if(le===null){for(;Ae<L.length;Ae++)le=K(I,L[Ae],Q),le!==null&&(V=f(le,V,Ae),Pe===null?de=le:Pe.sibling=le,Pe=le);return Ve&&Pt(I,Ae),de}for(le=o(le);Ae<L.length;Ae++)qe=F(le,I,Ae,L[Ae],Q),qe!==null&&(e&&qe.alternate!==null&&le.delete(qe.key===null?Ae:qe.key),V=f(qe,V,Ae),Pe===null?de=qe:Pe.sibling=qe,Pe=qe);return e&&le.forEach(function(Ti){return i(I,Ti)}),Ve&&Pt(I,Ae),de}function me(I,V,L,Q){if(L==null)throw Error(r(151));for(var de=null,Pe=null,le=V,Ae=V=0,qe=null,Ie=L.next();le!==null&&!Ie.done;Ae++,Ie=L.next()){le.index>Ae?(qe=le,le=null):qe=le.sibling;var Ti=U(I,le,Ie.value,Q);if(Ti===null){le===null&&(le=qe);break}e&&le&&Ti.alternate===null&&i(I,le),V=f(Ti,V,Ae),Pe===null?de=Ti:Pe.sibling=Ti,Pe=Ti,le=qe}if(Ie.done)return a(I,le),Ve&&Pt(I,Ae),de;if(le===null){for(;!Ie.done;Ae++,Ie=L.next())Ie=K(I,Ie.value,Q),Ie!==null&&(V=f(Ie,V,Ae),Pe===null?de=Ie:Pe.sibling=Ie,Pe=Ie);return Ve&&Pt(I,Ae),de}for(le=o(le);!Ie.done;Ae++,Ie=L.next())Ie=F(le,I,Ae,Ie.value,Q),Ie!==null&&(e&&Ie.alternate!==null&&le.delete(Ie.key===null?Ae:Ie.key),V=f(Ie,V,Ae),Pe===null?de=Ie:Pe.sibling=Ie,Pe=Ie);return e&&le.forEach(function(l0){return i(I,l0)}),Ve&&Pt(I,Ae),de}function ze(I,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===b&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case _:e:{for(var de=L.key;V!==null;){if(V.key===de){if(de=L.type,de===b){if(V.tag===7){a(I,V.sibling),Q=d(V,L.props.children),Q.return=I,I=Q;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===te&&ji(de)===V.type){a(I,V.sibling),Q=d(V,L.props),ya(Q,L),Q.return=I,I=Q;break e}a(I,V);break}else i(I,V);V=V.sibling}L.type===b?(Q=Ni(L.props.children,I.mode,Q,L.key),Q.return=I,I=Q):(Q=$r(L.type,L.key,L.props,null,I.mode,Q),ya(Q,L),Q.return=I,I=Q)}return v(I);case S:e:{for(de=L.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(I,V.sibling),Q=d(V,L.children||[]),Q.return=I,I=Q;break e}else{a(I,V);break}else i(I,V);V=V.sibling}Q=tu(L,I.mode,Q),Q.return=I,I=Q}return v(I);case te:return L=ji(L),ze(I,V,L,Q)}if(X(L))return re(I,V,L,Q);if(ne(L)){if(de=ne(L),typeof de!="function")throw Error(r(150));return L=de.call(L),me(I,V,L,Q)}if(typeof L.then=="function")return ze(I,V,no(L),Q);if(L.$$typeof===N)return ze(I,V,Yr(I,L),Q);to(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(I,V.sibling),Q=d(V,L),Q.return=I,I=Q):(a(I,V),Q=nu(L,I.mode,Q),Q.return=I,I=Q),v(I)):a(I,V)}return function(I,V,L,Q){try{Ra=0;var de=ze(I,V,L,Q);return bs=null,de}catch(le){if(le===Ms||le===Zr)throw le;var Pe=Hn(29,le,null,I.mode);return Pe.lanes=Q,Pe.return=I,Pe}finally{}}}var Ui=fm(!0),hm=fm(!1),ii=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hu(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(xe&2)!==0){var d=o.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),o.pending=i,i=Kr(e),Xp(e,null,a),i}return Qr(e,o,i,a),Kr(e)}function Oa(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,rp(e,a)}}function gu(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Cu=!1;function Da(){if(Cu){var e=Es;if(e!==null)throw e}}function qa(e,i,a,o){Cu=!1;var d=e.updateQueue;ii=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var O=A,j=O.next;O.next=null,v===null?f=j:v.next=j,v=O;var G=e.alternate;G!==null&&(G=G.updateQueue,A=G.lastBaseUpdate,A!==v&&(A===null?G.firstBaseUpdate=j:A.next=j,G.lastBaseUpdate=O))}if(f!==null){var K=d.baseState;v=0,G=j=O=null,A=f;do{var U=A.lane&-536870913,F=U!==A.lane;if(F?(De&U)===U:(o&U)===U){U!==0&&U===Ss&&(Cu=!0),G!==null&&(G=G.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var re=e,me=A;U=i;var ze=a;switch(me.tag){case 1:if(re=me.payload,typeof re=="function"){K=re.call(ze,K,U);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=me.payload,U=typeof re=="function"?re.call(ze,K,U):re,U==null)break e;K=C({},K,U);break e;case 2:ii=!0}}U=A.callback,U!==null&&(e.flags|=64,F&&(e.flags|=8192),F=d.callbacks,F===null?d.callbacks=[U]:F.push(U))}else F={lane:U,tag:A.tag,payload:A.payload,callback:A.callback,next:null},G===null?(j=G=F,O=K):G=G.next=F,v|=U;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;F=A,A=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);G===null&&(O=K),d.baseState=O,d.firstBaseUpdate=j,d.lastBaseUpdate=G,f===null&&(d.shared.lanes=0),ci|=v,e.lanes=v,e.memoizedState=K}}function gm(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Cm(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gm(a[e],i)}var Rs=q(null),io=q(0);function vm(e,i){e=Ht,E(io,e),E(Rs,i),Ht=e|i.baseLanes}function vu(){E(io,Ht),E(Rs,Rs.current)}function _u(){Ht=io.current,H(Rs),H(io)}var Bn=q(null),lt=null;function ri(e){var i=e.alternate;E(sn,sn.current&1),E(Bn,e),lt===null&&(i===null||Rs.current!==null||i.memoizedState!==null)&&(lt=e)}function Tu(e){E(sn,sn.current),E(Bn,e),lt===null&&(lt=e)}function _m(e){e.tag===22?(E(sn,sn.current),E(Bn,e),lt===null&&(lt=e)):oi()}function oi(){E(sn,sn.current),E(Bn,Bn.current)}function Qn(e){H(Bn),lt===e&&(lt=null),H(sn)}var sn=q(0);function so(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rc(a)||yc(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Lt=0,Te=null,ke=null,on=null,ao=!1,ys=!1,ki=!1,ro=0,Va=0,Os=null,X_=0;function Ze(){throw Error(r(321))}function Au(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Gn(e[a],i[a]))return!1;return!0}function Su(e,i,a,o,d,f){return Lt=f,Te=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=e===null||e.memoizedState===null?tf:ju,ki=!1,f=a(o,d),ki=!1,ys&&(f=Am(i,a,o,d)),Tm(e),f}function Tm(e){w.H=Ia;var i=ke!==null&&ke.next!==null;if(Lt=0,on=ke=Te=null,ao=!1,Va=0,Os=null,i)throw Error(r(300));e===null||ln||(e=e.dependencies,e!==null&&Wr(e)&&(ln=!0))}function Am(e,i,a,o){Te=e;var d=0;do{if(ys&&(Os=null),Va=0,ys=!1,25<=d)throw Error(r(301));if(d+=1,on=ke=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}w.H=sf,f=i(a,o)}while(ys);return f}function Z_(){var e=w.H,i=e.useState()[0];return i=typeof i.then=="function"?Na(i):i,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(Te.flags|=1024),i}function Eu(){var e=ro!==0;return ro=0,e}function Mu(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function bu(e){if(ao){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ao=!1}Lt=0,on=ke=Te=null,ys=!1,Va=ro=0,Os=null}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Te.memoizedState=on=e:on=on.next=e,on}function an(){if(ke===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var i=on===null?Te.memoizedState:on.next;if(i!==null)on=i,ke=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},on===null?Te.memoizedState=on=e:on=on.next=e}return on}function oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Na(e){var i=Va;return Va+=1,Os===null&&(Os=[]),e=dm(Os,e,i),i=Te,(on===null?i.memoizedState:on.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?tf:ju),e}function lo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Na(e);if(e.$$typeof===N)return Tn(e)}throw Error(r(438,String(e)))}function Ru(e){var i=null,a=Te.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Te.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oo(),Te.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=k;return i.index++,a}function jt(e,i){return typeof i=="function"?i(e):i}function uo(e){var i=an();return yu(i,ke,e)}function yu(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var d=e.baseQueue,f=o.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}i.baseQueue=d=f,o.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{i=d.next;var A=v=null,O=null,j=i,G=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(De&K)===K:(Lt&K)===K){var U=j.revertLane;if(U===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===Ss&&(G=!0);else if((Lt&U)===U){j=j.next,U===Ss&&(G=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(A=O=K,v=f):O=O.next=K,Te.lanes|=U,ci|=U;K=j.action,ki&&a(f,K),f=j.hasEagerState?j.eagerState:a(f,K)}else U={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(A=O=U,v=f):O=O.next=U,Te.lanes|=K,ci|=K;j=j.next}while(j!==null&&j!==i);if(O===null?v=f:O.next=A,!Gn(f,e.memoizedState)&&(ln=!0,G&&(a=Es,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=O,o.lastRenderedState=f}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ou(e){var i=an(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);Gn(f,i.memoizedState)||(ln=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Sm(e,i,a){var o=Te,d=an(),f=Ve;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!Gn((ke||d).memoizedState,a);if(v&&(d.memoizedState=a,ln=!0),d=d.queue,Vu(bm.bind(null,o,d,e),[e]),d.getSnapshot!==i||v||on!==null&&on.memoizedState.tag&1){if(o.flags|=2048,Ds(9,{destroy:void 0},Mm.bind(null,o,d,a,i),null),He===null)throw Error(r(349));f||(Lt&127)!==0||Em(o,i,a)}return a}function Em(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Te.updateQueue,i===null?(i=oo(),Te.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Mm(e,i,a,o){i.value=a,i.getSnapshot=o,Rm(i)&&ym(e)}function bm(e,i,a){return a(function(){Rm(i)&&ym(e)})}function Rm(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Gn(e,a)}catch{return!0}}function ym(e){var i=Vi(e,2);i!==null&&Un(i,e,2)}function Du(e){var i=qn();if(typeof e=="function"){var a=e;if(e=a(),ki){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jt,lastRenderedState:e},i}function Om(e,i,a,o){return e.baseState=a,yu(e,ke,typeof o=="function"?o:jt)}function eT(e,i,a,o,d){if(mo(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};w.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Dm(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Dm(e,i){var a=i.action,o=i.payload,d=e.state;if(i.isTransition){var f=w.T,v={};w.T=v;try{var A=a(d,o),O=w.S;O!==null&&O(v,A),qm(e,i,A)}catch(j){qu(e,i,j)}finally{f!==null&&v.types!==null&&(f.types=v.types),w.T=f}}else try{f=a(d,o),qm(e,i,f)}catch(j){qu(e,i,j)}}function qm(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Vm(e,i,o)},function(o){return qu(e,i,o)}):Vm(e,i,a)}function Vm(e,i,a){i.status="fulfilled",i.value=a,Nm(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Dm(e,a)))}function qu(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Nm(i),i=i.next;while(i!==o)}e.action=null}function Nm(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Pm(e,i){return i}function Im(e,i){if(Ve){var a=He.formState;if(a!==null){e:{var o=Te;if(Ve){if($e){n:{for(var d=$e,f=ot;d.nodeType!==8;){if(!f){d=null;break n}if(d=ut(d.nextSibling),d===null){d=null;break n}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){$e=ut(d.nextSibling),o=d.data==="F!";break e}}ni(o)}o=!1}o&&(i=a[0])}}return a=qn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:i},a.queue=o,a=Zm.bind(null,Te,o),o.dispatch=a,o=Du(!1),f=Lu.bind(null,Te,!1,o.queue),o=qn(),d={state:i,dispatch:null,action:e,pending:null},o.queue=d,a=eT.bind(null,Te,d,f,a),d.dispatch=a,o.memoizedState=e,[i,a,!1]}function xm(e){var i=an();return Lm(i,ke,e)}function Lm(e,i,a){if(i=yu(e,i,Pm)[0],e=uo(jt)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Na(i)}catch(v){throw v===Ms?Zr:v}else o=i;i=an();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(Te.flags|=2048,Ds(9,{destroy:void 0},nT.bind(null,d,a),null)),[o,f,e]}function nT(e,i){e.action=i}function jm(e){var i=an(),a=ke;if(a!==null)return Lm(i,a,e);an(),i=i.memoizedState,a=an();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ds(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Te.updateQueue,i===null&&(i=oo(),Te.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function wm(){return an().memoizedState}function co(e,i,a,o){var d=qn();Te.flags|=e,d.memoizedState=Ds(1|i,{destroy:void 0},a,o===void 0?null:o)}function po(e,i,a,o){var d=an();o=o===void 0?null:o;var f=d.memoizedState.inst;ke!==null&&o!==null&&Au(o,ke.memoizedState.deps)?d.memoizedState=Ds(i,f,a,o):(Te.flags|=e,d.memoizedState=Ds(1|i,f,a,o))}function Um(e,i){co(8390656,8,e,i)}function Vu(e,i){po(2048,8,e,i)}function tT(e){Te.flags|=4;var i=Te.updateQueue;if(i===null)i=oo(),Te.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function km(e){var i=an().memoizedState;return tT({ref:i,nextImpl:e}),function(){if((xe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Fm(e,i){return po(4,2,e,i)}function zm(e,i){return po(4,4,e,i)}function Gm(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Hm(e,i,a){a=a!=null?a.concat([e]):null,po(4,4,Gm.bind(null,i,e),a)}function Nu(){}function Bm(e,i){var a=an();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Au(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Qm(e,i){var a=an();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Au(i,o[1]))return o[0];if(o=e(),ki){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[o,i],o}function Pu(e,i,a){return a===void 0||(Lt&1073741824)!==0&&(De&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=$f(),Te.lanes|=e,ci|=e,a)}function Km(e,i,a,o){return Gn(a,i)?a:Rs.current!==null?(e=Pu(e,a,o),Gn(e,i)||(ln=!0),e):(Lt&42)===0||(Lt&1073741824)!==0&&(De&261930)===0?(ln=!0,e.memoizedState=a):(e=$f(),Te.lanes|=e,ci|=e,i)}function $m(e,i,a,o,d){var f=J.p;J.p=f!==0&&8>f?f:8;var v=w.T,A={};w.T=A,Lu(e,!1,i,a);try{var O=d(),j=w.S;if(j!==null&&j(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=Y_(O,o);Pa(e,i,G,Jn(e))}else Pa(e,i,o,Jn(e))}catch(K){Pa(e,i,{then:function(){},status:"rejected",reason:K},Jn())}finally{J.p=f,v!==null&&A.types!==null&&(v.types=A.types),w.T=v}}function iT(){}function Iu(e,i,a,o){if(e.tag!==5)throw Error(r(476));var d=Jm(e).queue;$m(e,d,i,oe,a===null?iT:function(){return Wm(e),a(o)})}function Jm(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jt,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jt,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Wm(e){var i=Jm(e);i.next===null&&(i=e.alternate.memoizedState),Pa(e,i.next.queue,{},Jn())}function xu(){return Tn(Wa)}function Ym(){return an().memoizedState}function Xm(){return an().memoizedState}function sT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Jn();e=si(a);var o=ai(i,e,a);o!==null&&(Un(o,i,a),Oa(o,i,a)),i={cache:cu()},e.payload=i;return}i=i.return}}function aT(e,i,a){var o=Jn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mo(e)?ef(i,a):(a=Zl(e,i,a,o),a!==null&&(Un(a,e,o),nf(a,i,o)))}function Zm(e,i,a){var o=Jn();Pa(e,i,a,o)}function Pa(e,i,a,o){var d={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mo(e))ef(i,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,A=f(v,a);if(d.hasEagerState=!0,d.eagerState=A,Gn(A,v))return Qr(e,i,d,0),He===null&&Br(),!1}catch{}finally{}if(a=Zl(e,i,d,o),a!==null)return Un(a,e,o),nf(a,i,o),!0}return!1}function Lu(e,i,a,o){if(o={lane:2,revertLane:fc(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mo(e)){if(i)throw Error(r(479))}else i=Zl(e,a,o,2),i!==null&&Un(i,e,2)}function mo(e){var i=e.alternate;return e===Te||i!==null&&i===Te}function ef(e,i){ys=ao=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function nf(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,rp(e,a)}}var Ia={readContext:Tn,use:lo,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Ia.useEffectEvent=Ze;var tf={readContext:Tn,use:lo,useCallback:function(e,i){return qn().memoizedState=[e,i===void 0?null:i],e},useContext:Tn,useEffect:Um,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,co(4194308,4,Gm.bind(null,i,e),a)},useLayoutEffect:function(e,i){return co(4194308,4,e,i)},useInsertionEffect:function(e,i){co(4,2,e,i)},useMemo:function(e,i){var a=qn();i=i===void 0?null:i;var o=e();if(ki){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=qn();if(a!==void 0){var d=a(i);if(ki){Nn(!0);try{a(i)}finally{Nn(!1)}}}else d=i;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=aT.bind(null,Te,e),[o.memoizedState,e]},useRef:function(e){var i=qn();return e={current:e},i.memoizedState=e},useState:function(e){e=Du(e);var i=e.queue,a=Zm.bind(null,Te,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Nu,useDeferredValue:function(e,i){var a=qn();return Pu(a,e,i)},useTransition:function(){var e=Du(!1);return e=$m.bind(null,Te,e.queue,!0,!1),qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Te,d=qn();if(Ve){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),He===null)throw Error(r(349));(De&127)!==0||Em(o,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Um(bm.bind(null,o,f,e),[e]),o.flags|=2048,Ds(9,{destroy:void 0},Mm.bind(null,o,f,a,i),null),a},useId:function(){var e=qn(),i=He.identifierPrefix;if(Ve){var a=At,o=Tt;a=(o&~(1<<32-Ge(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ro++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=X_++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:xu,useFormState:Im,useActionState:Im,useOptimistic:function(e){var i=qn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Lu.bind(null,Te,!0,a),a.dispatch=i,[e,i]},useMemoCache:Ru,useCacheRefresh:function(){return qn().memoizedState=sT.bind(null,Te)},useEffectEvent:function(e){var i=qn(),a={impl:e};return i.memoizedState=a,function(){if((xe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ju={readContext:Tn,use:lo,useCallback:Bm,useContext:Tn,useEffect:Vu,useImperativeHandle:Hm,useInsertionEffect:Fm,useLayoutEffect:zm,useMemo:Qm,useReducer:uo,useRef:wm,useState:function(){return uo(jt)},useDebugValue:Nu,useDeferredValue:function(e,i){var a=an();return Km(a,ke.memoizedState,e,i)},useTransition:function(){var e=uo(jt)[0],i=an().memoizedState;return[typeof e=="boolean"?e:Na(e),i]},useSyncExternalStore:Sm,useId:Ym,useHostTransitionStatus:xu,useFormState:xm,useActionState:xm,useOptimistic:function(e,i){var a=an();return Om(a,ke,e,i)},useMemoCache:Ru,useCacheRefresh:Xm};ju.useEffectEvent=km;var sf={readContext:Tn,use:lo,useCallback:Bm,useContext:Tn,useEffect:Vu,useImperativeHandle:Hm,useInsertionEffect:Fm,useLayoutEffect:zm,useMemo:Qm,useReducer:Ou,useRef:wm,useState:function(){return Ou(jt)},useDebugValue:Nu,useDeferredValue:function(e,i){var a=an();return ke===null?Pu(a,e,i):Km(a,ke.memoizedState,e,i)},useTransition:function(){var e=Ou(jt)[0],i=an().memoizedState;return[typeof e=="boolean"?e:Na(e),i]},useSyncExternalStore:Sm,useId:Ym,useHostTransitionStatus:xu,useFormState:jm,useActionState:jm,useOptimistic:function(e,i){var a=an();return ke!==null?Om(a,ke,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:Xm};sf.useEffectEvent=km;function wu(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uu={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Jn(),d=si(o);d.payload=i,a!=null&&(d.callback=a),i=ai(e,d,o),i!==null&&(Un(i,e,o),Oa(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Jn(),d=si(o);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=ai(e,d,o),i!==null&&(Un(i,e,o),Oa(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Jn(),o=si(a);o.tag=2,i!=null&&(o.callback=i),i=ai(e,o,a),i!==null&&(Un(i,e,a),Oa(i,e,a))}};function af(e,i,a,o,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!Ta(a,o)||!Ta(d,f):!0}function rf(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Uu.enqueueReplaceState(i,i.state,null)}function Fi(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var d in e)a[d]===void 0&&(a[d]=e[d])}return a}function of(e){Hr(e)}function lf(e){console.error(e)}function uf(e){Hr(e)}function fo(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function cf(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ku(e,i,a){return a=si(a),a.tag=3,a.payload={element:null},a.callback=function(){fo(e,i)},a}function df(e){return e=si(e),e.tag=3,e}function pf(e,i,a,o){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;e.payload=function(){return d(f)},e.callback=function(){cf(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){cf(i,a,o),typeof d!="function"&&(di===null?di=new Set([this]):di.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function rT(e,i,a,o,d){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&As(i,a,d,!0),a=Bn.current,a!==null){switch(a.tag){case 31:case 13:return lt===null?Ro():a.alternate===null&&en===0&&(en=3),a.flags&=-257,a.flags|=65536,a.lanes=d,o===eo?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),dc(e,o,d)),!1;case 22:return a.flags|=65536,o===eo?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),dc(e,o,d)),!1}throw Error(r(435,a.tag))}return dc(e,o,d),Ro(),!1}if(Ve)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,o!==au&&(e=Error(r(422),{cause:o}),Ea(st(e,a)))):(o!==au&&(i=Error(r(423),{cause:o}),Ea(st(i,a))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=st(o,a),d=ku(e.stateNode,o,d),gu(e,d),en!==4&&(en=2)),!1;var f=Error(r(520),{cause:o});if(f=st(f,a),za===null?za=[f]:za.push(f),en!==4&&(en=2),i===null)return!0;o=st(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=d&-d,a.lanes|=e,e=ku(a.stateNode,o,e),gu(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(di===null||!di.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=df(d),pf(d,e,a,o),gu(a,d),!1}a=a.return}while(a!==null);return!1}var Fu=Error(r(461)),ln=!1;function An(e,i,a,o){i.child=e===null?hm(i,null,a,o):Ui(i,e.child,a,o)}function mf(e,i,a,o,d){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var A in o)A!=="ref"&&(v[A]=o[A])}else v=o;return xi(i),o=Su(e,i,a,v,f,d),A=Eu(),e!==null&&!ln?(Mu(e,i,d),wt(e,i,d)):(Ve&&A&&iu(i),i.flags|=1,An(e,i,o,d),i.child)}function ff(e,i,a,o,d){if(e===null){var f=a.type;return typeof f=="function"&&!eu(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,hf(e,i,f,o,d)):(e=$r(a.type,null,o,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Ju(e,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ta,a(v,o)&&e.ref===i.ref)return wt(e,i,d)}return i.flags|=1,e=Nt(f,o),e.ref=i.ref,e.return=i,i.child=e}function hf(e,i,a,o,d){if(e!==null){var f=e.memoizedProps;if(Ta(f,o)&&e.ref===i.ref)if(ln=!1,i.pendingProps=o=f,Ju(e,d))(e.flags&131072)!==0&&(ln=!0);else return i.lanes=e.lanes,wt(e,i,d)}return zu(e,i,a,o,d)}function gf(e,i,a,o){var d=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~f}else o=0,i.child=null;return Cf(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xr(i,f!==null?f.cachePool:null),f!==null?vm(i,f):vu(),_m(i);else return o=i.lanes=536870912,Cf(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Xr(i,f.cachePool),vm(i,f),oi(),i.memoizedState=null):(e!==null&&Xr(i,null),vu(),oi());return An(e,i,d,a),i.child}function xa(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Cf(e,i,a,o,d){var f=pu();return f=f===null?null:{parent:rn._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Xr(i,null),vu(),_m(i),e!==null&&As(e,i,o,!0),i.childLanes=d,null}function ho(e,i){return i=Co({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function vf(e,i,a){return Ui(i,e.child,null,a),e=ho(i,i.pendingProps),e.flags|=2,Qn(i),i.memoizedState=null,e}function oT(e,i,a){var o=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ve){if(o.mode==="hidden")return e=ho(i,o),i.lanes=536870912,xa(null,e);if(Tu(i),(e=$e)?(e=qh(e,ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Zt!==null?{id:Tt,overflow:At}:null,retryLane:536870912,hydrationErrors:null},a=em(e),a.return=i,i.child=a,_n=i,$e=null)):e=null,e===null)throw ni(i);return i.lanes=536870912,null}return ho(i,o)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(Tu(i),d)if(i.flags&256)i.flags&=-257,i=vf(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(ln||As(e,i,a,!1),d=(a&e.childLanes)!==0,ln||d){if(o=He,o!==null&&(v=op(o,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Vi(e,v),Un(o,e,v),Fu;Ro(),i=vf(e,i,a)}else e=f.treeContext,$e=ut(v.nextSibling),_n=i,Ve=!0,ei=null,ot=!1,e!==null&&im(i,e),i=ho(i,o),i.flags|=4096;return i}return e=Nt(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function go(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function zu(e,i,a,o,d){return xi(i),a=Su(e,i,a,o,void 0,d),o=Eu(),e!==null&&!ln?(Mu(e,i,d),wt(e,i,d)):(Ve&&o&&iu(i),i.flags|=1,An(e,i,a,d),i.child)}function _f(e,i,a,o,d,f){return xi(i),i.updateQueue=null,a=Am(i,o,a,d),Tm(e),o=Eu(),e!==null&&!ln?(Mu(e,i,f),wt(e,i,f)):(Ve&&o&&iu(i),i.flags|=1,An(e,i,a,f),i.child)}function Tf(e,i,a,o,d){if(xi(i),i.stateNode===null){var f=Cs,v=a.contextType;typeof v=="object"&&v!==null&&(f=Tn(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uu,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},fu(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Tn(v):Cs,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(wu(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Uu.enqueueReplaceState(f,f.state,null),qa(i,o,f,d),Da(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var A=i.memoizedProps,O=Fi(a,A);f.props=O;var j=f.context,G=a.contextType;v=Cs,typeof G=="object"&&G!==null&&(v=Tn(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||j!==v)&&rf(i,f,o,v),ii=!1;var U=i.memoizedState;f.state=U,qa(i,o,f,d),Da(),j=i.memoizedState,A||U!==j||ii?(typeof K=="function"&&(wu(i,a,K,o),j=i.memoizedState),(O=ii||af(i,a,O,o,U,j,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=v,o=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,hu(e,i),v=i.memoizedProps,G=Fi(a,v),f.props=G,K=i.pendingProps,U=f.context,j=a.contextType,O=Cs,typeof j=="object"&&j!==null&&(O=Tn(j)),A=a.getDerivedStateFromProps,(j=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||U!==O)&&rf(i,f,o,O),ii=!1,U=i.memoizedState,f.state=U,qa(i,o,f,d),Da();var F=i.memoizedState;v!==K||U!==F||ii||e!==null&&e.dependencies!==null&&Wr(e.dependencies)?(typeof A=="function"&&(wu(i,a,A,o),F=i.memoizedState),(G=ii||af(i,a,G,o,U,F,O)||e!==null&&e.dependencies!==null&&Wr(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=O,o=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,go(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Ui(i,e.child,null,d),i.child=Ui(i,null,a,d)):An(e,i,a,d),i.memoizedState=f.state,e=i.child):e=wt(e,i,d),e}function Af(e,i,a,o){return Pi(),i.flags|=256,An(e,i,a,o),i.child}var Gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hu(e){return{baseLanes:e,cachePool:um()}}function Bu(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=$n),e}function Sf(e,i,a){var o=i.pendingProps,d=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(sn.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ve){if(d?ri(i):oi(),(e=$e)?(e=qh(e,ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Zt!==null?{id:Tt,overflow:At}:null,retryLane:536870912,hydrationErrors:null},a=em(e),a.return=i,i.child=a,_n=i,$e=null)):e=null,e===null)throw ni(i);return yc(e)?i.lanes=32:i.lanes=536870912,null}var A=o.children;return o=o.fallback,d?(oi(),d=i.mode,A=Co({mode:"hidden",children:A},d),o=Ni(o,d,a,null),A.return=i,o.return=i,A.sibling=o,i.child=A,o=i.child,o.memoizedState=Hu(a),o.childLanes=Bu(e,v,a),i.memoizedState=Gu,xa(null,o)):(ri(i),Qu(i,A))}var O=e.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(f)i.flags&256?(ri(i),i.flags&=-257,i=Ku(e,i,a)):i.memoizedState!==null?(oi(),i.child=e.child,i.flags|=128,i=null):(oi(),A=o.fallback,d=i.mode,o=Co({mode:"visible",children:o.children},d),A=Ni(A,d,a,null),A.flags|=2,o.return=i,A.return=i,o.sibling=A,i.child=o,Ui(i,e.child,null,a),o=i.child,o.memoizedState=Hu(a),o.childLanes=Bu(e,v,a),i.memoizedState=Gu,i=xa(null,o));else if(ri(i),yc(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(r(419)),o.stack="",o.digest=v,Ea({value:o,source:null,stack:null}),i=Ku(e,i,a)}else if(ln||As(e,i,a,!1),v=(a&e.childLanes)!==0,ln||v){if(v=He,v!==null&&(o=op(v,a),o!==0&&o!==O.retryLane))throw O.retryLane=o,Vi(e,o),Un(v,e,o),Fu;Rc(A)||Ro(),i=Ku(e,i,a)}else Rc(A)?(i.flags|=192,i.child=e.child,i=null):(e=O.treeContext,$e=ut(A.nextSibling),_n=i,Ve=!0,ei=null,ot=!1,e!==null&&im(i,e),i=Qu(i,o.children),i.flags|=4096);return i}return d?(oi(),A=o.fallback,d=i.mode,O=e.child,j=O.sibling,o=Nt(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,j!==null?A=Nt(j,A):(A=Ni(A,d,a,null),A.flags|=2),A.return=i,o.return=i,o.sibling=A,i.child=o,xa(null,o),o=i.child,A=e.child.memoizedState,A===null?A=Hu(a):(d=A.cachePool,d!==null?(O=rn._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=um(),A={baseLanes:A.baseLanes|a,cachePool:d}),o.memoizedState=A,o.childLanes=Bu(e,v,a),i.memoizedState=Gu,xa(e.child,o)):(ri(i),a=e.child,e=a.sibling,a=Nt(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Qu(e,i){return i=Co({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Co(e,i){return e=Hn(22,e,null,i),e.lanes=0,e}function Ku(e,i,a){return Ui(i,e.child,null,a),e=Qu(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ef(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),lu(e.return,i,a)}function $u(e,i,a,o,d,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function Mf(e,i,a){var o=i.pendingProps,d=o.revealOrder,f=o.tail;o=o.children;var v=sn.current,A=(v&2)!==0;if(A?(v=v&1|2,i.flags|=128):v&=1,E(sn,v),An(e,i,o,a),o=Ve?Sa:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ef(e,a,i);else if(e.tag===19)Ef(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)e=a.alternate,e!==null&&so(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),$u(i,!1,d,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&so(e)===null){i.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}$u(i,!0,a,null,f,o);break;case"together":$u(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function wt(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ci|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(As(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Nt(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Nt(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Ju(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Wr(e)))}function lT(e,i,a){switch(i.tag){case 3:We(i,i.stateNode.containerInfo),ti(i,rn,e.memoizedState.cache),Pi();break;case 27:case 5:et(i);break;case 4:We(i,i.stateNode.containerInfo);break;case 10:ti(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tu(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ri(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Sf(e,i,a):(ri(i),e=wt(e,i,a),e!==null?e.sibling:null);ri(i);break;case 19:var d=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(As(e,i,a,!1),o=(a&i.childLanes)!==0),d){if(o)return Mf(e,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),E(sn,sn.current),o)break;return null;case 22:return i.lanes=0,gf(e,i,a,i.pendingProps);case 24:ti(i,rn,e.memoizedState.cache)}return wt(e,i,a)}function bf(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ln=!0;else{if(!Ju(e,a)&&(i.flags&128)===0)return ln=!1,lT(e,i,a);ln=(e.flags&131072)!==0}else ln=!1,Ve&&(i.flags&1048576)!==0&&tm(i,Sa,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(e=ji(i.elementType),i.type=e,typeof e=="function")eu(e)?(o=Fi(e,o),i.tag=1,i=Tf(null,i,e,o,a)):(i.tag=0,i=zu(null,i,e,o,a));else{if(e!=null){var d=e.$$typeof;if(d===$){i.tag=11,i=mf(null,i,e,o,a);break e}else if(d===z){i.tag=14,i=ff(null,i,e,o,a);break e}}throw i=ie(e)||e,Error(r(306,i,""))}}return i;case 0:return zu(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,d=Fi(o,i.pendingProps),Tf(e,i,o,d,a);case 3:e:{if(We(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;d=f.element,hu(e,i),qa(i,o,null,a);var v=i.memoizedState;if(o=v.cache,ti(i,rn,o),o!==f.cache&&uu(i,[rn],a,!0),Da(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Af(e,i,o,a);break e}else if(o!==d){d=st(Error(r(424)),i),Ea(d),i=Af(e,i,o,a);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=ut(e.firstChild),_n=i,Ve=!0,ei=null,ot=!0,a=hm(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pi(),o===d){i=wt(e,i,a);break e}An(e,i,o,a)}i=i.child}return i;case 26:return go(e,i),e===null?(a=Lh(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ve||(a=i.type,e=i.pendingProps,o=Po(ce.current).createElement(a),o[vn]=i,o[Pn]=e,Sn(o,a,e),hn(o),i.stateNode=o):i.memoizedState=Lh(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return et(i),e===null&&Ve&&(o=i.stateNode=Ph(i.type,i.pendingProps,ce.current),_n=i,ot=!0,d=$e,hi(i.type)?(Oc=d,$e=ut(o.firstChild)):$e=d),An(e,i,i.pendingProps.children,a),go(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ve&&((d=o=$e)&&(o=wT(o,i.type,i.pendingProps,ot),o!==null?(i.stateNode=o,_n=i,$e=ut(o.firstChild),ot=!1,d=!0):d=!1),d||ni(i)),et(i),d=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Ec(d,f)?o=null:v!==null&&Ec(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=Su(e,i,Z_,null,null,a),Wa._currentValue=d),go(e,i),An(e,i,o,a),i.child;case 6:return e===null&&Ve&&((e=a=$e)&&(a=UT(a,i.pendingProps,ot),a!==null?(i.stateNode=a,_n=i,$e=null,e=!0):e=!1),e||ni(i)),null;case 13:return Sf(e,i,a);case 4:return We(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ui(i,null,o,a):An(e,i,o,a),i.child;case 11:return mf(e,i,i.type,i.pendingProps,a);case 7:return An(e,i,i.pendingProps,a),i.child;case 8:return An(e,i,i.pendingProps.children,a),i.child;case 12:return An(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,ti(i,i.type,o.value),An(e,i,o.children,a),i.child;case 9:return d=i.type._context,o=i.pendingProps.children,xi(i),d=Tn(d),o=o(d),i.flags|=1,An(e,i,o,a),i.child;case 14:return ff(e,i,i.type,i.pendingProps,a);case 15:return hf(e,i,i.type,i.pendingProps,a);case 19:return Mf(e,i,a);case 31:return oT(e,i,a);case 22:return gf(e,i,a,i.pendingProps);case 24:return xi(i),o=Tn(rn),e===null?(d=pu(),d===null&&(d=He,f=cu(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:o,cache:d},fu(i),ti(i,rn,d)):((e.lanes&a)!==0&&(hu(e,i),qa(i,null,null,a),Da()),d=e.memoizedState,f=i.memoizedState,d.parent!==o?(d={parent:o,cache:o},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),ti(i,rn,o)):(o=f.cache,ti(i,rn,o),o!==d.cache&&uu(i,[rn],a,!0))),An(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ut(e){e.flags|=4}function Wu(e,i,a,o,d){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Xf())e.flags|=8192;else throw wi=eo,mu}else e.flags&=-16777217}function Rf(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fh(i))if(Xf())e.flags|=8192;else throw wi=eo,mu}function vo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?sp():536870912,e.lanes|=i,Ps|=i)}function La(e,i){if(!Ve)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Je(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function uT(e,i,a){var o=i.pendingProps;switch(su(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),xt(rn),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ts(i)?Ut(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ru())),Je(i),null;case 26:var d=i.type,f=i.memoizedState;return e===null?(Ut(i),f!==null?(Je(i),Rf(i,f)):(Je(i),Wu(i,d,null,o,a))):f?f!==e.memoizedState?(Ut(i),Je(i),Rf(i,f)):(Je(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ut(i),Je(i),Wu(i,d,e,o,a)),null;case 27:if(Rt(i),a=ce.current,d=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ut(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Je(i),null}e=se.current,Ts(i)?sm(i):(e=Ph(d,o,a),i.stateNode=e,Ut(i))}return Je(i),null;case 5:if(Rt(i),d=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ut(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Je(i),null}if(f=se.current,Ts(i))sm(i);else{var v=Po(ce.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}f[vn]=i,f[Pn]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch(Sn(f,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ut(i)}}return Je(i),Wu(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ut(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=ce.current,Ts(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,d=_n,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[vn]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Sh(e.nodeValue,a)),e||ni(i,!0)}else e=Po(e).createTextNode(o),e[vn]=i,i.stateNode=e}return Je(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Ts(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[vn]=i}else Pi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),e=!1}else a=ru(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Qn(i),i):(Qn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Je(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ts(i),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[vn]=i}else Pi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),d=!1}else d=ru(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Qn(i),i):(Qn(i),null)}return Qn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==d&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),vo(i,i.updateQueue),Je(i),null);case 4:return Ue(),e===null&&vc(i.stateNode.containerInfo),Je(i),null;case 10:return xt(i.type),Je(i),null;case 19:if(H(sn),o=i.memoizedState,o===null)return Je(i),null;if(d=(i.flags&128)!==0,f=o.rendering,f===null)if(d)La(o,!1);else{if(en!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=so(e),f!==null){for(i.flags|=128,La(o,!1),e=f.updateQueue,i.updateQueue=e,vo(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Zp(a,e),a=a.sibling;return E(sn,sn.current&1|2),Ve&&Pt(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&On()>Eo&&(i.flags|=128,d=!0,La(o,!1),i.lanes=4194304)}else{if(!d)if(e=so(f),e!==null){if(i.flags|=128,d=!0,e=e.updateQueue,i.updateQueue=e,vo(i,e),La(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ve)return Je(i),null}else 2*On()-o.renderingStartTime>Eo&&a!==536870912&&(i.flags|=128,d=!0,La(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=On(),e.sibling=null,a=sn.current,E(sn,d?a&1|2:a&1),Ve&&Pt(i,o.treeForkCount),e):(Je(i),null);case 22:case 23:return Qn(i),_u(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),a=i.updateQueue,a!==null&&vo(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&H(Li),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xt(rn),Je(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function cT(e,i){switch(su(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xt(rn),Ue(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Rt(i),null;case 31:if(i.memoizedState!==null){if(Qn(i),i.alternate===null)throw Error(r(340));Pi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Qn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Pi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return H(sn),null;case 4:return Ue(),null;case 10:return xt(i.type),null;case 22:case 23:return Qn(i),_u(),e!==null&&H(Li),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xt(rn),null;case 25:return null;default:return null}}function yf(e,i){switch(su(i),i.tag){case 3:xt(rn),Ue();break;case 26:case 27:case 5:Rt(i);break;case 4:Ue();break;case 31:i.memoizedState!==null&&Qn(i);break;case 13:Qn(i);break;case 19:H(sn);break;case 10:xt(i.type);break;case 22:case 23:Qn(i),_u(),e!==null&&H(Li);break;case 24:xt(rn)}}function ja(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==d)}}catch(A){we(i,i.return,A)}}function li(e,i,a){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var f=d.next;o=f;do{if((o.tag&e)===e){var v=o.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,d=i;var O=a,j=A;try{j()}catch(G){we(d,O,G)}}}o=o.next}while(o!==f)}}catch(G){we(i,i.return,G)}}function Of(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Cm(i,a)}catch(o){we(e,e.return,o)}}}function Df(e,i,a){a.props=Fi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){we(e,i,o)}}function wa(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(d){we(e,i,d)}}function St(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(d){we(e,i,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){we(e,i,d)}else a.current=null}function qf(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(d){we(e,e.return,d)}}function Yu(e,i,a){try{var o=e.stateNode;NT(o,e.type,a,i),o[Pn]=i}catch(d){we(e,e.return,d)}}function Vf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hi(e.type)||e.tag===4}function Xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qt));else if(o!==4&&(o===27&&hi(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Zu(e,i,a),e=e.sibling;e!==null;)Zu(e,i,a),e=e.sibling}function _o(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&hi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_o(e,i,a),e=e.sibling;e!==null;)_o(e,i,a),e=e.sibling}function Nf(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Sn(i,o,a),i[vn]=e,i[Pn]=a}catch(f){we(e,e.return,f)}}var kt=!1,un=!1,ec=!1,Pf=typeof WeakSet=="function"?WeakSet:Set,gn=null;function dT(e,i){if(e=e.containerInfo,Ac=ko,e=Hp(e),Kl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,A=-1,O=-1,j=0,G=0,K=e,U=null;n:for(;;){for(var F;K!==a||d!==0&&K.nodeType!==3||(A=v+d),K!==f||o!==0&&K.nodeType!==3||(O=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(F=K.firstChild)!==null;)U=K,K=F;for(;;){if(K===e)break n;if(U===a&&++j===d&&(A=v),U===f&&++G===o&&(O=v),(F=K.nextSibling)!==null)break;K=U,U=K.parentNode}K=F}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sc={focusedElem:e,selectionRange:a},ko=!1,gn=i;gn!==null;)if(i=gn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,gn=e;else for(;gn!==null;){switch(i=gn,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)d=e[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var re=Fi(a.type,d);e=o.getSnapshotBeforeUpdate(re,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(me){we(a,a.return,me)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)bc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,gn=e;break}gn=i.return}}function If(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:zt(e,a),o&4&&ja(5,a);break;case 1:if(zt(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){we(a,a.return,v)}else{var d=Fi(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(d,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){we(a,a.return,v)}}o&64&&Of(a),o&512&&wa(a,a.return);break;case 3:if(zt(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cm(e,i)}catch(v){we(a,a.return,v)}}break;case 27:i===null&&o&4&&Nf(a);case 26:case 5:zt(e,a),i===null&&o&4&&qf(a),o&512&&wa(a,a.return);break;case 12:zt(e,a);break;case 31:zt(e,a),o&4&&jf(e,a);break;case 13:zt(e,a),o&4&&wf(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=TT.bind(null,a),kT(e,a))));break;case 22:if(o=a.memoizedState!==null||kt,!o){i=i!==null&&i.memoizedState!==null||un,d=kt;var f=un;kt=o,(un=i)&&!f?Gt(e,a,(a.subtreeFlags&8772)!==0):zt(e,a),kt=d,un=f}break;case 30:break;default:zt(e,a)}}function xf(e){var i=e.alternate;i!==null&&(e.alternate=null,xf(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ql(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,xn=!1;function Ft(e,i,a){for(a=a.child;a!==null;)Lf(e,i,a),a=a.sibling}function Lf(e,i,a){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Dn,a)}catch{}switch(a.tag){case 26:un||St(a,i),Ft(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:un||St(a,i);var o=Ye,d=xn;hi(a.type)&&(Ye=a.stateNode,xn=!1),Ft(e,i,a),Ka(a.stateNode),Ye=o,xn=d;break;case 5:un||St(a,i);case 6:if(o=Ye,d=xn,Ye=null,Ft(e,i,a),Ye=o,xn=d,Ye!==null)if(xn)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(f){we(a,i,f)}else try{Ye.removeChild(a.stateNode)}catch(f){we(a,i,f)}break;case 18:Ye!==null&&(xn?(e=Ye,Oh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fs(e)):Oh(Ye,a.stateNode));break;case 4:o=Ye,d=xn,Ye=a.stateNode.containerInfo,xn=!0,Ft(e,i,a),Ye=o,xn=d;break;case 0:case 11:case 14:case 15:li(2,a,i),un||li(4,a,i),Ft(e,i,a);break;case 1:un||(St(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Df(a,i,o)),Ft(e,i,a);break;case 21:Ft(e,i,a);break;case 22:un=(o=un)||a.memoizedState!==null,Ft(e,i,a),un=o;break;default:Ft(e,i,a)}}function jf(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fs(e)}catch(a){we(i,i.return,a)}}}function wf(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fs(e)}catch(a){we(i,i.return,a)}}function pT(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Pf),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Pf),i;default:throw Error(r(435,e.tag))}}function To(e,i){var a=pT(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var d=AT.bind(null,e,o);o.then(d,d)}})}function Ln(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o],f=e,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(hi(A.type)){Ye=A.stateNode,xn=!1;break e}break;case 5:Ye=A.stateNode,xn=!1;break e;case 3:case 4:Ye=A.stateNode.containerInfo,xn=!0;break e}A=A.return}if(Ye===null)throw Error(r(160));Lf(f,v,d),Ye=null,xn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Uf(i,e),i=i.sibling}var ft=null;function Uf(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ln(i,e),jn(e),o&4&&(li(3,e,e.return),ja(3,e),li(5,e,e.return));break;case 1:Ln(i,e),jn(e),o&512&&(un||a===null||St(a,a.return)),o&64&&kt&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var d=ft;if(Ln(i,e),jn(e),o&512&&(un||a===null||St(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,d=d.ownerDocument||d;n:switch(o){case"title":f=d.getElementsByTagName("title")[0],(!f||f[da]||f[vn]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(o),d.head.insertBefore(f,d.querySelector("head > title"))),Sn(f,o,a),f[vn]=e,hn(f),o=f;break e;case"link":var v=Uh("link","href",d).get(o+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(f=v[A],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break n}}f=d.createElement(o),Sn(f,o,a),d.head.appendChild(f);break;case"meta":if(v=Uh("meta","content",d).get(o+(a.content||""))){for(A=0;A<v.length;A++)if(f=v[A],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break n}}f=d.createElement(o),Sn(f,o,a),d.head.appendChild(f);break;default:throw Error(r(468,o))}f[vn]=e,hn(f),o=f}e.stateNode=o}else kh(d,e.type,e.stateNode);else e.stateNode=wh(d,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?kh(d,e.type,e.stateNode):wh(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Yu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ln(i,e),jn(e),o&512&&(un||a===null||St(a,a.return)),a!==null&&o&4&&Yu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ln(i,e),jn(e),o&512&&(un||a===null||St(a,a.return)),e.flags&32){d=e.stateNode;try{cs(d,"")}catch(re){we(e,e.return,re)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,Yu(e,d,a!==null?a.memoizedProps:d)),o&1024&&(ec=!0);break;case 6:if(Ln(i,e),jn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(re){we(e,e.return,re)}}break;case 3:if(Lo=null,d=ft,ft=Io(i.containerInfo),Ln(i,e),ft=d,jn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fs(i.containerInfo)}catch(re){we(e,e.return,re)}ec&&(ec=!1,kf(e));break;case 4:o=ft,ft=Io(e.stateNode.containerInfo),Ln(i,e),jn(e),ft=o;break;case 12:Ln(i,e),jn(e);break;case 31:Ln(i,e),jn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,To(e,o)));break;case 13:Ln(i,e),jn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(So=On()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,To(e,o)));break;case 22:d=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,j=kt,G=un;if(kt=j||d,un=G||O,Ln(i,e),un=G,kt=j,jn(e),o&8192)e:for(i=e.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||O||kt||un||zi(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=O.stateNode;var K=O.memoizedProps.style,U=K!=null&&K.hasOwnProperty("display")?K.display:null;A.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(re){we(O,O.return,re)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(re){we(O,O.return,re)}}}else if(i.tag===18){if(a===null){O=i;try{var F=O.stateNode;d?Dh(F,!0):Dh(O.stateNode,!1)}catch(re){we(O,O.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,To(e,a))));break;case 19:Ln(i,e),jn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,To(e,o)));break;case 30:break;case 21:break;default:Ln(i,e),jn(e)}}function jn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Vf(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,f=Xu(e);_o(e,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(cs(v,""),a.flags&=-33);var A=Xu(e);_o(e,A,v);break;case 3:case 4:var O=a.stateNode.containerInfo,j=Xu(e);Zu(e,j,O);break;default:throw Error(r(161))}}catch(G){we(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function kf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;kf(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function zt(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)If(e,i.alternate,i),i=i.sibling}function zi(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:li(4,i,i.return),zi(i);break;case 1:St(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Df(i,i.return,a),zi(i);break;case 27:Ka(i.stateNode);case 26:case 5:St(i,i.return),zi(i);break;case 22:i.memoizedState===null&&zi(i);break;case 30:zi(i);break;default:zi(i)}e=e.sibling}}function Gt(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,d=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:Gt(d,f,a),ja(4,f);break;case 1:if(Gt(d,f,a),o=f,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){we(o,o.return,j)}if(o=f,d=o.updateQueue,d!==null){var A=o.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)gm(O[d],A)}catch(j){we(o,o.return,j)}}a&&v&64&&Of(f),wa(f,f.return);break;case 27:Nf(f);case 26:case 5:Gt(d,f,a),a&&o===null&&v&4&&qf(f),wa(f,f.return);break;case 12:Gt(d,f,a);break;case 31:Gt(d,f,a),a&&v&4&&jf(d,f);break;case 13:Gt(d,f,a),a&&v&4&&wf(d,f);break;case 22:f.memoizedState===null&&Gt(d,f,a),wa(f,f.return);break;case 30:break;default:Gt(d,f,a)}i=i.sibling}}function nc(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ma(a))}function tc(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ma(e))}function ht(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ff(e,i,a,o),i=i.sibling}function Ff(e,i,a,o){var d=i.flags;switch(i.tag){case 0:case 11:case 15:ht(e,i,a,o),d&2048&&ja(9,i);break;case 1:ht(e,i,a,o);break;case 3:ht(e,i,a,o),d&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ma(e)));break;case 12:if(d&2048){ht(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,A=f.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){we(i,i.return,O)}}else ht(e,i,a,o);break;case 31:ht(e,i,a,o);break;case 13:ht(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ht(e,i,a,o):Ua(e,i):f._visibility&2?ht(e,i,a,o):(f._visibility|=2,qs(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),d&2048&&nc(v,i);break;case 24:ht(e,i,a,o),d&2048&&tc(i.alternate,i);break;default:ht(e,i,a,o)}}function qs(e,i,a,o,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,v=i,A=a,O=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:qs(f,v,A,O,d),ja(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?qs(f,v,A,O,d):Ua(f,v):(G._visibility|=2,qs(f,v,A,O,d)),d&&j&2048&&nc(v.alternate,v);break;case 24:qs(f,v,A,O,d),d&&j&2048&&tc(v.alternate,v);break;default:qs(f,v,A,O,d)}i=i.sibling}}function Ua(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,d=o.flags;switch(o.tag){case 22:Ua(a,o),d&2048&&nc(o.alternate,o);break;case 24:Ua(a,o),d&2048&&tc(o.alternate,o);break;default:Ua(a,o)}i=i.sibling}}var ka=8192;function Vs(e,i,a){if(e.subtreeFlags&ka)for(e=e.child;e!==null;)zf(e,i,a),e=e.sibling}function zf(e,i,a){switch(e.tag){case 26:Vs(e,i,a),e.flags&ka&&e.memoizedState!==null&&XT(a,ft,e.memoizedState,e.memoizedProps);break;case 5:Vs(e,i,a);break;case 3:case 4:var o=ft;ft=Io(e.stateNode.containerInfo),Vs(e,i,a),ft=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ka,ka=16777216,Vs(e,i,a),ka=o):Vs(e,i,a));break;default:Vs(e,i,a)}}function Gf(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Fa(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];gn=o,Bf(o,e)}Gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hf(e),e=e.sibling}function Hf(e){switch(e.tag){case 0:case 11:case 15:Fa(e),e.flags&2048&&li(9,e,e.return);break;case 3:Fa(e);break;case 12:Fa(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ao(e)):Fa(e);break;default:Fa(e)}}function Ao(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];gn=o,Bf(o,e)}Gf(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:li(8,i,i.return),Ao(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ao(i));break;default:Ao(i)}e=e.sibling}}function Bf(e,i){for(;gn!==null;){var a=gn;switch(a.tag){case 0:case 11:case 15:li(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ma(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,gn=o;else e:for(a=e;gn!==null;){o=gn;var d=o.sibling,f=o.return;if(xf(o),o===a){gn=null;break e}if(d!==null){d.return=f,gn=d;break e}gn=f}}}var mT={getCacheForType:function(e){var i=Tn(rn),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Tn(rn).controller.signal}},fT=typeof WeakMap=="function"?WeakMap:Map,xe=0,He=null,be=null,De=0,je=0,Kn=null,ui=!1,Ns=!1,ic=!1,Ht=0,en=0,ci=0,Gi=0,sc=0,$n=0,Ps=0,za=null,wn=null,ac=!1,So=0,Qf=0,Eo=1/0,Mo=null,di=null,mn=0,pi=null,Is=null,Bt=0,rc=0,oc=null,Kf=null,Ga=0,lc=null;function Jn(){return(xe&2)!==0&&De!==0?De&-De:w.T!==null?fc():lp()}function $f(){if($n===0)if((De&536870912)===0||Ve){var e=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),$n=e}else $n=536870912;return e=Bn.current,e!==null&&(e.flags|=32),$n}function Un(e,i,a){(e===He&&(je===2||je===9)||e.cancelPendingCommit!==null)&&(xs(e,0),mi(e,De,$n,!1)),ca(e,a),((xe&2)===0||e!==He)&&(e===He&&((xe&2)===0&&(Gi|=a),en===4&&mi(e,De,$n,!1)),Et(e))}function Jf(e,i,a){if((xe&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||ua(e,i),d=o?CT(e,i):cc(e,i,!0),f=o;do{if(d===0){Ns&&!o&&mi(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!hT(a)){d=cc(e,i,!1),f=!1;continue}if(d===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=e;d=za;var O=A.current.memoizedState.isDehydrated;if(O&&(xs(A,v).flags|=256),v=cc(A,v,!1),v!==2){if(ic&&!O){A.errorRecoveryDisabledLanes|=f,Gi|=f,d=4;break e}f=wn,wn=d,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){xs(e,0),mi(e,i,0,!0);break}e:{switch(o=e,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:mi(o,i,$n,!ui);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=So+300-On(),10<d)){if(mi(o,i,$n,!ui),Pr(o,0,!0)!==0)break e;Bt=i,o.timeoutHandle=Rh(Wf.bind(null,o,a,wn,Mo,ac,i,$n,Gi,Ps,ui,f,"Throttled",-0,0),d);break e}Wf(o,a,wn,Mo,ac,i,$n,Gi,Ps,ui,f,null,-0,0)}}break}while(!0);Et(e)}function Wf(e,i,a,o,d,f,v,A,O,j,G,K,U,F){if(e.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qt},zf(i,f,K);var re=(f&62914560)===f?So-On():(f&4194048)===f?Qf-On():0;if(re=ZT(K,re),re!==null){Bt=f,e.cancelPendingCommit=re(sh.bind(null,e,i,f,a,o,d,v,A,O,G,K,null,U,F)),mi(e,f,v,!j);return}}sh(e,i,f,a,o,d,v,A,O)}function hT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var d=a[o],f=d.getSnapshot;d=d.value;try{if(!Gn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(e,i,a,o){i&=~sc,i&=~Gi,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var d=i;0<d;){var f=31-Ge(d),v=1<<f;o[f]=-1,d&=~v}a!==0&&ap(e,a,i)}function bo(){return(xe&6)===0?(Ha(0),!1):!0}function uc(){if(be!==null){if(je===0)var e=be.return;else e=be,It=Ii=null,bu(e),bs=null,Ra=0,e=be;for(;e!==null;)yf(e.alternate,e),e=e.return;be=null}}function xs(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,xT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Bt=0,uc(),He=e,be=a=Nt(e.current,null),De=i,je=0,Kn=null,ui=!1,Ns=ua(e,i),ic=!1,Ps=$n=sc=Gi=ci=en=0,wn=za=null,ac=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var d=31-Ge(o),f=1<<d;i|=e[d],o&=~f}return Ht=i,Br(),a}function Yf(e,i){Te=null,w.H=Ia,i===Ms||i===Zr?(i=pm(),je=3):i===mu?(i=pm(),je=4):je=i===Fu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,be===null&&(en=1,fo(e,st(i,e.current)))}function Xf(){var e=Bn.current;return e===null?!0:(De&4194048)===De?lt===null:(De&62914560)===De||(De&536870912)!==0?e===lt:!1}function Zf(){var e=w.H;return w.H=Ia,e===null?Ia:e}function eh(){var e=w.A;return w.A=mT,e}function Ro(){en=4,ui||(De&4194048)!==De&&Bn.current!==null||(Ns=!0),(ci&134217727)===0&&(Gi&134217727)===0||He===null||mi(He,De,$n,!1)}function cc(e,i,a){var o=xe;xe|=2;var d=Zf(),f=eh();(He!==e||De!==i)&&(Mo=null,xs(e,i)),i=!1;var v=en;e:do try{if(je!==0&&be!==null){var A=be,O=Kn;switch(je){case 8:uc(),v=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var j=je;if(je=0,Kn=null,Ls(e,A,O,j),a&&Ns){v=0;break e}break;default:j=je,je=0,Kn=null,Ls(e,A,O,j)}}gT(),v=en;break}catch(G){Yf(e,G)}while(!0);return i&&e.shellSuspendCounter++,It=Ii=null,xe=o,w.H=d,w.A=f,be===null&&(He=null,De=0,Br()),v}function gT(){for(;be!==null;)nh(be)}function CT(e,i){var a=xe;xe|=2;var o=Zf(),d=eh();He!==e||De!==i?(Mo=null,Eo=On()+500,xs(e,i)):Ns=ua(e,i);e:do try{if(je!==0&&be!==null){i=be;var f=Kn;n:switch(je){case 1:je=0,Kn=null,Ls(e,i,f,1);break;case 2:case 9:if(cm(f)){je=0,Kn=null,th(i);break}i=function(){je!==2&&je!==9||He!==e||(je=7),Et(e)},f.then(i,i);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:cm(f)?(je=0,Kn=null,th(i)):(je=0,Kn=null,Ls(e,i,f,7));break;case 5:var v=null;switch(be.tag){case 26:v=be.memoizedState;case 5:case 27:var A=be;if(v?Fh(v):A.stateNode.complete){je=0,Kn=null;var O=A.sibling;if(O!==null)be=O;else{var j=A.return;j!==null?(be=j,yo(j)):be=null}break n}}je=0,Kn=null,Ls(e,i,f,5);break;case 6:je=0,Kn=null,Ls(e,i,f,6);break;case 8:uc(),en=6;break e;default:throw Error(r(462))}}vT();break}catch(G){Yf(e,G)}while(!0);return It=Ii=null,w.H=o,w.A=d,xe=a,be!==null?0:(He=null,De=0,Br(),en)}function vT(){for(;be!==null&&!El();)nh(be)}function nh(e){var i=bf(e.alternate,e,Ht);e.memoizedProps=e.pendingProps,i===null?yo(e):be=i}function th(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=_f(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=_f(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:bu(i);default:yf(a,i),i=be=Zp(i,Ht),i=bf(a,i,Ht)}e.memoizedProps=e.pendingProps,i===null?yo(e):be=i}function Ls(e,i,a,o){It=Ii=null,bu(i),bs=null,Ra=0;var d=i.return;try{if(rT(e,d,i,a,De)){en=1,fo(e,st(a,e.current)),be=null;return}}catch(f){if(d!==null)throw be=d,f;en=1,fo(e,st(a,e.current)),be=null;return}i.flags&32768?(Ve||o===1?e=!0:Ns||(De&536870912)!==0?e=!1:(ui=e=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ih(i,e)):yo(i)}function yo(e){var i=e;do{if((i.flags&32768)!==0){ih(i,ui);return}e=i.return;var a=uT(i.alternate,i,Ht);if(a!==null){be=a;return}if(i=i.sibling,i!==null){be=i;return}be=i=e}while(i!==null);en===0&&(en=5)}function ih(e,i){do{var a=cT(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);en=6,be=null}function sh(e,i,a,o,d,f,v,A,O){e.cancelPendingCommit=null;do Oo();while(mn!==0);if((xe&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Xl,Yv(e,a,f,v,A,O),e===He&&(be=He=null,De=0),Is=i,pi=e,Bt=a,rc=f,oc=d,Kf=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ST(Ce,function(){return uh(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=w.T,w.T=null,d=J.p,J.p=2,v=xe,xe|=4;try{dT(e,i,a)}finally{xe=v,J.p=d,w.T=o}}mn=1,ah(),rh(),oh()}}function ah(){if(mn===1){mn=0;var e=pi,i=Is,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=w.T,w.T=null;var o=J.p;J.p=2;var d=xe;xe|=4;try{Uf(i,e);var f=Sc,v=Hp(e.containerInfo),A=f.focusedElem,O=f.selectionRange;if(v!==A&&A&&A.ownerDocument&&Gp(A.ownerDocument.documentElement,A)){if(O!==null&&Kl(A)){var j=O.start,G=O.end;if(G===void 0&&(G=j),"selectionStart"in A)A.selectionStart=j,A.selectionEnd=Math.min(G,A.value.length);else{var K=A.ownerDocument||document,U=K&&K.defaultView||window;if(U.getSelection){var F=U.getSelection(),re=A.textContent.length,me=Math.min(O.start,re),ze=O.end===void 0?me:Math.min(O.end,re);!F.extend&&me>ze&&(v=ze,ze=me,me=v);var I=zp(A,me),V=zp(A,ze);if(I&&V&&(F.rangeCount!==1||F.anchorNode!==I.node||F.anchorOffset!==I.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var L=K.createRange();L.setStart(I.node,I.offset),F.removeAllRanges(),me>ze?(F.addRange(L),F.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),F.addRange(L))}}}}for(K=[],F=A;F=F.parentNode;)F.nodeType===1&&K.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<K.length;A++){var Q=K[A];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ko=!!Ac,Sc=Ac=null}finally{xe=d,J.p=o,w.T=a}}e.current=i,mn=2}}function rh(){if(mn===2){mn=0;var e=pi,i=Is,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=w.T,w.T=null;var o=J.p;J.p=2;var d=xe;xe|=4;try{If(e,i.alternate,i)}finally{xe=d,J.p=o,w.T=a}}mn=3}}function oh(){if(mn===4||mn===3){mn=0,Ml();var e=pi,i=Is,a=Bt,o=Kf;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?mn=5:(mn=0,Is=pi=null,lh(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(di=null),Ol(a),i=i.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Dn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=w.T,d=J.p,J.p=2,w.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var A=o[v];f(A.value,{componentStack:A.stack})}}finally{w.T=i,J.p=d}}(Bt&3)!==0&&Oo(),Et(e),d=e.pendingLanes,(a&261930)!==0&&(d&42)!==0?e===lc?Ga++:(Ga=0,lc=e):Ga=0,Ha(0)}}function lh(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ma(i)))}function Oo(){return ah(),rh(),oh(),uh()}function uh(){if(mn!==5)return!1;var e=pi,i=rc;rc=0;var a=Ol(Bt),o=w.T,d=J.p;try{J.p=32>a?32:a,w.T=null,a=oc,oc=null;var f=pi,v=Bt;if(mn=0,Is=pi=null,Bt=0,(xe&6)!==0)throw Error(r(331));var A=xe;if(xe|=4,Hf(f.current),Ff(f,f.current,v,a),xe=A,Ha(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Dn,f)}catch{}return!0}finally{J.p=d,w.T=o,lh(e,i)}}function ch(e,i,a){i=st(a,i),i=ku(e.stateNode,i,2),e=ai(e,i,2),e!==null&&(ca(e,2),Et(e))}function we(e,i,a){if(e.tag===3)ch(e,e,a);else for(;i!==null;){if(i.tag===3){ch(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(di===null||!di.has(o))){e=st(a,e),a=df(2),o=ai(i,a,2),o!==null&&(pf(a,o,i,e),ca(o,2),Et(o));break}}i=i.return}}function dc(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new fT;var d=new Set;o.set(i,d)}else d=o.get(i),d===void 0&&(d=new Set,o.set(i,d));d.has(a)||(ic=!0,d.add(a),e=_T.bind(null,e,i,a),i.then(e,e))}function _T(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(De&a)===a&&(en===4||en===3&&(De&62914560)===De&&300>On()-So?(xe&2)===0&&xs(e,0):sc|=a,Ps===De&&(Ps=0)),Et(e)}function dh(e,i){i===0&&(i=sp()),e=Vi(e,i),e!==null&&(ca(e,i),Et(e))}function TT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),dh(e,a)}function AT(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),dh(e,a)}function ST(e,i){return is(e,i)}var Do=null,js=null,pc=!1,qo=!1,mc=!1,fi=0;function Et(e){e!==js&&e.next===null&&(js===null?Do=js=e:js=js.next=e),qo=!0,pc||(pc=!0,MT())}function Ha(e,i){if(!mc&&qo){mc=!0;do for(var a=!1,o=Do;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var f=0;else{var v=o.suspendedLanes,A=o.pingedLanes;f=(1<<31-Ge(42|e)+1)-1,f&=d&~(v&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,hh(o,f))}else f=De,f=Pr(o,o===He?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ua(o,f)||(a=!0,hh(o,f));o=o.next}while(a);mc=!1}}function ET(){ph()}function ph(){qo=pc=!1;var e=0;fi!==0&&IT()&&(e=fi);for(var i=On(),a=null,o=Do;o!==null;){var d=o.next,f=mh(o,i);f===0?(o.next=null,a===null?Do=d:a.next=d,d===null&&(js=a)):(a=o,(e!==0||(f&3)!==0)&&(qo=!0)),o=d}mn!==0&&mn!==5||Ha(e),fi!==0&&(fi=0)}function mh(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ge(f),A=1<<v,O=d[v];O===-1?((A&a)===0||(A&o)!==0)&&(d[v]=Wv(A,i)):O<=i&&(e.expiredLanes|=A),f&=~A}if(i=He,a=De,a=Pr(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(je===2||je===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&la(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ua(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&la(o),Ol(a)){case 2:case 8:a=ee;break;case 32:a=Ce;break;case 268435456:a=Le;break;default:a=Ce}return o=fh.bind(null,e),a=is(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&la(o),e.callbackPriority=2,e.callbackNode=null,2}function fh(e,i){if(mn!==0&&mn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Oo()&&e.callbackNode!==a)return null;var o=De;return o=Pr(e,e===He?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Jf(e,o,i),mh(e,On()),e.callbackNode!=null&&e.callbackNode===a?fh.bind(null,e):null)}function hh(e,i){if(Oo())return null;Jf(e,i,!0)}function MT(){LT(function(){(xe&6)!==0?is(B,ET):ph()})}function fc(){if(fi===0){var e=Ss;e===0&&(e=qr,qr<<=1,(qr&261888)===0&&(qr=256)),fi=e}return fi}function gh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:jr(""+e)}function Ch(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function bT(e,i,a,o,d){if(i==="submit"&&a&&a.stateNode===d){var f=gh((d[Pn]||null).action),v=o.submitter;v&&(i=(i=v[Pn]||null)?gh(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var A=new Fr("action","action",null,o,d);e.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(fi!==0){var O=v?Ch(d,v):new FormData(d);Iu(a,{pending:!0,data:O,method:d.method,action:f},null,O)}}else typeof f=="function"&&(A.preventDefault(),O=v?Ch(d,v):new FormData(d),Iu(a,{pending:!0,data:O,method:d.method,action:f},f,O))},currentTarget:d}]})}}for(var hc=0;hc<Yl.length;hc++){var gc=Yl[hc],RT=gc.toLowerCase(),yT=gc[0].toUpperCase()+gc.slice(1);mt(RT,"on"+yT)}mt(Kp,"onAnimationEnd"),mt($p,"onAnimationIteration"),mt(Jp,"onAnimationStart"),mt("dblclick","onDoubleClick"),mt("focusin","onFocus"),mt("focusout","onBlur"),mt(G_,"onTransitionRun"),mt(H_,"onTransitionStart"),mt(B_,"onTransitionCancel"),mt(Wp,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ba));function vh(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],d=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var A=o[v],O=A.instance,j=A.currentTarget;if(A=A.listener,O!==f&&d.isPropagationStopped())break e;f=A,d.currentTarget=j;try{f(d)}catch(G){Hr(G)}d.currentTarget=null,f=O}else for(v=0;v<o.length;v++){if(A=o[v],O=A.instance,j=A.currentTarget,A=A.listener,O!==f&&d.isPropagationStopped())break e;f=A,d.currentTarget=j;try{f(d)}catch(G){Hr(G)}d.currentTarget=null,f=O}}}}function Re(e,i){var a=i[Dl];a===void 0&&(a=i[Dl]=new Set);var o=e+"__bubble";a.has(o)||(_h(i,e,2,!1),a.add(o))}function Cc(e,i,a){var o=0;i&&(o|=4),_h(a,e,o,i)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function vc(e){if(!e[Vo]){e[Vo]=!0,dp.forEach(function(a){a!=="selectionchange"&&(OT.has(a)||Cc(a,!1,e),Cc(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Vo]||(i[Vo]=!0,Cc("selectionchange",!1,i))}}function _h(e,i,a,o){switch($h(i)){case 2:var d=t0;break;case 8:d=i0;break;default:d=Pc}a=d.bind(null,i,a,e),d=void 0,!wl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(i,a,{capture:!0,passive:d}):e.addEventListener(i,a,!0):d!==void 0?e.addEventListener(i,a,{passive:d}):e.addEventListener(i,a,!1)}function _c(e,i,a,o,d){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var A=o.stateNode.containerInfo;if(A===d)break;if(v===4)for(v=o.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;A!==null;){if(v=as(A),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){o=f=v;continue e}A=A.parentNode}}o=o.return}Ep(function(){var j=f,G=Ll(a),K=[];e:{var U=Yp.get(e);if(U!==void 0){var F=Fr,re=e;switch(e){case"keypress":if(Ur(a)===0)break e;case"keydown":case"keyup":F=A_;break;case"focusin":re="focus",F=zl;break;case"focusout":re="blur",F=zl;break;case"beforeblur":case"afterblur":F=zl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=u_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=M_;break;case Kp:case $p:case Jp:F=p_;break;case Wp:F=R_;break;case"scroll":case"scrollend":F=o_;break;case"wheel":F=O_;break;case"copy":case"cut":case"paste":F=f_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Op;break;case"toggle":case"beforetoggle":F=q_}var me=(i&4)!==0,ze=!me&&(e==="scroll"||e==="scrollend"),I=me?U!==null?U+"Capture":null:U;me=[];for(var V=j,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||I===null||(Q=ma(V,I),Q!=null&&me.push(Qa(V,Q,L))),ze)break;V=V.return}0<me.length&&(U=new F(U,re,null,a,G),K.push({event:U,listeners:me}))}}if((i&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",U&&a!==xl&&(re=a.relatedTarget||a.fromElement)&&(as(re)||re[ss]))break e;if((F||U)&&(U=G.window===G?G:(U=G.ownerDocument)?U.defaultView||U.parentWindow:window,F?(re=a.relatedTarget||a.toElement,F=j,re=re?as(re):null,re!==null&&(ze=u(re),me=re.tag,re!==ze||me!==5&&me!==27&&me!==6)&&(re=null)):(F=null,re=j),F!==re)){if(me=Rp,Q="onMouseLeave",I="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(me=Op,Q="onPointerLeave",I="onPointerEnter",V="pointer"),ze=F==null?U:pa(F),L=re==null?U:pa(re),U=new me(Q,V+"leave",F,a,G),U.target=ze,U.relatedTarget=L,Q=null,as(G)===j&&(me=new me(I,V+"enter",re,a,G),me.target=L,me.relatedTarget=ze,Q=me),ze=Q,F&&re)n:{for(me=DT,I=F,V=re,L=0,Q=I;Q;Q=me(Q))L++;Q=0;for(var de=V;de;de=me(de))Q++;for(;0<L-Q;)I=me(I),L--;for(;0<Q-L;)V=me(V),Q--;for(;L--;){if(I===V||V!==null&&I===V.alternate){me=I;break n}I=me(I),V=me(V)}me=null}else me=null;F!==null&&Th(K,U,F,me,!1),re!==null&&ze!==null&&Th(K,ze,re,me,!0)}}e:{if(U=j?pa(j):window,F=U.nodeName&&U.nodeName.toLowerCase(),F==="select"||F==="input"&&U.type==="file")var Pe=Lp;else if(Ip(U))if(jp)Pe=k_;else{Pe=w_;var le=j_}else F=U.nodeName,!F||F.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?j&&Il(j.elementType)&&(Pe=Lp):Pe=U_;if(Pe&&(Pe=Pe(e,j))){xp(K,Pe,a,G);break e}le&&le(e,U,j),e==="focusout"&&j&&U.type==="number"&&j.memoizedProps.value!=null&&Pl(U,"number",U.value)}switch(le=j?pa(j):window,e){case"focusin":(Ip(le)||le.contentEditable==="true")&&(fs=le,$l=j,Aa=null);break;case"focusout":Aa=$l=fs=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Bp(K,a,G);break;case"selectionchange":if(z_)break;case"keydown":case"keyup":Bp(K,a,G)}var Ae;if(Hl)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ms?Np(e,a)&&(qe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Dp&&a.locale!=="ko"&&(ms||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ms&&(Ae=Mp()):(Xt=G,Ul="value"in Xt?Xt.value:Xt.textContent,ms=!0)),le=No(j,qe),0<le.length&&(qe=new yp(qe,e,null,a,G),K.push({event:qe,listeners:le}),Ae?qe.data=Ae:(Ae=Pp(a),Ae!==null&&(qe.data=Ae)))),(Ae=N_?P_(e,a):I_(e,a))&&(qe=No(j,"onBeforeInput"),0<qe.length&&(le=new yp("onBeforeInput","beforeinput",null,a,G),K.push({event:le,listeners:qe}),le.data=Ae)),bT(K,e,j,a,G)}vh(K,i)})}function Qa(e,i,a){return{instance:e,listener:i,currentTarget:a}}function No(e,i){for(var a=i+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ma(e,a),d!=null&&o.unshift(Qa(e,d,f)),d=ma(e,i),d!=null&&o.push(Qa(e,d,f))),e.tag===3)return o;e=e.return}return[]}function DT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Th(e,i,a,o,d){for(var f=i._reactName,v=[];a!==null&&a!==o;){var A=a,O=A.alternate,j=A.stateNode;if(A=A.tag,O!==null&&O===o)break;A!==5&&A!==26&&A!==27||j===null||(O=j,d?(j=ma(a,f),j!=null&&v.unshift(Qa(a,j,O))):d||(j=ma(a,f),j!=null&&v.push(Qa(a,j,O)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var qT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function Ah(e){return(typeof e=="string"?e:""+e).replace(qT,`
`).replace(VT,"")}function Sh(e,i){return i=Ah(i),Ah(e)===i}function Fe(e,i,a,o,d,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||cs(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&cs(e,""+o);break;case"className":xr(e,"class",o);break;case"tabIndex":xr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(e,a,o);break;case"style":Ap(e,o,f);break;case"data":if(i!=="object"){xr(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=jr(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Fe(e,i,"name",d.name,d,null),Fe(e,i,"formEncType",d.formEncType,d,null),Fe(e,i,"formMethod",d.formMethod,d,null),Fe(e,i,"formTarget",d.formTarget,d,null)):(Fe(e,i,"encType",d.encType,d,null),Fe(e,i,"method",d.method,d,null),Fe(e,i,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=jr(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qt);break;case"onScroll":o!=null&&Re("scroll",e);break;case"onScrollEnd":o!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=jr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Ir(e,"popover",o);break;case"xlinkActuate":Dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Dt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Dt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Dt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Dt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ir(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=a_.get(a)||a,Ir(e,a,o))}}function Tc(e,i,a,o,d,f){switch(a){case"style":Ap(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?cs(e,o):(typeof o=="number"||typeof o=="bigint")&&cs(e,""+o);break;case"onScroll":o!=null&&Re("scroll",e);break;case"onScrollEnd":o!=null&&Re("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=e[Pn]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,d),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,d);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ir(e,a,o)}}}function Sn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var o=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Fe(e,i,f,v,a,null)}}d&&Fe(e,i,"srcSet",a.srcSet,a,null),o&&Fe(e,i,"src",a.src,a,null);return;case"input":Re("invalid",e);var A=f=v=d=null,O=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":d=G;break;case"type":v=G;break;case"checked":O=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Fe(e,i,o,G,a,null)}}Cp(e,f,A,O,j,v,d,!1);return;case"select":Re("invalid",e),o=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(A=a[d],A!=null))switch(d){case"value":f=A;break;case"defaultValue":v=A;break;case"multiple":o=A;default:Fe(e,i,d,A,a,null)}i=f,a=v,e.multiple=!!o,i!=null?us(e,!!o,i,!1):a!=null&&us(e,!!o,a,!0);return;case"textarea":Re("invalid",e),f=d=o=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":o=A;break;case"defaultValue":d=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Fe(e,i,v,A,a,null)}_p(e,o,d,f);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(o=a[O],o!=null))switch(O){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Fe(e,i,O,o,a,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(o=0;o<Ba.length;o++)Re(Ba[o],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Fe(e,i,j,o,a,null)}return;default:if(Il(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Tc(e,i,G,o,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(o=a[A],o!=null&&Fe(e,i,A,o,a,null))}function NT(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,A=null,O=null,j=null,G=null;for(F in a){var K=a[F];if(a.hasOwnProperty(F)&&K!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":O=K;default:o.hasOwnProperty(F)||Fe(e,i,F,null,o,K)}}for(var U in o){var F=o[U];if(K=a[U],o.hasOwnProperty(U)&&(F!=null||K!=null))switch(U){case"type":f=F;break;case"name":d=F;break;case"checked":j=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==K&&Fe(e,i,U,F,o,K)}}Nl(e,v,A,O,j,G,f,d);return;case"select":F=v=A=U=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":F=O;default:o.hasOwnProperty(f)||Fe(e,i,f,null,o,O)}for(d in o)if(f=o[d],O=a[d],o.hasOwnProperty(d)&&(f!=null||O!=null))switch(d){case"value":U=f;break;case"defaultValue":A=f;break;case"multiple":v=f;default:f!==O&&Fe(e,i,d,f,o,O)}i=A,a=v,o=F,U!=null?us(e,!!a,U,!1):!!o!=!!a&&(i!=null?us(e,!!a,i,!0):us(e,!!a,a?[]:"",!1));return;case"textarea":F=U=null;for(A in a)if(d=a[A],a.hasOwnProperty(A)&&d!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Fe(e,i,A,null,o,d)}for(v in o)if(d=o[v],f=a[v],o.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":U=d;break;case"defaultValue":F=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&Fe(e,i,v,d,o,f)}vp(e,U,F);return;case"option":for(var re in a)if(U=a[re],a.hasOwnProperty(re)&&U!=null&&!o.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Fe(e,i,re,null,o,U)}for(O in o)if(U=o[O],F=a[O],o.hasOwnProperty(O)&&U!==F&&(U!=null||F!=null))switch(O){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Fe(e,i,O,U,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)U=a[me],a.hasOwnProperty(me)&&U!=null&&!o.hasOwnProperty(me)&&Fe(e,i,me,null,o,U);for(j in o)if(U=o[j],F=a[j],o.hasOwnProperty(j)&&U!==F&&(U!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,i));break;default:Fe(e,i,j,U,o,F)}return;default:if(Il(i)){for(var ze in a)U=a[ze],a.hasOwnProperty(ze)&&U!==void 0&&!o.hasOwnProperty(ze)&&Tc(e,i,ze,void 0,o,U);for(G in o)U=o[G],F=a[G],!o.hasOwnProperty(G)||U===F||U===void 0&&F===void 0||Tc(e,i,G,U,o,F);return}}for(var I in a)U=a[I],a.hasOwnProperty(I)&&U!=null&&!o.hasOwnProperty(I)&&Fe(e,i,I,null,o,U);for(K in o)U=o[K],F=a[K],!o.hasOwnProperty(K)||U===F||U==null&&F==null||Fe(e,i,K,U,o,F)}function Eh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var d=a[o],f=d.transferSize,v=d.initiatorType,A=d.duration;if(f&&A&&Eh(v)){for(v=0,A=d.responseEnd,o+=1;o<a.length;o++){var O=a[o],j=O.startTime;if(j>A)break;var G=O.transferSize,K=O.initiatorType;G&&Eh(K)&&(O=O.responseEnd,v+=G*(O<A?1:(A-j)/(O-j)))}if(--o,i+=8*(f+v)/(d.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ac=null,Sc=null;function Po(e){return e.nodeType===9?e:e.ownerDocument}function Mh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bh(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ec(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mc=null;function IT(){var e=window.event;return e&&e.type==="popstate"?e===Mc?!1:(Mc=e,!0):(Mc=null,!1)}var Rh=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(e){return yh.resolve(null).then(e).catch(jT)}:Rh;function jT(e){setTimeout(function(){throw e})}function hi(e){return e==="head"}function Oh(e,i){var a=i,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(d),Fs(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ka(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ka(a);for(var f=a.firstChild;f;){var v=f.nextSibling,A=f.nodeName;f[da]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Ka(e.ownerDocument.body);a=d}while(a);Fs(i)}function Dh(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function bc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bc(a),ql(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wT(e,i,a,o){for(;e.nodeType===1;){var d=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[da])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ut(e.nextSibling),e===null)break}return null}function UT(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ut(e.nextSibling),e===null))return null;return e}function qh(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ut(e.nextSibling),e===null))return null;return e}function Rc(e){return e.data==="$?"||e.data==="$~"}function yc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function kT(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ut(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Oc=null;function Vh(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return ut(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Nh(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Ph(e,i,a){switch(i=Po(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ka(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ql(e)}var ct=new Map,Ih=new Set;function Io(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qt=J.d;J.d={f:FT,r:zT,D:GT,C:HT,L:BT,m:QT,X:$T,S:KT,M:JT};function FT(){var e=Qt.f(),i=bo();return e||i}function zT(e){var i=rs(e);i!==null&&i.tag===5&&i.type==="form"?Wm(i):Qt.r(e)}var ws=typeof document>"u"?null:document;function xh(e,i,a){var o=ws;if(o&&typeof i=="string"&&i){var d=tt(i);d='link[rel="'+e+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Ih.has(d)||(Ih.add(d),e={rel:e,crossOrigin:a,href:i},o.querySelector(d)===null&&(i=o.createElement("link"),Sn(i,"link",e),hn(i),o.head.appendChild(i)))}}function GT(e){Qt.D(e),xh("dns-prefetch",e,null)}function HT(e,i){Qt.C(e,i),xh("preconnect",e,i)}function BT(e,i,a){Qt.L(e,i,a);var o=ws;if(o&&e&&i){var d='link[rel="preload"][as="'+tt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+tt(a.imageSizes)+'"]')):d+='[href="'+tt(e)+'"]';var f=d;switch(i){case"style":f=Us(e);break;case"script":f=ks(e)}ct.has(f)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),ct.set(f,e),o.querySelector(d)!==null||i==="style"&&o.querySelector($a(f))||i==="script"&&o.querySelector(Ja(f))||(i=o.createElement("link"),Sn(i,"link",e),hn(i),o.head.appendChild(i)))}}function QT(e,i){Qt.m(e,i);var a=ws;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+tt(o)+'"][href="'+tt(e)+'"]',f=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ks(e)}if(!ct.has(f)&&(e=C({rel:"modulepreload",href:e},i),ct.set(f,e),a.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ja(f)))return}o=a.createElement("link"),Sn(o,"link",e),hn(o),a.head.appendChild(o)}}}function KT(e,i,a){Qt.S(e,i,a);var o=ws;if(o&&e){var d=os(o).hoistableStyles,f=Us(e);i=i||"default";var v=d.get(f);if(!v){var A={loading:0,preload:null};if(v=o.querySelector($a(f)))A.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=ct.get(f))&&Dc(e,a);var O=v=o.createElement("link");hn(O),Sn(O,"link",e),O._p=new Promise(function(j,G){O.onload=j,O.onerror=G}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,xo(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:A},d.set(f,v)}}}function $T(e,i){Qt.X(e,i);var a=ws;if(a&&e){var o=os(a).hoistableScripts,d=ks(e),f=o.get(d);f||(f=a.querySelector(Ja(d)),f||(e=C({src:e,async:!0},i),(i=ct.get(d))&&qc(e,i),f=a.createElement("script"),hn(f),Sn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function JT(e,i){Qt.M(e,i);var a=ws;if(a&&e){var o=os(a).hoistableScripts,d=ks(e),f=o.get(d);f||(f=a.querySelector(Ja(d)),f||(e=C({src:e,async:!0,type:"module"},i),(i=ct.get(d))&&qc(e,i),f=a.createElement("script"),hn(f),Sn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function Lh(e,i,a,o){var d=(d=ce.current)?Io(d):null;if(!d)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Us(a.href),a=os(d).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Us(a.href);var f=os(d).hoistableStyles,v=f.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=d.querySelector($a(e)))&&!f._p&&(v.instance=f,v.state.loading=5),ct.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ct.set(e,a),f||WT(d,e,a,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ks(a),a=os(d).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Us(e){return'href="'+tt(e)+'"'}function $a(e){return'link[rel="stylesheet"]['+e+"]"}function jh(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function WT(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Sn(i,"link",a),hn(i),e.head.appendChild(i))}function ks(e){return'[src="'+tt(e)+'"]'}function Ja(e){return"script[async]"+e}function wh(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+tt(a.href)+'"]');if(o)return i.instance=o,hn(o),o;var d=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),hn(o),Sn(o,"style",d),xo(o,a.precedence,e),i.instance=o;case"stylesheet":d=Us(a.href);var f=e.querySelector($a(d));if(f)return i.state.loading|=4,i.instance=f,hn(f),f;o=jh(a),(d=ct.get(d))&&Dc(o,d),f=(e.ownerDocument||e).createElement("link"),hn(f);var v=f;return v._p=new Promise(function(A,O){v.onload=A,v.onerror=O}),Sn(f,"link",o),i.state.loading|=4,xo(f,a.precedence,e),i.instance=f;case"script":return f=ks(a.src),(d=e.querySelector(Ja(f)))?(i.instance=d,hn(d),d):(o=a,(d=ct.get(f))&&(o=C({},a),qc(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),hn(d),Sn(d,"link",o),e.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,xo(o,a.precedence,e));return i.instance}function xo(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,f=d,v=0;v<o.length;v++){var A=o[v];if(A.dataset.precedence===i)f=A;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Dc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function qc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Lo=null;function Uh(e,i,a){if(Lo===null){var o=new Map,d=Lo=new Map;d.set(a,o)}else d=Lo,o=d.get(a),o||(o=new Map,d.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),d=0;d<a.length;d++){var f=a[d];if(!(f[da]||f[vn]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var A=o.get(v);A?A.push(f):o.set(v,[f])}}return o}function kh(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function YT(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function XT(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Us(o.href),f=i.querySelector($a(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=jo.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,hn(f);return}f=i.ownerDocument||i,o=jh(o),(d=ct.get(d))&&Dc(o,d),f=f.createElement("link"),hn(f);var v=f;v._p=new Promise(function(A,O){v.onload=A,v.onerror=O}),Sn(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=jo.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vc=0;function ZT(e,i){return e.stylesheets&&e.count===0&&Uo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Uo(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Vc===0&&(Vc=62500*PT());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uo(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Vc?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function jo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wo=null;function Uo(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wo=new Map,i.forEach(e0,e),wo=null,jo.call(e))}function e0(e,i){if(!(i.state.loading&4)){var a=wo.get(e);if(a)var o=a.get(null);else{a=new Map,wo.set(e,a);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}d=i.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,d),a.set(v,d),this.count++,o=jo.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),i.state.loading|=4}}var Wa={$$typeof:N,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function n0(e,i,a,o,d,f,v,A,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.hiddenUpdates=Rl(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function zh(e,i,a,o,d,f,v,A,O,j,G,K){return e=new n0(e,i,a,v,O,j,G,K,A),i=1,f===!0&&(i|=24),f=Hn(3,null,null,i),e.current=f,f.stateNode=e,i=cu(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},fu(f),e}function Gh(e){return e?(e=Cs,e):Cs}function Hh(e,i,a,o,d,f){d=Gh(d),o.context===null?o.context=d:o.pendingContext=d,o=si(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ai(e,o,i),a!==null&&(Un(a,e,i),Oa(a,e,i))}function Bh(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Nc(e,i){Bh(e,i),(e=e.alternate)&&Bh(e,i)}function Qh(e){if(e.tag===13||e.tag===31){var i=Vi(e,67108864);i!==null&&Un(i,e,67108864),Nc(e,67108864)}}function Kh(e){if(e.tag===13||e.tag===31){var i=Jn();i=yl(i);var a=Vi(e,i);a!==null&&Un(a,e,i),Nc(e,i)}}var ko=!0;function t0(e,i,a,o){var d=w.T;w.T=null;var f=J.p;try{J.p=2,Pc(e,i,a,o)}finally{J.p=f,w.T=d}}function i0(e,i,a,o){var d=w.T;w.T=null;var f=J.p;try{J.p=8,Pc(e,i,a,o)}finally{J.p=f,w.T=d}}function Pc(e,i,a,o){if(ko){var d=Ic(o);if(d===null)_c(e,i,o,Fo,a),Jh(e,o);else if(a0(d,e,i,a,o))o.stopPropagation();else if(Jh(e,o),i&4&&-1<s0.indexOf(e)){for(;d!==null;){var f=rs(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Ri(f.pendingLanes);if(v!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var O=1<<31-Ge(v);A.entanglements[1]|=O,v&=~O}Et(f),(xe&6)===0&&(Eo=On()+500,Ha(0))}}break;case 31:case 13:A=Vi(f,2),A!==null&&Un(A,f,2),bo(),Nc(f,2)}if(f=Ic(o),f===null&&_c(e,i,o,Fo,a),f===d)break;d=f}d!==null&&o.stopPropagation()}else _c(e,i,o,null,a)}}function Ic(e){return e=Ll(e),xc(e)}var Fo=null;function xc(e){if(Fo=null,e=as(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=c(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Fo=e,null}function $h(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bl()){case B:return 2;case ee:return 8;case Ce:case Me:return 32;case Le:return 268435456;default:return 32}default:return 32}}var Lc=!1,gi=null,Ci=null,vi=null,Ya=new Map,Xa=new Map,_i=[],s0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jh(e,i){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Ya.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(i.pointerId)}}function Za(e,i,a,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},i!==null&&(i=rs(i),i!==null&&Qh(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function a0(e,i,a,o,d){switch(i){case"focusin":return gi=Za(gi,e,i,a,o,d),!0;case"dragenter":return Ci=Za(Ci,e,i,a,o,d),!0;case"mouseover":return vi=Za(vi,e,i,a,o,d),!0;case"pointerover":var f=d.pointerId;return Ya.set(f,Za(Ya.get(f)||null,e,i,a,o,d)),!0;case"gotpointercapture":return f=d.pointerId,Xa.set(f,Za(Xa.get(f)||null,e,i,a,o,d)),!0}return!1}function Wh(e){var i=as(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){e.blockedOn=i,up(e.priority,function(){Kh(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,up(e.priority,function(){Kh(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zo(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ic(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);xl=o,a.target.dispatchEvent(o),xl=null}else return i=rs(a),i!==null&&Qh(i),e.blockedOn=a,!1;i.shift()}return!0}function Yh(e,i,a){zo(e)&&a.delete(i)}function r0(){Lc=!1,gi!==null&&zo(gi)&&(gi=null),Ci!==null&&zo(Ci)&&(Ci=null),vi!==null&&zo(vi)&&(vi=null),Ya.forEach(Yh),Xa.forEach(Yh)}function Go(e,i){e.blockedOn===i&&(e.blockedOn=null,Lc||(Lc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,r0)))}var Ho=null;function Xh(e){Ho!==e&&(Ho=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ho===e&&(Ho=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],d=e[i+2];if(typeof o!="function"){if(xc(o||a)===null)continue;break}var f=rs(a);f!==null&&(e.splice(i,3),i-=3,Iu(f,{pending:!0,data:d,method:a.method,action:o},o,d))}}))}function Fs(e){function i(O){return Go(O,e)}gi!==null&&Go(gi,e),Ci!==null&&Go(Ci,e),vi!==null&&Go(vi,e),Ya.forEach(i),Xa.forEach(i);for(var a=0;a<_i.length;a++){var o=_i[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<_i.length&&(a=_i[0],a.blockedOn===null);)Wh(a),a.blockedOn===null&&_i.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var d=a[o],f=a[o+1],v=d[Pn]||null;if(typeof f=="function")v||Xh(a);else if(v){var A=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Pn]||null)A=v.formAction;else if(xc(d)!==null)continue}else A=v.action;typeof A=="function"?a[o+1]=A:(a.splice(o,3),o-=3),Xh(a)}}}function Zh(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function jc(e){this._internalRoot=e}Bo.prototype.render=jc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Jn();Hh(a,o,e,i,null,null)},Bo.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Hh(e.current,2,null,e,null,null),bo(),i[ss]=null}};function Bo(e){this._internalRoot=e}Bo.prototype.unstable_scheduleHydration=function(e){if(e){var i=lp();e={blockedOn:null,target:e,priority:i};for(var a=0;a<_i.length&&i!==0&&i<_i[a].priority;a++);_i.splice(a,0,e),a===0&&Wh(e)}};var eg=t.version;if(eg!=="19.2.4")throw Error(r(527,eg,"19.2.4"));J.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var o0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{Dn=Qo.inject(o0),pn=Qo}catch{}}return nr.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",d=of,f=lf,v=uf;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=zh(e,1,!1,null,null,a,o,null,d,f,v,Zh),e[ss]=i.current,vc(e),new jc(i)},nr.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,d="",f=of,v=lf,A=uf,O=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=zh(e,1,!0,i,a??null,o,d,O,f,v,A,Zh),i.context=Gh(null),a=i.current,o=Jn(),o=yl(o),d=si(o),d.callback=null,ai(a,d,o),a=o,i.current.lanes=a,ca(i,a),Et(i),e[ss]=i.current,vc(e),new Bo(i)},nr.version="19.2.4",nr}var cg;function C0(){if(cg)return kc.exports;cg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),kc.exports=g0(),kc.exports}var v0=C0();function _0(n,t){const s={};return(n[n.length-1]===""?[...n,""]:n).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const T0=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,A0=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,S0={};function dg(n,t){return(S0.jsx?A0:T0).test(n)}const E0=/[ \t\n\f\r]/g;function M0(n){return typeof n=="object"?n.type==="text"?pg(n.value):!1:pg(n)}function pg(n){return n.replace(E0,"")===""}class Er{constructor(t,s,r){this.normal=s,this.property=t,r&&(this.space=r)}}Er.prototype.normal={};Er.prototype.property={};Er.prototype.space=void 0;function RC(n,t){const s={},r={};for(const l of n)Object.assign(s,l.property),Object.assign(r,l.normal);return new Er(s,r,t)}function fd(n){return n.toLowerCase()}class Fn{constructor(t,s){this.attribute=s,this.property=t}}Fn.prototype.attribute="";Fn.prototype.booleanish=!1;Fn.prototype.boolean=!1;Fn.prototype.commaOrSpaceSeparated=!1;Fn.prototype.commaSeparated=!1;Fn.prototype.defined=!1;Fn.prototype.mustUseProperty=!1;Fn.prototype.number=!1;Fn.prototype.overloadedBoolean=!1;Fn.prototype.property="";Fn.prototype.spaceSeparated=!1;Fn.prototype.space=void 0;let b0=0;const Se=Zi(),cn=Zi(),hd=Zi(),Z=Zi(),Ke=Zi(),na=Zi(),Wn=Zi();function Zi(){return 2**++b0}const gd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Se,booleanish:cn,commaOrSpaceSeparated:Wn,commaSeparated:na,number:Z,overloadedBoolean:hd,spaceSeparated:Ke},Symbol.toStringTag,{value:"Module"})),Hc=Object.keys(gd);class jd extends Fn{constructor(t,s,r,l){let u=-1;if(super(t,s),mg(this,"space",l),typeof r=="number")for(;++u<Hc.length;){const c=Hc[u];mg(this,Hc[u],(r&gd[c])===gd[c])}}}jd.prototype.defined=!0;function mg(n,t,s){s&&(n[t]=s)}function sa(n){const t={},s={};for(const[r,l]of Object.entries(n.properties)){const u=new jd(r,n.transform(n.attributes||{},r),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(u.mustUseProperty=!0),t[r]=u,s[fd(r)]=r,s[fd(u.attribute)]=r}return new Er(t,s,n.space)}const yC=sa({properties:{ariaActiveDescendant:null,ariaAtomic:cn,ariaAutoComplete:null,ariaBusy:cn,ariaChecked:cn,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:Ke,ariaCurrent:null,ariaDescribedBy:Ke,ariaDetails:null,ariaDisabled:cn,ariaDropEffect:Ke,ariaErrorMessage:null,ariaExpanded:cn,ariaFlowTo:Ke,ariaGrabbed:cn,ariaHasPopup:null,ariaHidden:cn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ke,ariaLevel:Z,ariaLive:null,ariaModal:cn,ariaMultiLine:cn,ariaMultiSelectable:cn,ariaOrientation:null,ariaOwns:Ke,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:cn,ariaReadOnly:cn,ariaRelevant:null,ariaRequired:cn,ariaRoleDescription:Ke,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:cn,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function OC(n,t){return t in n?n[t]:t}function DC(n,t){return OC(n,t.toLowerCase())}const R0=sa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:na,acceptCharset:Ke,accessKey:Ke,action:null,allow:null,allowFullScreen:Se,allowPaymentRequest:Se,allowUserMedia:Se,alt:null,as:null,async:Se,autoCapitalize:null,autoComplete:Ke,autoFocus:Se,autoPlay:Se,blocking:Ke,capture:null,charSet:null,checked:Se,cite:null,className:Ke,cols:Z,colSpan:null,content:null,contentEditable:cn,controls:Se,controlsList:Ke,coords:Z|na,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Se,defer:Se,dir:null,dirName:null,disabled:Se,download:hd,draggable:cn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Se,formTarget:null,headers:Ke,height:Z,hidden:hd,high:Z,href:null,hrefLang:null,htmlFor:Ke,httpEquiv:Ke,id:null,imageSizes:null,imageSrcSet:null,inert:Se,inputMode:null,integrity:null,is:null,isMap:Se,itemId:null,itemProp:Ke,itemRef:Ke,itemScope:Se,itemType:Ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Se,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:Se,muted:Se,name:null,nonce:null,noModule:Se,noValidate:Se,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Se,optimum:Z,pattern:null,ping:Ke,placeholder:null,playsInline:Se,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Se,referrerPolicy:null,rel:Ke,required:Se,reversed:Se,rows:Z,rowSpan:Z,sandbox:Ke,scope:null,scoped:Se,seamless:Se,selected:Se,shadowRootClonable:Se,shadowRootDelegatesFocus:Se,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:cn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:Se,useMap:null,value:cn,width:Z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ke,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Se,declare:Se,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:Se,noHref:Se,noShade:Se,noWrap:Se,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:cn,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Se,disableRemotePlayback:Se,prefix:null,property:null,results:Z,security:null,unselectable:null},space:"html",transform:DC}),y0=sa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wn,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:Ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:Se,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:na,g2:na,glyphName:na,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:Wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wn,rev:Wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wn,requiredFeatures:Wn,requiredFonts:Wn,requiredFormats:Wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:Wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wn,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:OC}),qC=sa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),VC=sa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:DC}),NC=sa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),O0={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},D0=/[A-Z]/g,fg=/-[a-z]/g,q0=/^data[-\w.:]+$/i;function V0(n,t){const s=fd(t);let r=t,l=Fn;if(s in n.normal)return n.property[n.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&q0.test(t)){if(t.charAt(4)==="-"){const u=t.slice(5).replace(fg,P0);r="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=t.slice(4);if(!fg.test(u)){let c=u.replace(D0,N0);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}l=jd}return new l(r,t)}function N0(n){return"-"+n.toLowerCase()}function P0(n){return n.charAt(1).toUpperCase()}const I0=RC([yC,R0,qC,VC,NC],"html"),wd=RC([yC,y0,qC,VC,NC],"svg");function x0(n){return n.join(" ").trim()}var zs={},Bc,hg;function L0(){if(hg)return Bc;hg=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,s=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,p=/^\s+|\s+$/g,h=`
`,m="/",g="*",C="",T="comment",_="declaration";function S(D,R){if(typeof D!="string")throw new TypeError("First argument must be a string");if(!D)return[];R=R||{};var P=1,N=1;function $(ie){var X=ie.match(t);X&&(P+=X.length);var w=ie.lastIndexOf(h);N=~w?ie.length-w:N+ie.length}function Y(){var ie={line:P,column:N};return function(X){return X.position=new x(ie),ae(),X}}function x(ie){this.start=ie,this.end={line:P,column:N},this.source=R.source}x.prototype.content=D;function z(ie){var X=new Error(R.source+":"+P+":"+N+": "+ie);if(X.reason=ie,X.filename=R.source,X.line=P,X.column=N,X.source=D,!R.silent)throw X}function te(ie){var X=ie.exec(D);if(X){var w=X[0];return $(w),D=D.slice(w.length),X}}function ae(){te(s)}function k(ie){var X;for(ie=ie||[];X=W();)X!==!1&&ie.push(X);return ie}function W(){var ie=Y();if(!(m!=D.charAt(0)||g!=D.charAt(1))){for(var X=2;C!=D.charAt(X)&&(g!=D.charAt(X)||m!=D.charAt(X+1));)++X;if(X+=2,C===D.charAt(X-1))return z("End of comment missing");var w=D.slice(2,X-2);return N+=2,$(w),D=D.slice(X),N+=2,ie({type:T,comment:w})}}function ne(){var ie=Y(),X=te(r);if(X){if(W(),!te(l))return z("property missing ':'");var w=te(u),J=ie({type:_,property:b(X[0].replace(n,C)),value:w?b(w[0].replace(n,C)):C});return te(c),J}}function ve(){var ie=[];k(ie);for(var X;X=ne();)X!==!1&&(ie.push(X),k(ie));return ie}return ae(),ve()}function b(D){return D?D.replace(p,C):C}return Bc=S,Bc}var gg;function j0(){if(gg)return zs;gg=1;var n=zs&&zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zs,"__esModule",{value:!0}),zs.default=s;const t=n(L0());function s(r,l){let u=null;if(!r||typeof r!="string")return u;const c=(0,t.default)(r),p=typeof l=="function";return c.forEach(h=>{if(h.type!=="declaration")return;const{property:m,value:g}=h;p?l(m,g,h):g&&(u=u||{},u[m]=g)}),u}return zs}var tr={},Cg;function w0(){if(Cg)return tr;Cg=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,s=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,u=function(m){return!m||s.test(m)||n.test(m)},c=function(m,g){return g.toUpperCase()},p=function(m,g){return"".concat(g,"-")},h=function(m,g){return g===void 0&&(g={}),u(m)?m:(m=m.toLowerCase(),g.reactCompat?m=m.replace(l,p):m=m.replace(r,p),m.replace(t,c))};return tr.camelCase=h,tr}var ir,vg;function U0(){if(vg)return ir;vg=1;var n=ir&&ir.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},t=n(j0()),s=w0();function r(l,u){var c={};return!l||typeof l!="string"||(0,t.default)(l,function(p,h){p&&h&&(c[(0,s.camelCase)(p,u)]=h)}),c}return r.default=r,ir=r,ir}var k0=U0();const F0=bC(k0),PC=IC("end"),Ud=IC("start");function IC(n){return t;function t(s){const r=s&&s.position&&s.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function z0(n){const t=Ud(n),s=PC(n);if(t&&s)return{start:t,end:s}}function ur(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?_g(n.position):"start"in n||"end"in n?_g(n):"line"in n||"column"in n?Cd(n):""}function Cd(n){return Tg(n&&n.line)+":"+Tg(n&&n.column)}function _g(n){return Cd(n&&n.start)+"-"+Cd(n&&n.end)}function Tg(n){return n&&typeof n=="number"?n:1}class yn extends Error{constructor(t,s,r){super(),typeof s=="string"&&(r=s,s=void 0);let l="",u={},c=!1;if(s&&("line"in s&&"column"in s?u={place:s}:"start"in s&&"end"in s?u={place:s}:"type"in s?u={ancestors:[s],place:s.position}:u={...s}),typeof t=="string"?l=t:!u.cause&&t&&(c=!0,l=t.message,u.cause=t),!u.ruleId&&!u.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?u.ruleId=r:(u.source=r.slice(0,h),u.ruleId=r.slice(h+1))}if(!u.place&&u.ancestors&&u.ancestors){const h=u.ancestors[u.ancestors.length-1];h&&(u.place=h.position)}const p=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=p?p.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=p?p.line:void 0,this.name=ur(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}yn.prototype.file="";yn.prototype.name="";yn.prototype.reason="";yn.prototype.message="";yn.prototype.stack="";yn.prototype.column=void 0;yn.prototype.line=void 0;yn.prototype.ancestors=void 0;yn.prototype.cause=void 0;yn.prototype.fatal=void 0;yn.prototype.place=void 0;yn.prototype.ruleId=void 0;yn.prototype.source=void 0;const kd={}.hasOwnProperty,G0=new Map,H0=/[A-Z]/g,B0=new Set(["table","tbody","thead","tfoot","tr"]),Q0=new Set(["td","th"]),xC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function K0(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=nA(s,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=eA(s,t.jsx,t.jsxs)}const l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?wd:I0,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},u=LC(l,n,void 0);return u&&typeof u!="string"?u:l.create(n,l.Fragment,{children:u||void 0},void 0)}function LC(n,t,s){if(t.type==="element")return $0(n,t,s);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return J0(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Y0(n,t,s);if(t.type==="mdxjsEsm")return W0(n,t);if(t.type==="root")return X0(n,t,s);if(t.type==="text")return Z0(n,t)}function $0(n,t,s){const r=n.schema;let l=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(l=wd,n.schema=l),n.ancestors.push(t);const u=wC(n,t.tagName,!1),c=tA(n,t);let p=zd(n,t);return B0.has(t.tagName)&&(p=p.filter(function(h){return typeof h=="string"?!M0(h):!0})),jC(n,c,u,t),Fd(c,p),n.ancestors.pop(),n.schema=r,n.create(t,u,c,s)}function J0(n,t){if(t.data&&t.data.estree&&n.evaluater){const r=t.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}fr(n,t.position)}function W0(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);fr(n,t.position)}function Y0(n,t,s){const r=n.schema;let l=r;t.name==="svg"&&r.space==="html"&&(l=wd,n.schema=l),n.ancestors.push(t);const u=t.name===null?n.Fragment:wC(n,t.name,!0),c=iA(n,t),p=zd(n,t);return jC(n,c,u,t),Fd(c,p),n.ancestors.pop(),n.schema=r,n.create(t,u,c,s)}function X0(n,t,s){const r={};return Fd(r,zd(n,t)),n.create(t,n.Fragment,r,s)}function Z0(n,t){return t.value}function jC(n,t,s,r){typeof s!="string"&&s!==n.Fragment&&n.passNode&&(t.node=r)}function Fd(n,t){if(t.length>0){const s=t.length>1?t:t[0];s&&(n.children=s)}}function eA(n,t,s){return r;function r(l,u,c,p){const m=Array.isArray(c.children)?s:t;return p?m(u,c,p):m(u,c)}}function nA(n,t){return s;function s(r,l,u,c){const p=Array.isArray(u.children),h=Ud(r);return t(l,u,c,p,{columnNumber:h?h.column-1:void 0,fileName:n,lineNumber:h?h.line:void 0},void 0)}}function tA(n,t){const s={};let r,l;for(l in t.properties)if(l!=="children"&&kd.call(t.properties,l)){const u=sA(n,l,t.properties[l]);if(u){const[c,p]=u;n.tableCellAlignToStyle&&c==="align"&&typeof p=="string"&&Q0.has(t.tagName)?r=p:s[c]=p}}if(r){const u=s.style||(s.style={});u[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return s}function iA(n,t){const s={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const u=r.data.estree.body[0];u.type;const c=u.expression;c.type;const p=c.properties[0];p.type,Object.assign(s,n.evaluater.evaluateExpression(p.argument))}else fr(n,t.position);else{const l=r.name;let u;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const p=r.value.data.estree.body[0];p.type,u=n.evaluater.evaluateExpression(p.expression)}else fr(n,t.position);else u=r.value===null?!0:r.value;s[l]=u}return s}function zd(n,t){const s=[];let r=-1;const l=n.passKeys?new Map:G0;for(;++r<t.children.length;){const u=t.children[r];let c;if(n.passKeys){const h=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(h){const m=l.get(h)||0;c=h+"-"+m,l.set(h,m+1)}}const p=LC(n,u,c);p!==void 0&&s.push(p)}return s}function sA(n,t,s){const r=V0(n.schema,t);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=r.commaSeparated?_0(s):x0(s)),r.property==="style"){let l=typeof s=="object"?s:aA(n,String(s));return n.stylePropertyNameCase==="css"&&(l=rA(l)),["style",l]}return[n.elementAttributeNameCase==="react"&&r.space?O0[r.property]||r.property:r.attribute,s]}}function aA(n,t){try{return F0(t,{reactCompat:!0})}catch(s){if(n.ignoreInvalidStyle)return{};const r=s,l=new yn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=n.filePath||void 0,l.url=xC+"#cannot-parse-style-attribute",l}}function wC(n,t,s){let r;if(!s)r={type:"Literal",value:t};else if(t.includes(".")){const l=t.split(".");let u=-1,c;for(;++u<l.length;){const p=dg(l[u])?{type:"Identifier",name:l[u]}:{type:"Literal",value:l[u]};c=c?{type:"MemberExpression",object:c,property:p,computed:!!(u&&p.type==="Literal"),optional:!1}:p}r=c}else r=dg(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const l=r.value;return kd.call(n.components,l)?n.components[l]:l}if(n.evaluater)return n.evaluater.evaluateExpression(r);fr(n)}function fr(n,t){const s=new yn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=n.filePath||void 0,s.url=xC+"#cannot-handle-mdx-estrees-without-createevaluater",s}function rA(n){const t={};let s;for(s in n)kd.call(n,s)&&(t[oA(s)]=n[s]);return t}function oA(n){let t=n.replace(H0,lA);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function lA(n){return"-"+n.toLowerCase()}const Qc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},uA={};function Gd(n,t){const s=uA,r=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,l=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return UC(n,r,l)}function UC(n,t,s){if(cA(n)){if("value"in n)return n.type==="html"&&!s?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Ag(n.children,t,s)}return Array.isArray(n)?Ag(n,t,s):""}function Ag(n,t,s){const r=[];let l=-1;for(;++l<n.length;)r[l]=UC(n[l],t,s);return r.join("")}function cA(n){return!!(n&&typeof n=="object")}const Sg=document.createElement("i");function Hd(n){const t="&"+n+";";Sg.innerHTML=t;const s=Sg.textContent;return s.charCodeAt(s.length-1)===59&&n!=="semi"||s===t?!1:s}function Zn(n,t,s,r){const l=n.length;let u=0,c;if(t<0?t=-t>l?0:l+t:t=t>l?l:t,s=s>0?s:0,r.length<1e4)c=Array.from(r),c.unshift(t,s),n.splice(...c);else for(s&&n.splice(t,s);u<r.length;)c=r.slice(u,u+1e4),c.unshift(t,0),n.splice(...c),u+=1e4,t+=1e4}function dt(n,t){return n.length>0?(Zn(n,n.length,0,t),n):t}const Eg={}.hasOwnProperty;function kC(n){const t={};let s=-1;for(;++s<n.length;)dA(t,n[s]);return t}function dA(n,t){let s;for(s in t){const l=(Eg.call(n,s)?n[s]:void 0)||(n[s]={}),u=t[s];let c;if(u)for(c in u){Eg.call(l,c)||(l[c]=[]);const p=u[c];pA(l[c],Array.isArray(p)?p:p?[p]:[])}}}function pA(n,t){let s=-1;const r=[];for(;++s<t.length;)(t[s].add==="after"?n:r).push(t[s]);Zn(n,0,0,r)}function FC(n,t){const s=Number.parseInt(n,t);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"":String.fromCodePoint(s)}function _t(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vn=bi(/[A-Za-z]/),Rn=bi(/[\dA-Za-z]/),mA=bi(/[#-'*+\--9=?A-Z^-~]/);function rl(n){return n!==null&&(n<32||n===127)}const vd=bi(/\d/),fA=bi(/[\dA-Fa-f]/),hA=bi(/[!-/:-@[-`{-~]/);function pe(n){return n!==null&&n<-2}function Be(n){return n!==null&&(n<0||n===32)}function ye(n){return n===-2||n===-1||n===32}const ml=bi(new RegExp("\\p{P}|\\p{S}","u")),Xi=bi(/\s/);function bi(n){return t;function t(s){return s!==null&&s>-1&&n.test(String.fromCharCode(s))}}function aa(n){const t=[];let s=-1,r=0,l=0;for(;++s<n.length;){const u=n.charCodeAt(s);let c="";if(u===37&&Rn(n.charCodeAt(s+1))&&Rn(n.charCodeAt(s+2)))l=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const p=n.charCodeAt(s+1);u<56320&&p>56319&&p<57344?(c=String.fromCharCode(u,p),l=1):c=""}else c=String.fromCharCode(u);c&&(t.push(n.slice(r,s),encodeURIComponent(c)),r=s+l+1,c=""),l&&(s+=l,l=0)}return t.join("")+n.slice(r)}function Ne(n,t,s,r){const l=r?r-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(h){return ye(h)?(n.enter(s),p(h)):t(h)}function p(h){return ye(h)&&u++<l?(n.consume(h),p):(n.exit(s),t(h))}}const gA={tokenize:CA};function CA(n){const t=n.attempt(this.parser.constructs.contentInitial,r,l);let s;return t;function r(p){if(p===null){n.consume(p);return}return n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),Ne(n,t,"linePrefix")}function l(p){return n.enter("paragraph"),u(p)}function u(p){const h=n.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=h),s=h,c(p)}function c(p){if(p===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(p);return}return pe(p)?(n.consume(p),n.exit("chunkText"),u):(n.consume(p),c)}}const vA={tokenize:_A},Mg={tokenize:TA};function _A(n){const t=this,s=[];let r=0,l,u,c;return p;function p(N){if(r<s.length){const $=s[r];return t.containerState=$[1],n.attempt($[0].continuation,h,m)(N)}return m(N)}function h(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,l&&P();const $=t.events.length;let Y=$,x;for(;Y--;)if(t.events[Y][0]==="exit"&&t.events[Y][1].type==="chunkFlow"){x=t.events[Y][1].end;break}R(r);let z=$;for(;z<t.events.length;)t.events[z][1].end={...x},z++;return Zn(t.events,Y+1,0,t.events.slice($)),t.events.length=z,m(N)}return p(N)}function m(N){if(r===s.length){if(!l)return T(N);if(l.currentConstruct&&l.currentConstruct.concrete)return S(N);t.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(Mg,g,C)(N)}function g(N){return l&&P(),R(r),T(N)}function C(N){return t.parser.lazy[t.now().line]=r!==s.length,c=t.now().offset,S(N)}function T(N){return t.containerState={},n.attempt(Mg,_,S)(N)}function _(N){return r++,s.push([t.currentConstruct,t.containerState]),T(N)}function S(N){if(N===null){l&&P(),R(0),n.consume(N);return}return l=l||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:u}),b(N)}function b(N){if(N===null){D(n.exit("chunkFlow"),!0),R(0),n.consume(N);return}return pe(N)?(n.consume(N),D(n.exit("chunkFlow")),r=0,t.interrupt=void 0,p):(n.consume(N),b)}function D(N,$){const Y=t.sliceStream(N);if($&&Y.push(null),N.previous=u,u&&(u.next=N),u=N,l.defineSkip(N.start),l.write(Y),t.parser.lazy[N.start.line]){let x=l.events.length;for(;x--;)if(l.events[x][1].start.offset<c&&(!l.events[x][1].end||l.events[x][1].end.offset>c))return;const z=t.events.length;let te=z,ae,k;for(;te--;)if(t.events[te][0]==="exit"&&t.events[te][1].type==="chunkFlow"){if(ae){k=t.events[te][1].end;break}ae=!0}for(R(r),x=z;x<t.events.length;)t.events[x][1].end={...k},x++;Zn(t.events,te+1,0,t.events.slice(z)),t.events.length=x}}function R(N){let $=s.length;for(;$-- >N;){const Y=s[$];t.containerState=Y[1],Y[0].exit.call(t,n)}s.length=N}function P(){l.write([null]),u=void 0,l=void 0,t.containerState._closeFlow=void 0}}function TA(n,t,s){return Ne(n,n.attempt(this.parser.constructs.document,t,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ia(n){if(n===null||Be(n)||Xi(n))return 1;if(ml(n))return 2}function fl(n,t,s){const r=[];let l=-1;for(;++l<n.length;){const u=n[l].resolveAll;u&&!r.includes(u)&&(t=u(t,s),r.push(u))}return t}const _d={name:"attention",resolveAll:AA,tokenize:SA};function AA(n,t){let s=-1,r,l,u,c,p,h,m,g;for(;++s<n.length;)if(n[s][0]==="enter"&&n[s][1].type==="attentionSequence"&&n[s][1]._close){for(r=s;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&t.sliceSerialize(n[r][1]).charCodeAt(0)===t.sliceSerialize(n[s][1]).charCodeAt(0)){if((n[r][1]._close||n[s][1]._open)&&(n[s][1].end.offset-n[s][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[s][1].end.offset-n[s][1].start.offset)%3))continue;h=n[r][1].end.offset-n[r][1].start.offset>1&&n[s][1].end.offset-n[s][1].start.offset>1?2:1;const C={...n[r][1].end},T={...n[s][1].start};bg(C,-h),bg(T,h),c={type:h>1?"strongSequence":"emphasisSequence",start:C,end:{...n[r][1].end}},p={type:h>1?"strongSequence":"emphasisSequence",start:{...n[s][1].start},end:T},u={type:h>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[s][1].start}},l={type:h>1?"strong":"emphasis",start:{...c.start},end:{...p.end}},n[r][1].end={...c.start},n[s][1].start={...p.end},m=[],n[r][1].end.offset-n[r][1].start.offset&&(m=dt(m,[["enter",n[r][1],t],["exit",n[r][1],t]])),m=dt(m,[["enter",l,t],["enter",c,t],["exit",c,t],["enter",u,t]]),m=dt(m,fl(t.parser.constructs.insideSpan.null,n.slice(r+1,s),t)),m=dt(m,[["exit",u,t],["enter",p,t],["exit",p,t],["exit",l,t]]),n[s][1].end.offset-n[s][1].start.offset?(g=2,m=dt(m,[["enter",n[s][1],t],["exit",n[s][1],t]])):g=0,Zn(n,r-1,s-r+3,m),s=r+m.length-g-2;break}}for(s=-1;++s<n.length;)n[s][1].type==="attentionSequence"&&(n[s][1].type="data");return n}function SA(n,t){const s=this.parser.constructs.attentionMarkers.null,r=this.previous,l=ia(r);let u;return c;function c(h){return u=h,n.enter("attentionSequence"),p(h)}function p(h){if(h===u)return n.consume(h),p;const m=n.exit("attentionSequence"),g=ia(h),C=!g||g===2&&l||s.includes(h),T=!l||l===2&&g||s.includes(r);return m._open=!!(u===42?C:C&&(l||!T)),m._close=!!(u===42?T:T&&(g||!C)),t(h)}}function bg(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const EA={name:"autolink",tokenize:MA};function MA(n,t,s){let r=0;return l;function l(_){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),u}function u(_){return Vn(_)?(n.consume(_),c):_===64?s(_):m(_)}function c(_){return _===43||_===45||_===46||Rn(_)?(r=1,p(_)):m(_)}function p(_){return _===58?(n.consume(_),r=0,h):(_===43||_===45||_===46||Rn(_))&&r++<32?(n.consume(_),p):(r=0,m(_))}function h(_){return _===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.exit("autolink"),t):_===null||_===32||_===60||rl(_)?s(_):(n.consume(_),h)}function m(_){return _===64?(n.consume(_),g):mA(_)?(n.consume(_),m):s(_)}function g(_){return Rn(_)?C(_):s(_)}function C(_){return _===46?(n.consume(_),r=0,g):_===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.exit("autolink"),t):T(_)}function T(_){if((_===45||Rn(_))&&r++<63){const S=_===45?T:C;return n.consume(_),S}return s(_)}}const Mr={partial:!0,tokenize:bA};function bA(n,t,s){return r;function r(u){return ye(u)?Ne(n,l,"linePrefix")(u):l(u)}function l(u){return u===null||pe(u)?t(u):s(u)}}const zC={continuation:{tokenize:yA},exit:OA,name:"blockQuote",tokenize:RA};function RA(n,t,s){const r=this;return l;function l(c){if(c===62){const p=r.containerState;return p.open||(n.enter("blockQuote",{_container:!0}),p.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(c),n.exit("blockQuoteMarker"),u}return s(c)}function u(c){return ye(c)?(n.enter("blockQuotePrefixWhitespace"),n.consume(c),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(c))}}function yA(n,t,s){const r=this;return l;function l(c){return ye(c)?Ne(n,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return n.attempt(zC,t,s)(c)}}function OA(n){n.exit("blockQuote")}const GC={name:"characterEscape",tokenize:DA};function DA(n,t,s){return r;function r(u){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(u),n.exit("escapeMarker"),l}function l(u){return hA(u)?(n.enter("characterEscapeValue"),n.consume(u),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):s(u)}}const HC={name:"characterReference",tokenize:qA};function qA(n,t,s){const r=this;let l=0,u,c;return p;function p(C){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(C),n.exit("characterReferenceMarker"),h}function h(C){return C===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(C),n.exit("characterReferenceMarkerNumeric"),m):(n.enter("characterReferenceValue"),u=31,c=Rn,g(C))}function m(C){return C===88||C===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(C),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),u=6,c=fA,g):(n.enter("characterReferenceValue"),u=7,c=vd,g(C))}function g(C){if(C===59&&l){const T=n.exit("characterReferenceValue");return c===Rn&&!Hd(r.sliceSerialize(T))?s(C):(n.enter("characterReferenceMarker"),n.consume(C),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return c(C)&&l++<u?(n.consume(C),g):s(C)}}const Rg={partial:!0,tokenize:NA},yg={concrete:!0,name:"codeFenced",tokenize:VA};function VA(n,t,s){const r=this,l={partial:!0,tokenize:Y};let u=0,c=0,p;return h;function h(x){return m(x)}function m(x){const z=r.events[r.events.length-1];return u=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,p=x,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),g(x)}function g(x){return x===p?(c++,n.consume(x),g):c<3?s(x):(n.exit("codeFencedFenceSequence"),ye(x)?Ne(n,C,"whitespace")(x):C(x))}function C(x){return x===null||pe(x)?(n.exit("codeFencedFence"),r.interrupt?t(x):n.check(Rg,b,$)(x)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),T(x))}function T(x){return x===null||pe(x)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),C(x)):ye(x)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Ne(n,_,"whitespace")(x)):x===96&&x===p?s(x):(n.consume(x),T)}function _(x){return x===null||pe(x)?C(x):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),S(x))}function S(x){return x===null||pe(x)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),C(x)):x===96&&x===p?s(x):(n.consume(x),S)}function b(x){return n.attempt(l,$,D)(x)}function D(x){return n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),R}function R(x){return u>0&&ye(x)?Ne(n,P,"linePrefix",u+1)(x):P(x)}function P(x){return x===null||pe(x)?n.check(Rg,b,$)(x):(n.enter("codeFlowValue"),N(x))}function N(x){return x===null||pe(x)?(n.exit("codeFlowValue"),P(x)):(n.consume(x),N)}function $(x){return n.exit("codeFenced"),t(x)}function Y(x,z,te){let ae=0;return k;function k(X){return x.enter("lineEnding"),x.consume(X),x.exit("lineEnding"),W}function W(X){return x.enter("codeFencedFence"),ye(X)?Ne(x,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):ne(X)}function ne(X){return X===p?(x.enter("codeFencedFenceSequence"),ve(X)):te(X)}function ve(X){return X===p?(ae++,x.consume(X),ve):ae>=c?(x.exit("codeFencedFenceSequence"),ye(X)?Ne(x,ie,"whitespace")(X):ie(X)):te(X)}function ie(X){return X===null||pe(X)?(x.exit("codeFencedFence"),z(X)):te(X)}}}function NA(n,t,s){const r=this;return l;function l(c){return c===null?s(c):(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),u)}function u(c){return r.parser.lazy[r.now().line]?s(c):t(c)}}const Kc={name:"codeIndented",tokenize:IA},PA={partial:!0,tokenize:xA};function IA(n,t,s){const r=this;return l;function l(m){return n.enter("codeIndented"),Ne(n,u,"linePrefix",5)(m)}function u(m){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?c(m):s(m)}function c(m){return m===null?h(m):pe(m)?n.attempt(PA,c,h)(m):(n.enter("codeFlowValue"),p(m))}function p(m){return m===null||pe(m)?(n.exit("codeFlowValue"),c(m)):(n.consume(m),p)}function h(m){return n.exit("codeIndented"),t(m)}}function xA(n,t,s){const r=this;return l;function l(c){return r.parser.lazy[r.now().line]?s(c):pe(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),l):Ne(n,u,"linePrefix",5)(c)}function u(c){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?t(c):pe(c)?l(c):s(c)}}const LA={name:"codeText",previous:wA,resolve:jA,tokenize:UA};function jA(n){let t=n.length-4,s=3,r,l;if((n[s][1].type==="lineEnding"||n[s][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(r=s;++r<t;)if(n[r][1].type==="codeTextData"){n[s][1].type="codeTextPadding",n[t][1].type="codeTextPadding",s+=2,t-=2;break}}for(r=s-1,t++;++r<=t;)l===void 0?r!==t&&n[r][1].type!=="lineEnding"&&(l=r):(r===t||n[r][1].type==="lineEnding")&&(n[l][1].type="codeTextData",r!==l+2&&(n[l][1].end=n[r-1][1].end,n.splice(l+2,r-l-2),t-=r-l-2,r=l+2),l=void 0);return n}function wA(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function UA(n,t,s){let r=0,l,u;return c;function c(C){return n.enter("codeText"),n.enter("codeTextSequence"),p(C)}function p(C){return C===96?(n.consume(C),r++,p):(n.exit("codeTextSequence"),h(C))}function h(C){return C===null?s(C):C===32?(n.enter("space"),n.consume(C),n.exit("space"),h):C===96?(u=n.enter("codeTextSequence"),l=0,g(C)):pe(C)?(n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),h):(n.enter("codeTextData"),m(C))}function m(C){return C===null||C===32||C===96||pe(C)?(n.exit("codeTextData"),h(C)):(n.consume(C),m)}function g(C){return C===96?(n.consume(C),l++,g):l===r?(n.exit("codeTextSequence"),n.exit("codeText"),t(C)):(u.type="codeTextData",m(C))}}class kA{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,s){const r=s??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,s,r){const l=s||0;this.setCursor(Math.trunc(t));const u=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return r&&sr(this.left,r),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),sr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),sr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const s=this.left.splice(t,Number.POSITIVE_INFINITY);sr(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);sr(this.left,s.reverse())}}}function sr(n,t){let s=0;if(t.length<1e4)n.push(...t);else for(;s<t.length;)n.push(...t.slice(s,s+1e4)),s+=1e4}function BC(n){const t={};let s=-1,r,l,u,c,p,h,m;const g=new kA(n);for(;++s<g.length;){for(;s in t;)s=t[s];if(r=g.get(s),s&&r[1].type==="chunkFlow"&&g.get(s-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,u=0,u<h.length&&h[u][1].type==="lineEndingBlank"&&(u+=2),u<h.length&&h[u][1].type==="content"))for(;++u<h.length&&h[u][1].type!=="content";)h[u][1].type==="chunkText"&&(h[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,FA(g,s)),s=t[s],m=!0);else if(r[1]._container){for(u=s,l=void 0;u--;)if(c=g.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(g.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(r[1].end={...g.get(l)[1].start},p=g.slice(l,s),p.unshift(r),g.splice(l,s-l+1,p))}}return Zn(n,0,Number.POSITIVE_INFINITY,g.slice(0)),!m}function FA(n,t){const s=n.get(t)[1],r=n.get(t)[2];let l=t-1;const u=[];let c=s._tokenizer;c||(c=r.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const p=c.events,h=[],m={};let g,C,T=-1,_=s,S=0,b=0;const D=[b];for(;_;){for(;n.get(++l)[1]!==_;);u.push(l),_._tokenizer||(g=r.sliceStream(_),_.next||g.push(null),C&&c.defineSkip(_.start),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(g),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),C=_,_=_.next}for(_=s;++T<p.length;)p[T][0]==="exit"&&p[T-1][0]==="enter"&&p[T][1].type===p[T-1][1].type&&p[T][1].start.line!==p[T][1].end.line&&(b=T+1,D.push(b),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(c.events=[],_?(_._tokenizer=void 0,_.previous=void 0):D.pop(),T=D.length;T--;){const R=p.slice(D[T],D[T+1]),P=u.pop();h.push([P,P+R.length-1]),n.splice(P,2,R)}for(h.reverse(),T=-1;++T<h.length;)m[S+h[T][0]]=S+h[T][1],S+=h[T][1]-h[T][0]-1;return m}const zA={resolve:HA,tokenize:BA},GA={partial:!0,tokenize:QA};function HA(n){return BC(n),n}function BA(n,t){let s;return r;function r(p){return n.enter("content"),s=n.enter("chunkContent",{contentType:"content"}),l(p)}function l(p){return p===null?u(p):pe(p)?n.check(GA,c,u)(p):(n.consume(p),l)}function u(p){return n.exit("chunkContent"),n.exit("content"),t(p)}function c(p){return n.consume(p),n.exit("chunkContent"),s.next=n.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,l}}function QA(n,t,s){const r=this;return l;function l(c){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),Ne(n,u,"linePrefix")}function u(c){if(c===null||pe(c))return s(c);const p=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?t(c):n.interrupt(r.parser.constructs.flow,s,t)(c)}}function QC(n,t,s,r,l,u,c,p,h){const m=h||Number.POSITIVE_INFINITY;let g=0;return C;function C(R){return R===60?(n.enter(r),n.enter(l),n.enter(u),n.consume(R),n.exit(u),T):R===null||R===32||R===41||rl(R)?s(R):(n.enter(r),n.enter(c),n.enter(p),n.enter("chunkString",{contentType:"string"}),b(R))}function T(R){return R===62?(n.enter(u),n.consume(R),n.exit(u),n.exit(l),n.exit(r),t):(n.enter(p),n.enter("chunkString",{contentType:"string"}),_(R))}function _(R){return R===62?(n.exit("chunkString"),n.exit(p),T(R)):R===null||R===60||pe(R)?s(R):(n.consume(R),R===92?S:_)}function S(R){return R===60||R===62||R===92?(n.consume(R),_):_(R)}function b(R){return!g&&(R===null||R===41||Be(R))?(n.exit("chunkString"),n.exit(p),n.exit(c),n.exit(r),t(R)):g<m&&R===40?(n.consume(R),g++,b):R===41?(n.consume(R),g--,b):R===null||R===32||R===40||rl(R)?s(R):(n.consume(R),R===92?D:b)}function D(R){return R===40||R===41||R===92?(n.consume(R),b):b(R)}}function KC(n,t,s,r,l,u){const c=this;let p=0,h;return m;function m(_){return n.enter(r),n.enter(l),n.consume(_),n.exit(l),n.enter(u),g}function g(_){return p>999||_===null||_===91||_===93&&!h||_===94&&!p&&"_hiddenFootnoteSupport"in c.parser.constructs?s(_):_===93?(n.exit(u),n.enter(l),n.consume(_),n.exit(l),n.exit(r),t):pe(_)?(n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),g):(n.enter("chunkString",{contentType:"string"}),C(_))}function C(_){return _===null||_===91||_===93||pe(_)||p++>999?(n.exit("chunkString"),g(_)):(n.consume(_),h||(h=!ye(_)),_===92?T:C)}function T(_){return _===91||_===92||_===93?(n.consume(_),p++,C):C(_)}}function $C(n,t,s,r,l,u){let c;return p;function p(T){return T===34||T===39||T===40?(n.enter(r),n.enter(l),n.consume(T),n.exit(l),c=T===40?41:T,h):s(T)}function h(T){return T===c?(n.enter(l),n.consume(T),n.exit(l),n.exit(r),t):(n.enter(u),m(T))}function m(T){return T===c?(n.exit(u),h(c)):T===null?s(T):pe(T)?(n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),Ne(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===c||T===null||pe(T)?(n.exit("chunkString"),m(T)):(n.consume(T),T===92?C:g)}function C(T){return T===c||T===92?(n.consume(T),g):g(T)}}function cr(n,t){let s;return r;function r(l){return pe(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),s=!0,r):ye(l)?Ne(n,r,s?"linePrefix":"lineSuffix")(l):t(l)}}const KA={name:"definition",tokenize:JA},$A={partial:!0,tokenize:WA};function JA(n,t,s){const r=this;let l;return u;function u(_){return n.enter("definition"),c(_)}function c(_){return KC.call(r,n,p,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function p(_){return l=_t(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),_===58?(n.enter("definitionMarker"),n.consume(_),n.exit("definitionMarker"),h):s(_)}function h(_){return Be(_)?cr(n,m)(_):m(_)}function m(_){return QC(n,g,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function g(_){return n.attempt($A,C,C)(_)}function C(_){return ye(_)?Ne(n,T,"whitespace")(_):T(_)}function T(_){return _===null||pe(_)?(n.exit("definition"),r.parser.defined.push(l),t(_)):s(_)}}function WA(n,t,s){return r;function r(p){return Be(p)?cr(n,l)(p):s(p)}function l(p){return $C(n,u,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(p)}function u(p){return ye(p)?Ne(n,c,"whitespace")(p):c(p)}function c(p){return p===null||pe(p)?t(p):s(p)}}const YA={name:"hardBreakEscape",tokenize:XA};function XA(n,t,s){return r;function r(u){return n.enter("hardBreakEscape"),n.consume(u),l}function l(u){return pe(u)?(n.exit("hardBreakEscape"),t(u)):s(u)}}const ZA={name:"headingAtx",resolve:e1,tokenize:n1};function e1(n,t){let s=n.length-2,r=3,l,u;return n[r][1].type==="whitespace"&&(r+=2),s-2>r&&n[s][1].type==="whitespace"&&(s-=2),n[s][1].type==="atxHeadingSequence"&&(r===s-1||s-4>r&&n[s-2][1].type==="whitespace")&&(s-=r+1===s?2:4),s>r&&(l={type:"atxHeadingText",start:n[r][1].start,end:n[s][1].end},u={type:"chunkText",start:n[r][1].start,end:n[s][1].end,contentType:"text"},Zn(n,r,s-r+1,[["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t]])),n}function n1(n,t,s){let r=0;return l;function l(g){return n.enter("atxHeading"),u(g)}function u(g){return n.enter("atxHeadingSequence"),c(g)}function c(g){return g===35&&r++<6?(n.consume(g),c):g===null||Be(g)?(n.exit("atxHeadingSequence"),p(g)):s(g)}function p(g){return g===35?(n.enter("atxHeadingSequence"),h(g)):g===null||pe(g)?(n.exit("atxHeading"),t(g)):ye(g)?Ne(n,p,"whitespace")(g):(n.enter("atxHeadingText"),m(g))}function h(g){return g===35?(n.consume(g),h):(n.exit("atxHeadingSequence"),p(g))}function m(g){return g===null||g===35||Be(g)?(n.exit("atxHeadingText"),p(g)):(n.consume(g),m)}}const t1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Og=["pre","script","style","textarea"],i1={concrete:!0,name:"htmlFlow",resolveTo:r1,tokenize:o1},s1={partial:!0,tokenize:u1},a1={partial:!0,tokenize:l1};function r1(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function o1(n,t,s){const r=this;let l,u,c,p,h;return m;function m(E){return g(E)}function g(E){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(E),C}function C(E){return E===33?(n.consume(E),T):E===47?(n.consume(E),u=!0,b):E===63?(n.consume(E),l=3,r.interrupt?t:y):Vn(E)?(n.consume(E),c=String.fromCharCode(E),D):s(E)}function T(E){return E===45?(n.consume(E),l=2,_):E===91?(n.consume(E),l=5,p=0,S):Vn(E)?(n.consume(E),l=4,r.interrupt?t:y):s(E)}function _(E){return E===45?(n.consume(E),r.interrupt?t:y):s(E)}function S(E){const se="CDATA[";return E===se.charCodeAt(p++)?(n.consume(E),p===se.length?r.interrupt?t:ne:S):s(E)}function b(E){return Vn(E)?(n.consume(E),c=String.fromCharCode(E),D):s(E)}function D(E){if(E===null||E===47||E===62||Be(E)){const se=E===47,fe=c.toLowerCase();return!se&&!u&&Og.includes(fe)?(l=1,r.interrupt?t(E):ne(E)):t1.includes(c.toLowerCase())?(l=6,se?(n.consume(E),R):r.interrupt?t(E):ne(E)):(l=7,r.interrupt&&!r.parser.lazy[r.now().line]?s(E):u?P(E):N(E))}return E===45||Rn(E)?(n.consume(E),c+=String.fromCharCode(E),D):s(E)}function R(E){return E===62?(n.consume(E),r.interrupt?t:ne):s(E)}function P(E){return ye(E)?(n.consume(E),P):k(E)}function N(E){return E===47?(n.consume(E),k):E===58||E===95||Vn(E)?(n.consume(E),$):ye(E)?(n.consume(E),N):k(E)}function $(E){return E===45||E===46||E===58||E===95||Rn(E)?(n.consume(E),$):Y(E)}function Y(E){return E===61?(n.consume(E),x):ye(E)?(n.consume(E),Y):N(E)}function x(E){return E===null||E===60||E===61||E===62||E===96?s(E):E===34||E===39?(n.consume(E),h=E,z):ye(E)?(n.consume(E),x):te(E)}function z(E){return E===h?(n.consume(E),h=null,ae):E===null||pe(E)?s(E):(n.consume(E),z)}function te(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||Be(E)?Y(E):(n.consume(E),te)}function ae(E){return E===47||E===62||ye(E)?N(E):s(E)}function k(E){return E===62?(n.consume(E),W):s(E)}function W(E){return E===null||pe(E)?ne(E):ye(E)?(n.consume(E),W):s(E)}function ne(E){return E===45&&l===2?(n.consume(E),w):E===60&&l===1?(n.consume(E),J):E===62&&l===4?(n.consume(E),q):E===63&&l===3?(n.consume(E),y):E===93&&l===5?(n.consume(E),Ee):pe(E)&&(l===6||l===7)?(n.exit("htmlFlowData"),n.check(s1,H,ve)(E)):E===null||pe(E)?(n.exit("htmlFlowData"),ve(E)):(n.consume(E),ne)}function ve(E){return n.check(a1,ie,H)(E)}function ie(E){return n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),X}function X(E){return E===null||pe(E)?ve(E):(n.enter("htmlFlowData"),ne(E))}function w(E){return E===45?(n.consume(E),y):ne(E)}function J(E){return E===47?(n.consume(E),c="",oe):ne(E)}function oe(E){if(E===62){const se=c.toLowerCase();return Og.includes(se)?(n.consume(E),q):ne(E)}return Vn(E)&&c.length<8?(n.consume(E),c+=String.fromCharCode(E),oe):ne(E)}function Ee(E){return E===93?(n.consume(E),y):ne(E)}function y(E){return E===62?(n.consume(E),q):E===45&&l===2?(n.consume(E),y):ne(E)}function q(E){return E===null||pe(E)?(n.exit("htmlFlowData"),H(E)):(n.consume(E),q)}function H(E){return n.exit("htmlFlow"),t(E)}}function l1(n,t,s){const r=this;return l;function l(c){return pe(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),u):s(c)}function u(c){return r.parser.lazy[r.now().line]?s(c):t(c)}}function u1(n,t,s){return r;function r(l){return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),n.attempt(Mr,t,s)}}const c1={name:"htmlText",tokenize:d1};function d1(n,t,s){const r=this;let l,u,c;return p;function p(y){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(y),h}function h(y){return y===33?(n.consume(y),m):y===47?(n.consume(y),Y):y===63?(n.consume(y),N):Vn(y)?(n.consume(y),te):s(y)}function m(y){return y===45?(n.consume(y),g):y===91?(n.consume(y),u=0,S):Vn(y)?(n.consume(y),P):s(y)}function g(y){return y===45?(n.consume(y),_):s(y)}function C(y){return y===null?s(y):y===45?(n.consume(y),T):pe(y)?(c=C,J(y)):(n.consume(y),C)}function T(y){return y===45?(n.consume(y),_):C(y)}function _(y){return y===62?w(y):y===45?T(y):C(y)}function S(y){const q="CDATA[";return y===q.charCodeAt(u++)?(n.consume(y),u===q.length?b:S):s(y)}function b(y){return y===null?s(y):y===93?(n.consume(y),D):pe(y)?(c=b,J(y)):(n.consume(y),b)}function D(y){return y===93?(n.consume(y),R):b(y)}function R(y){return y===62?w(y):y===93?(n.consume(y),R):b(y)}function P(y){return y===null||y===62?w(y):pe(y)?(c=P,J(y)):(n.consume(y),P)}function N(y){return y===null?s(y):y===63?(n.consume(y),$):pe(y)?(c=N,J(y)):(n.consume(y),N)}function $(y){return y===62?w(y):N(y)}function Y(y){return Vn(y)?(n.consume(y),x):s(y)}function x(y){return y===45||Rn(y)?(n.consume(y),x):z(y)}function z(y){return pe(y)?(c=z,J(y)):ye(y)?(n.consume(y),z):w(y)}function te(y){return y===45||Rn(y)?(n.consume(y),te):y===47||y===62||Be(y)?ae(y):s(y)}function ae(y){return y===47?(n.consume(y),w):y===58||y===95||Vn(y)?(n.consume(y),k):pe(y)?(c=ae,J(y)):ye(y)?(n.consume(y),ae):w(y)}function k(y){return y===45||y===46||y===58||y===95||Rn(y)?(n.consume(y),k):W(y)}function W(y){return y===61?(n.consume(y),ne):pe(y)?(c=W,J(y)):ye(y)?(n.consume(y),W):ae(y)}function ne(y){return y===null||y===60||y===61||y===62||y===96?s(y):y===34||y===39?(n.consume(y),l=y,ve):pe(y)?(c=ne,J(y)):ye(y)?(n.consume(y),ne):(n.consume(y),ie)}function ve(y){return y===l?(n.consume(y),l=void 0,X):y===null?s(y):pe(y)?(c=ve,J(y)):(n.consume(y),ve)}function ie(y){return y===null||y===34||y===39||y===60||y===61||y===96?s(y):y===47||y===62||Be(y)?ae(y):(n.consume(y),ie)}function X(y){return y===47||y===62||Be(y)?ae(y):s(y)}function w(y){return y===62?(n.consume(y),n.exit("htmlTextData"),n.exit("htmlText"),t):s(y)}function J(y){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),oe}function oe(y){return ye(y)?Ne(n,Ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y):Ee(y)}function Ee(y){return n.enter("htmlTextData"),c(y)}}const Bd={name:"labelEnd",resolveAll:h1,resolveTo:g1,tokenize:C1},p1={tokenize:v1},m1={tokenize:_1},f1={tokenize:T1};function h1(n){let t=-1;const s=[];for(;++t<n.length;){const r=n[t][1];if(s.push(n[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const l=r.type==="labelImage"?4:2;r.type="data",t+=l}}return n.length!==s.length&&Zn(n,0,n.length,s),n}function g1(n,t){let s=n.length,r=0,l,u,c,p;for(;s--;)if(l=n[s][1],u){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;n[s][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(n[s][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(u=s,l.type!=="labelLink")){r=2;break}}else l.type==="labelEnd"&&(c=s);const h={type:n[u][1].type==="labelLink"?"link":"image",start:{...n[u][1].start},end:{...n[n.length-1][1].end}},m={type:"label",start:{...n[u][1].start},end:{...n[c][1].end}},g={type:"labelText",start:{...n[u+r+2][1].end},end:{...n[c-2][1].start}};return p=[["enter",h,t],["enter",m,t]],p=dt(p,n.slice(u+1,u+r+3)),p=dt(p,[["enter",g,t]]),p=dt(p,fl(t.parser.constructs.insideSpan.null,n.slice(u+r+4,c-3),t)),p=dt(p,[["exit",g,t],n[c-2],n[c-1],["exit",m,t]]),p=dt(p,n.slice(c+1)),p=dt(p,[["exit",h,t]]),Zn(n,u,n.length,p),n}function C1(n,t,s){const r=this;let l=r.events.length,u,c;for(;l--;)if((r.events[l][1].type==="labelImage"||r.events[l][1].type==="labelLink")&&!r.events[l][1]._balanced){u=r.events[l][1];break}return p;function p(T){return u?u._inactive?C(T):(c=r.parser.defined.includes(_t(r.sliceSerialize({start:u.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(T),n.exit("labelMarker"),n.exit("labelEnd"),h):s(T)}function h(T){return T===40?n.attempt(p1,g,c?g:C)(T):T===91?n.attempt(m1,g,c?m:C)(T):c?g(T):C(T)}function m(T){return n.attempt(f1,g,C)(T)}function g(T){return t(T)}function C(T){return u._balanced=!0,s(T)}}function v1(n,t,s){return r;function r(C){return n.enter("resource"),n.enter("resourceMarker"),n.consume(C),n.exit("resourceMarker"),l}function l(C){return Be(C)?cr(n,u)(C):u(C)}function u(C){return C===41?g(C):QC(n,c,p,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(C)}function c(C){return Be(C)?cr(n,h)(C):g(C)}function p(C){return s(C)}function h(C){return C===34||C===39||C===40?$C(n,m,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(C):g(C)}function m(C){return Be(C)?cr(n,g)(C):g(C)}function g(C){return C===41?(n.enter("resourceMarker"),n.consume(C),n.exit("resourceMarker"),n.exit("resource"),t):s(C)}}function _1(n,t,s){const r=this;return l;function l(p){return KC.call(r,n,u,c,"reference","referenceMarker","referenceString")(p)}function u(p){return r.parser.defined.includes(_t(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(p):s(p)}function c(p){return s(p)}}function T1(n,t,s){return r;function r(u){return n.enter("reference"),n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),l}function l(u){return u===93?(n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),n.exit("reference"),t):s(u)}}const A1={name:"labelStartImage",resolveAll:Bd.resolveAll,tokenize:S1};function S1(n,t,s){const r=this;return l;function l(p){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(p),n.exit("labelImageMarker"),u}function u(p){return p===91?(n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelImage"),c):s(p)}function c(p){return p===94&&"_hiddenFootnoteSupport"in r.parser.constructs?s(p):t(p)}}const E1={name:"labelStartLink",resolveAll:Bd.resolveAll,tokenize:M1};function M1(n,t,s){const r=this;return l;function l(c){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?s(c):t(c)}}const $c={name:"lineEnding",tokenize:b1};function b1(n,t){return s;function s(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),Ne(n,t,"linePrefix")}}const sl={name:"thematicBreak",tokenize:R1};function R1(n,t,s){let r=0,l;return u;function u(m){return n.enter("thematicBreak"),c(m)}function c(m){return l=m,p(m)}function p(m){return m===l?(n.enter("thematicBreakSequence"),h(m)):r>=3&&(m===null||pe(m))?(n.exit("thematicBreak"),t(m)):s(m)}function h(m){return m===l?(n.consume(m),r++,h):(n.exit("thematicBreakSequence"),ye(m)?Ne(n,p,"whitespace")(m):p(m))}}const kn={continuation:{tokenize:q1},exit:N1,name:"list",tokenize:D1},y1={partial:!0,tokenize:P1},O1={partial:!0,tokenize:V1};function D1(n,t,s){const r=this,l=r.events[r.events.length-1];let u=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return p;function p(_){const S=r.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||_===r.containerState.marker:vd(_)){if(r.containerState.type||(r.containerState.type=S,n.enter(S,{_container:!0})),S==="listUnordered")return n.enter("listItemPrefix"),_===42||_===45?n.check(sl,s,m)(_):m(_);if(!r.interrupt||_===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),h(_)}return s(_)}function h(_){return vd(_)&&++c<10?(n.consume(_),h):(!r.interrupt||c<2)&&(r.containerState.marker?_===r.containerState.marker:_===41||_===46)?(n.exit("listItemValue"),m(_)):s(_)}function m(_){return n.enter("listItemMarker"),n.consume(_),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||_,n.check(Mr,r.interrupt?s:g,n.attempt(y1,T,C))}function g(_){return r.containerState.initialBlankLine=!0,u++,T(_)}function C(_){return ye(_)?(n.enter("listItemPrefixWhitespace"),n.consume(_),n.exit("listItemPrefixWhitespace"),T):s(_)}function T(_){return r.containerState.size=u+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(_)}}function q1(n,t,s){const r=this;return r.containerState._closeFlow=void 0,n.check(Mr,l,u);function l(p){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ne(n,t,"listItemIndent",r.containerState.size+1)(p)}function u(p){return r.containerState.furtherBlankLines||!ye(p)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(p)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(O1,t,c)(p))}function c(p){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ne(n,n.attempt(kn,t,s),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p)}}function V1(n,t,s){const r=this;return Ne(n,l,"listItemIndent",r.containerState.size+1);function l(u){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?t(u):s(u)}}function N1(n){n.exit(this.containerState.type)}function P1(n,t,s){const r=this;return Ne(n,l,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(u){const c=r.events[r.events.length-1];return!ye(u)&&c&&c[1].type==="listItemPrefixWhitespace"?t(u):s(u)}}const Dg={name:"setextUnderline",resolveTo:I1,tokenize:x1};function I1(n,t){let s=n.length,r,l,u;for(;s--;)if(n[s][0]==="enter"){if(n[s][1].type==="content"){r=s;break}n[s][1].type==="paragraph"&&(l=s)}else n[s][1].type==="content"&&n.splice(s,1),!u&&n[s][1].type==="definition"&&(u=s);const c={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[l][1].type="setextHeadingText",u?(n.splice(l,0,["enter",c,t]),n.splice(u+1,0,["exit",n[r][1],t]),n[r][1].end={...n[u][1].end}):n[r][1]=c,n.push(["exit",c,t]),n}function x1(n,t,s){const r=this;let l;return u;function u(m){let g=r.events.length,C;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){C=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||C)?(n.enter("setextHeadingLine"),l=m,c(m)):s(m)}function c(m){return n.enter("setextHeadingLineSequence"),p(m)}function p(m){return m===l?(n.consume(m),p):(n.exit("setextHeadingLineSequence"),ye(m)?Ne(n,h,"lineSuffix")(m):h(m))}function h(m){return m===null||pe(m)?(n.exit("setextHeadingLine"),t(m)):s(m)}}const L1={tokenize:j1};function j1(n){const t=this,s=n.attempt(Mr,r,n.attempt(this.parser.constructs.flowInitial,l,Ne(n,n.attempt(this.parser.constructs.flow,l,n.attempt(zA,l)),"linePrefix")));return s;function r(u){if(u===null){n.consume(u);return}return n.enter("lineEndingBlank"),n.consume(u),n.exit("lineEndingBlank"),t.currentConstruct=void 0,s}function l(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),t.currentConstruct=void 0,s}}const w1={resolveAll:WC()},U1=JC("string"),k1=JC("text");function JC(n){return{resolveAll:WC(n==="text"?F1:void 0),tokenize:t};function t(s){const r=this,l=this.parser.constructs[n],u=s.attempt(l,c,p);return c;function c(g){return m(g)?u(g):p(g)}function p(g){if(g===null){s.consume(g);return}return s.enter("data"),s.consume(g),h}function h(g){return m(g)?(s.exit("data"),u(g)):(s.consume(g),h)}function m(g){if(g===null)return!0;const C=l[g];let T=-1;if(C)for(;++T<C.length;){const _=C[T];if(!_.previous||_.previous.call(r,r.previous))return!0}return!1}}}function WC(n){return t;function t(s,r){let l=-1,u;for(;++l<=s.length;)u===void 0?s[l]&&s[l][1].type==="data"&&(u=l,l++):(!s[l]||s[l][1].type!=="data")&&(l!==u+2&&(s[u][1].end=s[l-1][1].end,s.splice(u+2,l-u-2),l=u+2),u=void 0);return n?n(s,r):s}}function F1(n,t){let s=0;for(;++s<=n.length;)if((s===n.length||n[s][1].type==="lineEnding")&&n[s-1][1].type==="data"){const r=n[s-1][1],l=t.sliceStream(r);let u=l.length,c=-1,p=0,h;for(;u--;){const m=l[u];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)p++,c--;if(c)break;c=-1}else if(m===-2)h=!0,p++;else if(m!==-1){u++;break}}if(t._contentTypeTextTrailing&&s===n.length&&(p=0),p){const m={type:s===n.length||h||p<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:r.start._bufferIndex+c,_index:r.start._index+u,line:r.end.line,column:r.end.column-p,offset:r.end.offset-p},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(n.splice(s,0,["enter",m,t],["exit",m,t]),s+=2)}s++}return n}const z1={42:kn,43:kn,45:kn,48:kn,49:kn,50:kn,51:kn,52:kn,53:kn,54:kn,55:kn,56:kn,57:kn,62:zC},G1={91:KA},H1={[-2]:Kc,[-1]:Kc,32:Kc},B1={35:ZA,42:sl,45:[Dg,sl],60:i1,61:Dg,95:sl,96:yg,126:yg},Q1={38:HC,92:GC},K1={[-5]:$c,[-4]:$c,[-3]:$c,33:A1,38:HC,42:_d,60:[EA,c1],91:E1,92:[YA,GC],93:Bd,95:_d,96:LA},$1={null:[_d,w1]},J1={null:[42,95]},W1={null:[]},Y1=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:J1,contentInitial:G1,disable:W1,document:z1,flow:B1,flowInitial:H1,insideSpan:$1,string:Q1,text:K1},Symbol.toStringTag,{value:"Module"}));function X1(n,t,s){let r={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const l={},u=[];let c=[],p=[];const h={attempt:z(Y),check:z(x),consume:P,enter:N,exit:$,interrupt:z(x,{interrupt:!0})},m={code:null,containerState:{},defineSkip:b,events:[],now:S,parser:n,previous:null,sliceSerialize:T,sliceStream:_,write:C};let g=t.tokenize.call(m,h);return t.resolveAll&&u.push(t),m;function C(W){return c=dt(c,W),D(),c[c.length-1]!==null?[]:(te(t,0),m.events=fl(u,m.events,m),m.events)}function T(W,ne){return eS(_(W),ne)}function _(W){return Z1(c,W)}function S(){const{_bufferIndex:W,_index:ne,line:ve,column:ie,offset:X}=r;return{_bufferIndex:W,_index:ne,line:ve,column:ie,offset:X}}function b(W){l[W.line]=W.column,k()}function D(){let W;for(;r._index<c.length;){const ne=c[r._index];if(typeof ne=="string")for(W=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===W&&r._bufferIndex<ne.length;)R(ne.charCodeAt(r._bufferIndex));else R(ne)}}function R(W){g=g(W)}function P(W){pe(W)?(r.line++,r.column=1,r.offset+=W===-3?2:1,k()):W!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=W}function N(W,ne){const ve=ne||{};return ve.type=W,ve.start=S(),m.events.push(["enter",ve,m]),p.push(ve),ve}function $(W){const ne=p.pop();return ne.end=S(),m.events.push(["exit",ne,m]),ne}function Y(W,ne){te(W,ne.from)}function x(W,ne){ne.restore()}function z(W,ne){return ve;function ve(ie,X,w){let J,oe,Ee,y;return Array.isArray(ie)?H(ie):"tokenize"in ie?H([ie]):q(ie);function q(ce){return Oe;function Oe(We){const Ue=We!==null&&ce[We],et=We!==null&&ce.null,Rt=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray(et)?et:et?[et]:[]];return H(Rt)(We)}}function H(ce){return J=ce,oe=0,ce.length===0?w:E(ce[oe])}function E(ce){return Oe;function Oe(We){return y=ae(),Ee=ce,ce.partial||(m.currentConstruct=ce),ce.name&&m.parser.constructs.disable.null.includes(ce.name)?fe():ce.tokenize.call(ne?Object.assign(Object.create(m),ne):m,h,se,fe)(We)}}function se(ce){return W(Ee,y),X}function fe(ce){return y.restore(),++oe<J.length?E(J[oe]):w}}}function te(W,ne){W.resolveAll&&!u.includes(W)&&u.push(W),W.resolve&&Zn(m.events,ne,m.events.length-ne,W.resolve(m.events.slice(ne),m)),W.resolveTo&&(m.events=W.resolveTo(m.events,m))}function ae(){const W=S(),ne=m.previous,ve=m.currentConstruct,ie=m.events.length,X=Array.from(p);return{from:ie,restore:w};function w(){r=W,m.previous=ne,m.currentConstruct=ve,m.events.length=ie,p=X,k()}}function k(){r.line in l&&r.column<2&&(r.column=l[r.line],r.offset+=l[r.line]-1)}}function Z1(n,t){const s=t.start._index,r=t.start._bufferIndex,l=t.end._index,u=t.end._bufferIndex;let c;if(s===l)c=[n[s].slice(r,u)];else{if(c=n.slice(s,l),r>-1){const p=c[0];typeof p=="string"?c[0]=p.slice(r):c.shift()}u>0&&c.push(n[l].slice(0,u))}return c}function eS(n,t){let s=-1;const r=[];let l;for(;++s<n.length;){const u=n[s];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&l)continue;c=" ";break}default:c=String.fromCharCode(u)}l=u===-2,r.push(c)}return r.join("")}function nS(n){const r={constructs:kC([Y1,...(n||{}).extensions||[]]),content:l(gA),defined:[],document:l(vA),flow:l(L1),lazy:{},string:l(U1),text:l(k1)};return r;function l(u){return c;function c(p){return X1(r,u,p)}}}function tS(n){for(;!BC(n););return n}const qg=/[\0\t\n\r]/g;function iS(){let n=1,t="",s=!0,r;return l;function l(u,c,p){const h=[];let m,g,C,T,_;for(u=t+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),C=0,t="",s&&(u.charCodeAt(0)===65279&&C++,s=void 0);C<u.length;){if(qg.lastIndex=C,m=qg.exec(u),T=m&&m.index!==void 0?m.index:u.length,_=u.charCodeAt(T),!m){t=u.slice(C);break}if(_===10&&C===T&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),C<T&&(h.push(u.slice(C,T)),n+=T-C),_){case 0:{h.push(65533),n++;break}case 9:{for(g=Math.ceil(n/4)*4,h.push(-2);n++<g;)h.push(-1);break}case 10:{h.push(-4),n=1;break}default:r=!0,n=1}C=T+1}return p&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const sS=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function aS(n){return n.replace(sS,rS)}function rS(n,t,s){if(t)return t;if(s.charCodeAt(0)===35){const l=s.charCodeAt(1),u=l===120||l===88;return FC(s.slice(u?2:1),u?16:10)}return Hd(s)||n}const YC={}.hasOwnProperty;function oS(n,t,s){return typeof t!="string"&&(s=t,t=void 0),lS(s)(tS(nS(s).document().write(iS()(n,t,!0))))}function lS(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(ts),autolinkProtocol:ae,autolinkEmail:ae,atxHeading:u(es),blockQuote:u(et),characterEscape:ae,characterReference:ae,codeFenced:u(Rt),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(Rt,c),codeText:u(oa,c),codeTextData:ae,data:ae,codeFlowValue:ae,definition:u(yr),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(yt),hardBreakEscape:u(ns),hardBreakTrailing:u(ns),htmlFlow:u(Or,c),htmlFlowData:ae,htmlText:u(Or,c),htmlTextData:ae,image:u(Dr),label:c,link:u(ts),listItem:u(la),listItemValue:T,listOrdered:u(is,C),listUnordered:u(is),paragraph:u(El),reference:E,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(es),strong:u(Ml),thematicBreak:u(bl)},exit:{atxHeading:h(),atxHeadingSequence:Y,autolink:h(),autolinkEmail:Ue,autolinkProtocol:We,blockQuote:h(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:ce,characterReference:Oe,codeFenced:h(D),codeFencedFence:b,codeFencedFenceInfo:_,codeFencedFenceMeta:S,codeFlowValue:k,codeIndented:h(R),codeText:h(X),codeTextData:k,data:k,definition:h(),definitionDestinationString:$,definitionLabelString:P,definitionTitleString:N,emphasis:h(),hardBreakEscape:h(ne),hardBreakTrailing:h(ne),htmlFlow:h(ve),htmlFlowData:k,htmlText:h(ie),htmlTextData:k,image:h(J),label:Ee,labelText:oe,lineEnding:W,link:h(w),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:se,resourceDestinationString:y,resourceTitleString:q,resource:H,setextHeading:h(te),setextHeadingLineSequence:z,setextHeadingText:x,strong:h(),thematicBreak:h()}};XC(t,(n||{}).mdastExtensions||[]);const s={};return r;function r(B){let ee={type:"root",children:[]};const Ce={stack:[ee],tokenStack:[],config:t,enter:p,exit:m,buffer:c,resume:g,data:s},Me=[];let Le=-1;for(;++Le<B.length;)if(B[Le][1].type==="listOrdered"||B[Le][1].type==="listUnordered")if(B[Le][0]==="enter")Me.push(Le);else{const zn=Me.pop();Le=l(B,zn,Le)}for(Le=-1;++Le<B.length;){const zn=t[B[Le][0]];YC.call(zn,B[Le][1].type)&&zn[B[Le][1].type].call(Object.assign({sliceSerialize:B[Le][2].sliceSerialize},Ce),B[Le][1])}if(Ce.tokenStack.length>0){const zn=Ce.tokenStack[Ce.tokenStack.length-1];(zn[1]||Vg).call(Ce,void 0,zn[0])}for(ee.position={start:Ai(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:Ai(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Le=-1;++Le<t.transforms.length;)ee=t.transforms[Le](ee)||ee;return ee}function l(B,ee,Ce){let Me=ee-1,Le=-1,zn=!1,Ot,Dn,pn,Nn;for(;++Me<=Ce;){const Ge=B[Me];switch(Ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ge[0]==="enter"?Le++:Le--,Nn=void 0;break}case"lineEndingBlank":{Ge[0]==="enter"&&(Ot&&!Nn&&!Le&&!pn&&(pn=Me),Nn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nn=void 0}if(!Le&&Ge[0]==="enter"&&Ge[1].type==="listItemPrefix"||Le===-1&&Ge[0]==="exit"&&(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered")){if(Ot){let Wt=Me;for(Dn=void 0;Wt--;){const pt=B[Wt];if(pt[1].type==="lineEnding"||pt[1].type==="lineEndingBlank"){if(pt[0]==="exit")continue;Dn&&(B[Dn][1].type="lineEndingBlank",zn=!0),pt[1].type="lineEnding",Dn=Wt}else if(!(pt[1].type==="linePrefix"||pt[1].type==="blockQuotePrefix"||pt[1].type==="blockQuotePrefixWhitespace"||pt[1].type==="blockQuoteMarker"||pt[1].type==="listItemIndent"))break}pn&&(!Dn||pn<Dn)&&(Ot._spread=!0),Ot.end=Object.assign({},Dn?B[Dn][1].start:Ge[1].end),B.splice(Dn||Me,0,["exit",Ot,Ge[2]]),Me++,Ce++}if(Ge[1].type==="listItemPrefix"){const Wt={type:"listItem",_spread:!1,start:Object.assign({},Ge[1].start),end:void 0};Ot=Wt,B.splice(Me,0,["enter",Wt,Ge[2]]),Me++,Ce++,pn=void 0,Nn=!0}}}return B[ee][1]._spread=zn,Ce}function u(B,ee){return Ce;function Ce(Me){p.call(this,B(Me),Me),ee&&ee.call(this,Me)}}function c(){this.stack.push({type:"fragment",children:[]})}function p(B,ee,Ce){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([ee,Ce||void 0]),B.position={start:Ai(ee.start),end:void 0}}function h(B){return ee;function ee(Ce){B&&B.call(this,Ce),m.call(this,Ce)}}function m(B,ee){const Ce=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==B.type&&(ee?ee.call(this,B,Me[0]):(Me[1]||Vg).call(this,B,Me[0]));else throw new Error("Cannot close `"+B.type+"` ("+ur({start:B.start,end:B.end})+"): its not open");Ce.position.end=Ai(B.end)}function g(){return Gd(this.stack.pop())}function C(){this.data.expectingFirstListItemValue=!0}function T(B){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function _(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=B}function S(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=B}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function R(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B.replace(/(\r?\n|\r)$/g,"")}function P(B){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ee,Ce.identifier=_t(this.sliceSerialize(B)).toLowerCase()}function N(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.title=B}function $(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.url=B}function Y(B){const ee=this.stack[this.stack.length-1];if(!ee.depth){const Ce=this.sliceSerialize(B).length;ee.depth=Ce}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function z(B){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function te(){this.data.setextHeadingSlurpLineEnding=void 0}function ae(B){const Ce=this.stack[this.stack.length-1].children;let Me=Ce[Ce.length-1];(!Me||Me.type!=="text")&&(Me=On(),Me.position={start:Ai(B.start),end:void 0},Ce.push(Me)),this.stack.push(Me)}function k(B){const ee=this.stack.pop();ee.value+=this.sliceSerialize(B),ee.position.end=Ai(B.end)}function W(B){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=ee.children[ee.children.length-1];Ce.position.end=Ai(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(ae.call(this,B),k.call(this,B))}function ne(){this.data.atHardBreak=!0}function ve(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B}function ie(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B}function X(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.value=B}function w(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=ee,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function J(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=ee,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function oe(B){const ee=this.sliceSerialize(B),Ce=this.stack[this.stack.length-2];Ce.label=aS(ee),Ce.identifier=_t(ee).toLowerCase()}function Ee(){const B=this.stack[this.stack.length-1],ee=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Me=B.children;Ce.children=Me}else Ce.alt=ee}function y(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.url=B}function q(){const B=this.resume(),ee=this.stack[this.stack.length-1];ee.title=B}function H(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function se(B){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ee,Ce.identifier=_t(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function fe(B){this.data.characterReferenceType=B.type}function ce(B){const ee=this.sliceSerialize(B),Ce=this.data.characterReferenceType;let Me;Ce?(Me=FC(ee,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=Hd(ee);const Le=this.stack[this.stack.length-1];Le.value+=Me}function Oe(B){const ee=this.stack.pop();ee.position.end=Ai(B.end)}function We(B){k.call(this,B);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(B)}function Ue(B){k.call(this,B);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(B)}function et(){return{type:"blockquote",children:[]}}function Rt(){return{type:"code",lang:null,meta:null,value:""}}function oa(){return{type:"inlineCode",value:""}}function yr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function yt(){return{type:"emphasis",children:[]}}function es(){return{type:"heading",depth:0,children:[]}}function ns(){return{type:"break"}}function Or(){return{type:"html",value:""}}function Dr(){return{type:"image",title:null,url:"",alt:null}}function ts(){return{type:"link",title:null,url:"",children:[]}}function is(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function la(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function El(){return{type:"paragraph",children:[]}}function Ml(){return{type:"strong",children:[]}}function On(){return{type:"text",value:""}}function bl(){return{type:"thematicBreak"}}}function Ai(n){return{line:n.line,column:n.column,offset:n.offset}}function XC(n,t){let s=-1;for(;++s<t.length;){const r=t[s];Array.isArray(r)?XC(n,r):uS(n,r)}}function uS(n,t){let s;for(s in t)if(YC.call(t,s))switch(s){case"canContainEols":{const r=t[s];r&&n[s].push(...r);break}case"transforms":{const r=t[s];r&&n[s].push(...r);break}case"enter":case"exit":{const r=t[s];r&&Object.assign(n[s],r);break}}}function Vg(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+ur({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+ur({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ur({start:t.start,end:t.end})+") is still open")}function cS(n){const t=this;t.parser=s;function s(r){return oS(r,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function dS(n,t){const s={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,s),n.applyData(t,s)}function pS(n,t){const s={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,s),[n.applyData(t,s),{type:"text",value:`
`}]}function mS(n,t){const s=t.value?t.value+`
`:"",r={},l=t.lang?t.lang.split(/\s+/):[];l.length>0&&(r.className=["language-"+l[0]]);let u={type:"element",tagName:"code",properties:r,children:[{type:"text",value:s}]};return t.meta&&(u.data={meta:t.meta}),n.patch(t,u),u=n.applyData(t,u),u={type:"element",tagName:"pre",properties:{},children:[u]},n.patch(t,u),u}function fS(n,t){const s={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function hS(n,t){const s={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function gS(n,t){const s=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),l=aa(r.toLowerCase()),u=n.footnoteOrder.indexOf(r);let c,p=n.footnoteCounts.get(r);p===void 0?(p=0,n.footnoteOrder.push(r),c=n.footnoteOrder.length):c=u+1,p+=1,n.footnoteCounts.set(r,p);const h={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+l,id:s+"fnref-"+l+(p>1?"-"+p:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};n.patch(t,h);const m={type:"element",tagName:"sup",properties:{},children:[h]};return n.patch(t,m),n.applyData(t,m)}function CS(n,t){const s={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function vS(n,t){if(n.options.allowDangerousHtml){const s={type:"raw",value:t.value};return n.patch(t,s),n.applyData(t,s)}}function ZC(n,t){const s=t.referenceType;let r="]";if(s==="collapsed"?r+="[]":s==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const l=n.all(t),u=l[0];u&&u.type==="text"?u.value="["+u.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=r:l.push({type:"text",value:r}),l}function _S(n,t){const s=String(t.identifier).toUpperCase(),r=n.definitionById.get(s);if(!r)return ZC(n,t);const l={src:aa(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(l.title=r.title);const u={type:"element",tagName:"img",properties:l,children:[]};return n.patch(t,u),n.applyData(t,u)}function TS(n,t){const s={src:aa(t.url)};t.alt!==null&&t.alt!==void 0&&(s.alt=t.alt),t.title!==null&&t.title!==void 0&&(s.title=t.title);const r={type:"element",tagName:"img",properties:s,children:[]};return n.patch(t,r),n.applyData(t,r)}function AS(n,t){const s={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,s);const r={type:"element",tagName:"code",properties:{},children:[s]};return n.patch(t,r),n.applyData(t,r)}function SS(n,t){const s=String(t.identifier).toUpperCase(),r=n.definitionById.get(s);if(!r)return ZC(n,t);const l={href:aa(r.url||"")};r.title!==null&&r.title!==void 0&&(l.title=r.title);const u={type:"element",tagName:"a",properties:l,children:n.all(t)};return n.patch(t,u),n.applyData(t,u)}function ES(n,t){const s={href:aa(t.url)};t.title!==null&&t.title!==void 0&&(s.title=t.title);const r={type:"element",tagName:"a",properties:s,children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}function MS(n,t,s){const r=n.all(t),l=s?bS(s):ev(t),u={},c=[];if(typeof t.checked=="boolean"){const g=r[0];let C;g&&g.type==="element"&&g.tagName==="p"?C=g:(C={type:"element",tagName:"p",properties:{},children:[]},r.unshift(C)),C.children.length>0&&C.children.unshift({type:"text",value:" "}),C.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let p=-1;for(;++p<r.length;){const g=r[p];(l||p!==0||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!l?c.push(...g.children):c.push(g)}const h=r[r.length-1];h&&(l||h.type!=="element"||h.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:u,children:c};return n.patch(t,m),n.applyData(t,m)}function bS(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const s=n.children;let r=-1;for(;!t&&++r<s.length;)t=ev(s[r])}return t}function ev(n){const t=n.spread;return t??n.children.length>1}function RS(n,t){const s={},r=n.all(t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(s.start=t.start);++l<r.length;){const c=r[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const u={type:"element",tagName:t.ordered?"ol":"ul",properties:s,children:n.wrap(r,!0)};return n.patch(t,u),n.applyData(t,u)}function yS(n,t){const s={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function OS(n,t){const s={type:"root",children:n.wrap(n.all(t))};return n.patch(t,s),n.applyData(t,s)}function DS(n,t){const s={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function qS(n,t){const s=n.all(t),r=s.shift(),l=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(t.children[0],c),l.push(c)}if(s.length>0){const c={type:"element",tagName:"tbody",properties:{},children:n.wrap(s,!0)},p=Ud(t.children[1]),h=PC(t.children[t.children.length-1]);p&&h&&(c.position={start:p,end:h}),l.push(c)}const u={type:"element",tagName:"table",properties:{},children:n.wrap(l,!0)};return n.patch(t,u),n.applyData(t,u)}function VS(n,t,s){const r=s?s.children:void 0,u=(r?r.indexOf(t):1)===0?"th":"td",c=s&&s.type==="table"?s.align:void 0,p=c?c.length:t.children.length;let h=-1;const m=[];for(;++h<p;){const C=t.children[h],T={},_=c?c[h]:void 0;_&&(T.align=_);let S={type:"element",tagName:u,properties:T,children:[]};C&&(S.children=n.all(C),n.patch(C,S),S=n.applyData(C,S)),m.push(S)}const g={type:"element",tagName:"tr",properties:{},children:n.wrap(m,!0)};return n.patch(t,g),n.applyData(t,g)}function NS(n,t){const s={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}const Ng=9,Pg=32;function PS(n){const t=String(n),s=/\r?\n|\r/g;let r=s.exec(t),l=0;const u=[];for(;r;)u.push(Ig(t.slice(l,r.index),l>0,!0),r[0]),l=r.index+r[0].length,r=s.exec(t);return u.push(Ig(t.slice(l),l>0,!1)),u.join("")}function Ig(n,t,s){let r=0,l=n.length;if(t){let u=n.codePointAt(r);for(;u===Ng||u===Pg;)r++,u=n.codePointAt(r)}if(s){let u=n.codePointAt(l-1);for(;u===Ng||u===Pg;)l--,u=n.codePointAt(l-1)}return l>r?n.slice(r,l):""}function IS(n,t){const s={type:"text",value:PS(String(t.value))};return n.patch(t,s),n.applyData(t,s)}function xS(n,t){const s={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,s),n.applyData(t,s)}const LS={blockquote:dS,break:pS,code:mS,delete:fS,emphasis:hS,footnoteReference:gS,heading:CS,html:vS,imageReference:_S,image:TS,inlineCode:AS,linkReference:SS,link:ES,listItem:MS,list:RS,paragraph:yS,root:OS,strong:DS,table:qS,tableCell:NS,tableRow:VS,text:IS,thematicBreak:xS,toml:Ko,yaml:Ko,definition:Ko,footnoteDefinition:Ko};function Ko(){}const nv=-1,hl=0,dr=1,ol=2,Qd=3,Kd=4,$d=5,Jd=6,tv=7,iv=8,xg=typeof self=="object"?self:globalThis,jS=(n,t)=>{const s=(l,u)=>(n.set(u,l),l),r=l=>{if(n.has(l))return n.get(l);const[u,c]=t[l];switch(u){case hl:case nv:return s(c,l);case dr:{const p=s([],l);for(const h of c)p.push(r(h));return p}case ol:{const p=s({},l);for(const[h,m]of c)p[r(h)]=r(m);return p}case Qd:return s(new Date(c),l);case Kd:{const{source:p,flags:h}=c;return s(new RegExp(p,h),l)}case $d:{const p=s(new Map,l);for(const[h,m]of c)p.set(r(h),r(m));return p}case Jd:{const p=s(new Set,l);for(const h of c)p.add(r(h));return p}case tv:{const{name:p,message:h}=c;return s(new xg[p](h),l)}case iv:return s(BigInt(c),l);case"BigInt":return s(Object(BigInt(c)),l);case"ArrayBuffer":return s(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:p}=new Uint8Array(c);return s(new DataView(p),c)}}return s(new xg[u](c),l)};return r},Lg=n=>jS(new Map,n)(0),Gs="",{toString:wS}={},{keys:US}=Object,ar=n=>{const t=typeof n;if(t!=="object"||!n)return[hl,t];const s=wS.call(n).slice(8,-1);switch(s){case"Array":return[dr,Gs];case"Object":return[ol,Gs];case"Date":return[Qd,Gs];case"RegExp":return[Kd,Gs];case"Map":return[$d,Gs];case"Set":return[Jd,Gs];case"DataView":return[dr,s]}return s.includes("Array")?[dr,s]:s.includes("Error")?[tv,s]:[ol,s]},$o=([n,t])=>n===hl&&(t==="function"||t==="symbol"),kS=(n,t,s,r)=>{const l=(c,p)=>{const h=r.push(c)-1;return s.set(p,h),h},u=c=>{if(s.has(c))return s.get(c);let[p,h]=ar(c);switch(p){case hl:{let g=c;switch(h){case"bigint":p=iv,g=c.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+h);g=null;break;case"undefined":return l([nv],c)}return l([p,g],c)}case dr:{if(h){let T=c;return h==="DataView"?T=new Uint8Array(c.buffer):h==="ArrayBuffer"&&(T=new Uint8Array(c)),l([h,[...T]],c)}const g=[],C=l([p,g],c);for(const T of c)g.push(u(T));return C}case ol:{if(h)switch(h){case"BigInt":return l([h,c.toString()],c);case"Boolean":case"Number":case"String":return l([h,c.valueOf()],c)}if(t&&"toJSON"in c)return u(c.toJSON());const g=[],C=l([p,g],c);for(const T of US(c))(n||!$o(ar(c[T])))&&g.push([u(T),u(c[T])]);return C}case Qd:return l([p,c.toISOString()],c);case Kd:{const{source:g,flags:C}=c;return l([p,{source:g,flags:C}],c)}case $d:{const g=[],C=l([p,g],c);for(const[T,_]of c)(n||!($o(ar(T))||$o(ar(_))))&&g.push([u(T),u(_)]);return C}case Jd:{const g=[],C=l([p,g],c);for(const T of c)(n||!$o(ar(T)))&&g.push(u(T));return C}}const{message:m}=c;return l([p,{name:h,message:m}],c)};return u},jg=(n,{json:t,lossy:s}={})=>{const r=[];return kS(!(t||s),!!t,new Map,r)(n),r},ll=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?Lg(jg(n,t)):structuredClone(n):(n,t)=>Lg(jg(n,t));function FS(n,t){const s=[{type:"text",value:""}];return t>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),s}function zS(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function GS(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",s=n.options.footnoteBackContent||FS,r=n.options.footnoteBackLabel||zS,l=n.options.footnoteLabel||"Footnotes",u=n.options.footnoteLabelTagName||"h2",c=n.options.footnoteLabelProperties||{className:["sr-only"]},p=[];let h=-1;for(;++h<n.footnoteOrder.length;){const m=n.footnoteById.get(n.footnoteOrder[h]);if(!m)continue;const g=n.all(m),C=String(m.identifier).toUpperCase(),T=aa(C.toLowerCase());let _=0;const S=[],b=n.footnoteCounts.get(C);for(;b!==void 0&&++_<=b;){S.length>0&&S.push({type:"text",value:" "});let P=typeof s=="string"?s:s(h,_);typeof P=="string"&&(P={type:"text",value:P}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+T+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,_),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const D=g[g.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const P=D.children[D.children.length-1];P&&P.type==="text"?P.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...S)}else g.push(...S);const R={type:"element",tagName:"li",properties:{id:t+"fn-"+T},children:n.wrap(g,!0)};n.patch(m,R),p.push(R)}if(p.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...ll(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(p,!0)},{type:"text",value:`
`}]}}const gl=(function(n){if(n==null)return KS;if(typeof n=="function")return Cl(n);if(typeof n=="object")return Array.isArray(n)?HS(n):BS(n);if(typeof n=="string")return QS(n);throw new Error("Expected function, string, or object as test")});function HS(n){const t=[];let s=-1;for(;++s<n.length;)t[s]=gl(n[s]);return Cl(r);function r(...l){let u=-1;for(;++u<t.length;)if(t[u].apply(this,l))return!0;return!1}}function BS(n){const t=n;return Cl(s);function s(r){const l=r;let u;for(u in n)if(l[u]!==t[u])return!1;return!0}}function QS(n){return Cl(t);function t(s){return s&&s.type===n}}function Cl(n){return t;function t(s,r,l){return!!($S(s)&&n.call(this,s,typeof r=="number"?r:void 0,l||void 0))}}function KS(){return!0}function $S(n){return n!==null&&typeof n=="object"&&"type"in n}const sv=[],JS=!0,Td=!1,WS="skip";function av(n,t,s,r){let l;typeof t=="function"&&typeof s!="function"?(r=s,s=t):l=t;const u=gl(l),c=r?-1:1;p(n,void 0,[])();function p(h,m,g){const C=h&&typeof h=="object"?h:{};if(typeof C.type=="string"){const _=typeof C.tagName=="string"?C.tagName:typeof C.name=="string"?C.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(h.type+(_?"<"+_+">":""))+")"})}return T;function T(){let _=sv,S,b,D;if((!t||u(h,m,g[g.length-1]||void 0))&&(_=YS(s(h,g)),_[0]===Td))return _;if("children"in h&&h.children){const R=h;if(R.children&&_[0]!==WS)for(b=(r?R.children.length:-1)+c,D=g.concat(R);b>-1&&b<R.children.length;){const P=R.children[b];if(S=p(P,b,D)(),S[0]===Td)return S;b=typeof S[1]=="number"?S[1]:b+c}}return _}}}function YS(n){return Array.isArray(n)?n:typeof n=="number"?[JS,n]:n==null?sv:[n]}function Wd(n,t,s,r){let l,u,c;typeof t=="function"&&typeof s!="function"?(u=void 0,c=t,l=s):(u=t,c=s,l=r),av(n,u,p,l);function p(h,m){const g=m[m.length-1],C=g?g.children.indexOf(h):void 0;return c(h,C,g)}}const Ad={}.hasOwnProperty,XS={};function ZS(n,t){const s=t||XS,r=new Map,l=new Map,u=new Map,c={...LS,...s.handlers},p={all:m,applyData:nE,definitionById:r,footnoteById:l,footnoteCounts:u,footnoteOrder:[],handlers:c,one:h,options:s,patch:eE,wrap:iE};return Wd(n,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const C=g.type==="definition"?r:l,T=String(g.identifier).toUpperCase();C.has(T)||C.set(T,g)}}),p;function h(g,C){const T=g.type,_=p.handlers[T];if(Ad.call(p.handlers,T)&&_)return _(p,g,C);if(p.options.passThrough&&p.options.passThrough.includes(T)){if("children"in g){const{children:b,...D}=g,R=ll(D);return R.children=p.all(g),R}return ll(g)}return(p.options.unknownHandler||tE)(p,g,C)}function m(g){const C=[];if("children"in g){const T=g.children;let _=-1;for(;++_<T.length;){const S=p.one(T[_],g);if(S){if(_&&T[_-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=wg(S.value)),!Array.isArray(S)&&S.type==="element")){const b=S.children[0];b&&b.type==="text"&&(b.value=wg(b.value))}Array.isArray(S)?C.push(...S):C.push(S)}}}return C}}function eE(n,t){n.position&&(t.position=z0(n))}function nE(n,t){let s=t;if(n&&n.data){const r=n.data.hName,l=n.data.hChildren,u=n.data.hProperties;if(typeof r=="string")if(s.type==="element")s.tagName=r;else{const c="children"in s?s.children:[s];s={type:"element",tagName:r,properties:{},children:c}}s.type==="element"&&u&&Object.assign(s.properties,ll(u)),"children"in s&&s.children&&l!==null&&l!==void 0&&(s.children=l)}return s}function tE(n,t){const s=t.data||{},r="value"in t&&!(Ad.call(s,"hProperties")||Ad.call(s,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}function iE(n,t){const s=[];let r=-1;for(t&&s.push({type:"text",value:`
`});++r<n.length;)r&&s.push({type:"text",value:`
`}),s.push(n[r]);return t&&n.length>0&&s.push({type:"text",value:`
`}),s}function wg(n){let t=0,s=n.charCodeAt(t);for(;s===9||s===32;)t++,s=n.charCodeAt(t);return n.slice(t)}function Ug(n,t){const s=ZS(n,t),r=s.one(n,void 0),l=GS(s),u=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return l&&u.children.push({type:"text",value:`
`},l),u}function sE(n,t){return n&&"run"in n?async function(s,r){const l=Ug(s,{file:r,...t});await n.run(l,r)}:function(s,r){return Ug(s,{file:r,...n||t})}}function kg(n){if(n)throw n}var Jc,Fg;function aE(){if(Fg)return Jc;Fg=1;var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,s=Object.defineProperty,r=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},u=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var g=n.call(m,"constructor"),C=m.constructor&&m.constructor.prototype&&n.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!C)return!1;var T;for(T in m);return typeof T>"u"||n.call(m,T)},c=function(m,g){s&&g.name==="__proto__"?s(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},p=function(m,g){if(g==="__proto__")if(n.call(m,g)){if(r)return r(m,g).value}else return;return m[g]};return Jc=function h(){var m,g,C,T,_,S,b=arguments[0],D=1,R=arguments.length,P=!1;for(typeof b=="boolean"&&(P=b,b=arguments[1]||{},D=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});D<R;++D)if(m=arguments[D],m!=null)for(g in m)C=p(b,g),T=p(m,g),b!==T&&(P&&T&&(u(T)||(_=l(T)))?(_?(_=!1,S=C&&l(C)?C:[]):S=C&&u(C)?C:{},c(b,{name:g,newValue:h(P,S,T)})):typeof T<"u"&&c(b,{name:g,newValue:T}));return b},Jc}var rE=aE();const Wc=bC(rE);function Sd(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function oE(){const n=[],t={run:s,use:r};return t;function s(...l){let u=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);p(null,...l);function p(h,...m){const g=n[++u];let C=-1;if(h){c(h);return}for(;++C<l.length;)(m[C]===null||m[C]===void 0)&&(m[C]=l[C]);l=m,g?lE(g,p)(...m):c(null,...m)}}function r(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return n.push(l),t}}function lE(n,t){let s;return r;function r(...c){const p=n.length>c.length;let h;p&&c.push(l);try{h=n.apply(this,c)}catch(m){const g=m;if(p&&s)throw g;return l(g)}p||(h&&h.then&&typeof h.then=="function"?h.then(u,l):h instanceof Error?l(h):u(h))}function l(c,...p){s||(s=!0,t(c,...p))}function u(c){l(null,c)}}const Mt={basename:uE,dirname:cE,extname:dE,join:pE,sep:"/"};function uE(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');br(n);let s=0,r=-1,l=n.length,u;if(t===void 0||t.length===0||t.length>n.length){for(;l--;)if(n.codePointAt(l)===47){if(u){s=l+1;break}}else r<0&&(u=!0,r=l+1);return r<0?"":n.slice(s,r)}if(t===n)return"";let c=-1,p=t.length-1;for(;l--;)if(n.codePointAt(l)===47){if(u){s=l+1;break}}else c<0&&(u=!0,c=l+1),p>-1&&(n.codePointAt(l)===t.codePointAt(p--)?p<0&&(r=l):(p=-1,r=c));return s===r?r=c:r<0&&(r=n.length),n.slice(s,r)}function cE(n){if(br(n),n.length===0)return".";let t=-1,s=n.length,r;for(;--s;)if(n.codePointAt(s)===47){if(r){t=s;break}}else r||(r=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function dE(n){br(n);let t=n.length,s=-1,r=0,l=-1,u=0,c;for(;t--;){const p=n.codePointAt(t);if(p===47){if(c){r=t+1;break}continue}s<0&&(c=!0,s=t+1),p===46?l<0?l=t:u!==1&&(u=1):l>-1&&(u=-1)}return l<0||s<0||u===0||u===1&&l===s-1&&l===r+1?"":n.slice(l,s)}function pE(...n){let t=-1,s;for(;++t<n.length;)br(n[t]),n[t]&&(s=s===void 0?n[t]:s+"/"+n[t]);return s===void 0?".":mE(s)}function mE(n){br(n);const t=n.codePointAt(0)===47;let s=fE(n,!t);return s.length===0&&!t&&(s="."),s.length>0&&n.codePointAt(n.length-1)===47&&(s+="/"),t?"/"+s:s}function fE(n,t){let s="",r=0,l=-1,u=0,c=-1,p,h;for(;++c<=n.length;){if(c<n.length)p=n.codePointAt(c);else{if(p===47)break;p=47}if(p===47){if(!(l===c-1||u===1))if(l!==c-1&&u===2){if(s.length<2||r!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(h=s.lastIndexOf("/"),h!==s.length-1){h<0?(s="",r=0):(s=s.slice(0,h),r=s.length-1-s.lastIndexOf("/")),l=c,u=0;continue}}else if(s.length>0){s="",r=0,l=c,u=0;continue}}t&&(s=s.length>0?s+"/..":"..",r=2)}else s.length>0?s+="/"+n.slice(l+1,c):s=n.slice(l+1,c),r=c-l-1;l=c,u=0}else p===46&&u>-1?u++:u=-1}return s}function br(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const hE={cwd:gE};function gE(){return"/"}function Ed(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function CE(n){if(typeof n=="string")n=new URL(n);else if(!Ed(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return vE(n)}function vE(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=n.pathname;let s=-1;for(;++s<t.length;)if(t.codePointAt(s)===37&&t.codePointAt(s+1)===50){const r=t.codePointAt(s+2);if(r===70||r===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(t)}const Yc=["history","path","basename","stem","extname","dirname"];class rv{constructor(t){let s;t?Ed(t)?s={path:t}:typeof t=="string"||_E(t)?s={value:t}:s=t:s={},this.cwd="cwd"in s?"":hE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Yc.length;){const u=Yc[r];u in s&&s[u]!==void 0&&s[u]!==null&&(this[u]=u==="history"?[...s[u]]:s[u])}let l;for(l in s)Yc.includes(l)||(this[l]=s[l])}get basename(){return typeof this.path=="string"?Mt.basename(this.path):void 0}set basename(t){Zc(t,"basename"),Xc(t,"basename"),this.path=Mt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Mt.dirname(this.path):void 0}set dirname(t){zg(this.basename,"dirname"),this.path=Mt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Mt.extname(this.path):void 0}set extname(t){if(Xc(t,"extname"),zg(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Mt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ed(t)&&(t=CE(t)),Zc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Mt.basename(this.path,this.extname):void 0}set stem(t){Zc(t,"stem"),Xc(t,"stem"),this.path=Mt.join(this.dirname||"",t+(this.extname||""))}fail(t,s,r){const l=this.message(t,s,r);throw l.fatal=!0,l}info(t,s,r){const l=this.message(t,s,r);return l.fatal=void 0,l}message(t,s,r){const l=new yn(t,s,r);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Xc(n,t){if(n&&n.includes(Mt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Mt.sep+"`")}function Zc(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function zg(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function _E(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const TE=(function(n){const r=this.constructor.prototype,l=r[n],u=function(){return l.apply(u,arguments)};return Object.setPrototypeOf(u,r),u}),AE={}.hasOwnProperty;class Yd extends TE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=oE()}copy(){const t=new Yd;let s=-1;for(;++s<this.attachers.length;){const r=this.attachers[s];t.use(...r)}return t.data(Wc(!0,{},this.namespace)),t}data(t,s){return typeof t=="string"?arguments.length===2?(td("data",this.frozen),this.namespace[t]=s,this):AE.call(this.namespace,t)&&this.namespace[t]||void 0:t?(td("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const l=s.call(t,...r);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const s=Jo(t),r=this.parser||this.Parser;return ed("parse",r),r(String(s),s)}process(t,s){const r=this;return this.freeze(),ed("process",this.parser||this.Parser),nd("process",this.compiler||this.Compiler),s?l(void 0,s):new Promise(l);function l(u,c){const p=Jo(t),h=r.parse(p);r.run(h,p,function(g,C,T){if(g||!C||!T)return m(g);const _=C,S=r.stringify(_,T);ME(S)?T.value=S:T.result=S,m(g,T)});function m(g,C){g||!C?c(g):u?u(C):s(void 0,C)}}}processSync(t){let s=!1,r;return this.freeze(),ed("processSync",this.parser||this.Parser),nd("processSync",this.compiler||this.Compiler),this.process(t,l),Hg("processSync","process",s),r;function l(u,c){s=!0,kg(u),r=c}}run(t,s,r){Gg(t),this.freeze();const l=this.transformers;return!r&&typeof s=="function"&&(r=s,s=void 0),r?u(void 0,r):new Promise(u);function u(c,p){const h=Jo(s);l.run(t,h,m);function m(g,C,T){const _=C||t;g?p(g):c?c(_):r(void 0,_,T)}}}runSync(t,s){let r=!1,l;return this.run(t,s,u),Hg("runSync","run",r),l;function u(c,p){kg(c),l=p,r=!0}}stringify(t,s){this.freeze();const r=Jo(s),l=this.compiler||this.Compiler;return nd("stringify",l),Gg(t),l(t,r)}use(t,...s){const r=this.attachers,l=this.namespace;if(td("use",this.frozen),t!=null)if(typeof t=="function")h(t,s);else if(typeof t=="object")Array.isArray(t)?p(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function u(m){if(typeof m=="function")h(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[g,...C]=m;h(g,C)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");p(m.plugins),m.settings&&(l.settings=Wc(!0,l.settings,m.settings))}function p(m){let g=-1;if(m!=null)if(Array.isArray(m))for(;++g<m.length;){const C=m[g];u(C)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function h(m,g){let C=-1,T=-1;for(;++C<r.length;)if(r[C][0]===m){T=C;break}if(T===-1)r.push([m,...g]);else if(g.length>0){let[_,...S]=g;const b=r[T][1];Sd(b)&&Sd(_)&&(_=Wc(!0,b,_)),r[T]=[m,_,...S]}}}}const SE=new Yd().freeze();function ed(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function nd(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function td(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gg(n){if(!Sd(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Hg(n,t,s){if(!s)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function Jo(n){return EE(n)?n:new rv(n)}function EE(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function ME(n){return typeof n=="string"||bE(n)}function bE(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const RE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Bg=[],Qg={allowDangerousHtml:!0},yE=/^(https?|ircs?|mailto|xmpp)$/i,OE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ov(n){const t=DE(n),s=qE(n);return VE(t.runSync(t.parse(s),s),n)}function DE(n){const t=n.rehypePlugins||Bg,s=n.remarkPlugins||Bg,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Qg}:Qg;return SE().use(cS).use(s).use(sE,r).use(t)}function qE(n){const t=n.children||"",s=new rv;return typeof t=="string"&&(s.value=t),s}function VE(n,t){const s=t.allowedElements,r=t.allowElement,l=t.components,u=t.disallowedElements,c=t.skipHtml,p=t.unwrapDisallowed,h=t.urlTransform||NE;for(const g of OE)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+RE+g.id,void 0);return t.className&&(n={type:"element",tagName:"div",properties:{className:t.className},children:n.type==="root"?n.children:[n]}),Wd(n,m),K0(n,{Fragment:M.Fragment,components:l,ignoreInvalidStyle:!0,jsx:M.jsx,jsxs:M.jsxs,passKeys:!0,passNode:!0});function m(g,C,T){if(g.type==="raw"&&T&&typeof C=="number")return c?T.children.splice(C,1):T.children[C]={type:"text",value:g.value},C;if(g.type==="element"){let _;for(_ in Qc)if(Object.hasOwn(Qc,_)&&Object.hasOwn(g.properties,_)){const S=g.properties[_],b=Qc[_];(b===null||b.includes(g.tagName))&&(g.properties[_]=h(String(S||""),_,g))}}if(g.type==="element"){let _=s?!s.includes(g.tagName):u?u.includes(g.tagName):!1;if(!_&&r&&typeof C=="number"&&(_=!r(g,C,T)),_&&T&&typeof C=="number")return p&&g.children?T.children.splice(C,1,...g.children):T.children.splice(C,1),C}}}function NE(n){const t=n.indexOf(":"),s=n.indexOf("?"),r=n.indexOf("#"),l=n.indexOf("/");return t===-1||l!==-1&&t>l||s!==-1&&t>s||r!==-1&&t>r||yE.test(n.slice(0,t))?n:""}function Kg(n,t){const s=String(n);if(typeof t!="string")throw new TypeError("Expected character");let r=0,l=s.indexOf(t);for(;l!==-1;)r++,l=s.indexOf(t,l+t.length);return r}function PE(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function IE(n,t,s){const l=gl((s||{}).ignore||[]),u=xE(t);let c=-1;for(;++c<u.length;)av(n,"text",p);function p(m,g){let C=-1,T;for(;++C<g.length;){const _=g[C],S=T?T.children:void 0;if(l(_,S?S.indexOf(_):void 0,T))return;T=_}if(T)return h(m,g)}function h(m,g){const C=g[g.length-1],T=u[c][0],_=u[c][1];let S=0;const D=C.children.indexOf(m);let R=!1,P=[];T.lastIndex=0;let N=T.exec(m.value);for(;N;){const $=N.index,Y={index:N.index,input:N.input,stack:[...g,m]};let x=_(...N,Y);if(typeof x=="string"&&(x=x.length>0?{type:"text",value:x}:void 0),x===!1?T.lastIndex=$+1:(S!==$&&P.push({type:"text",value:m.value.slice(S,$)}),Array.isArray(x)?P.push(...x):x&&P.push(x),S=$+N[0].length,R=!0),!T.global)break;N=T.exec(m.value)}return R?(S<m.value.length&&P.push({type:"text",value:m.value.slice(S)}),C.children.splice(D,1,...P)):P=[m],D+P.length}}function xE(n){const t=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const s=!n[0]||Array.isArray(n[0])?n:[n];let r=-1;for(;++r<s.length;){const l=s[r];t.push([LE(l[0]),jE(l[1])])}return t}function LE(n){return typeof n=="string"?new RegExp(PE(n),"g"):n}function jE(n){return typeof n=="function"?n:function(){return n}}const id="phrasing",sd=["autolink","link","image","label"];function wE(){return{transforms:[BE],enter:{literalAutolink:kE,literalAutolinkEmail:ad,literalAutolinkHttp:ad,literalAutolinkWww:ad},exit:{literalAutolink:HE,literalAutolinkEmail:GE,literalAutolinkHttp:FE,literalAutolinkWww:zE}}}function UE(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:id,notInConstruct:sd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:id,notInConstruct:sd},{character:":",before:"[ps]",after:"\\/",inConstruct:id,notInConstruct:sd}]}}function kE(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function ad(n){this.config.enter.autolinkProtocol.call(this,n)}function FE(n){this.config.exit.autolinkProtocol.call(this,n)}function zE(n){this.config.exit.data.call(this,n);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(n)}function GE(n){this.config.exit.autolinkEmail.call(this,n)}function HE(n){this.exit(n)}function BE(n){IE(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,QE],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),KE]],{ignore:["link","linkReference"]})}function QE(n,t,s,r,l){let u="";if(!lv(l)||(/^w/i.test(t)&&(s=t+s,t="",u="http://"),!$E(s)))return!1;const c=JE(s+r);if(!c[0])return!1;const p={type:"link",title:null,url:u+t+c[0],children:[{type:"text",value:t+c[0]}]};return c[1]?[p,{type:"text",value:c[1]}]:p}function KE(n,t,s,r){return!lv(r,!0)||/[-\d_]$/.test(s)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+s,children:[{type:"text",value:t+"@"+s}]}}function $E(n){const t=n.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function JE(n){const t=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!t)return[n,void 0];n=n.slice(0,t.index);let s=t[0],r=s.indexOf(")");const l=Kg(n,"(");let u=Kg(n,")");for(;r!==-1&&l>u;)n+=s.slice(0,r+1),s=s.slice(r+1),r=s.indexOf(")"),u++;return[n,s]}function lv(n,t){const s=n.input.charCodeAt(n.index-1);return(n.index===0||Xi(s)||ml(s))&&(!t||s!==47)}uv.peek=sM;function WE(){this.buffer()}function YE(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function XE(){this.buffer()}function ZE(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function eM(n){const t=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=_t(this.sliceSerialize(n)).toLowerCase(),s.label=t}function nM(n){this.exit(n)}function tM(n){const t=this.resume(),s=this.stack[this.stack.length-1];s.type,s.identifier=_t(this.sliceSerialize(n)).toLowerCase(),s.label=t}function iM(n){this.exit(n)}function sM(){return"["}function uv(n,t,s,r){const l=s.createTracker(r);let u=l.move("[^");const c=s.enter("footnoteReference"),p=s.enter("reference");return u+=l.move(s.safe(s.associationId(n),{after:"]",before:u})),p(),c(),u+=l.move("]"),u}function aM(){return{enter:{gfmFootnoteCallString:WE,gfmFootnoteCall:YE,gfmFootnoteDefinitionLabelString:XE,gfmFootnoteDefinition:ZE},exit:{gfmFootnoteCallString:eM,gfmFootnoteCall:nM,gfmFootnoteDefinitionLabelString:tM,gfmFootnoteDefinition:iM}}}function rM(n){let t=!1;return n&&n.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:s,footnoteReference:uv},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function s(r,l,u,c){const p=u.createTracker(c);let h=p.move("[^");const m=u.enter("footnoteDefinition"),g=u.enter("label");return h+=p.move(u.safe(u.associationId(r),{before:h,after:"]"})),g(),h+=p.move("]:"),r.children&&r.children.length>0&&(p.shift(4),h+=p.move((t?`
`:" ")+u.indentLines(u.containerFlow(r,p.current()),t?cv:oM))),m(),h}}function oM(n,t,s){return t===0?n:cv(n,t,s)}function cv(n,t,s){return(s?"":"    ")+n}const lM=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];dv.peek=mM;function uM(){return{canContainEols:["delete"],enter:{strikethrough:dM},exit:{strikethrough:pM}}}function cM(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:lM}],handlers:{delete:dv}}}function dM(n){this.enter({type:"delete",children:[]},n)}function pM(n){this.exit(n)}function dv(n,t,s,r){const l=s.createTracker(r),u=s.enter("strikethrough");let c=l.move("~~");return c+=s.containerPhrasing(n,{...l.current(),before:c,after:"~"}),c+=l.move("~~"),u(),c}function mM(){return"~"}function fM(n){return n.length}function hM(n,t){const s=t||{},r=(s.align||[]).concat(),l=s.stringLength||fM,u=[],c=[],p=[],h=[];let m=0,g=-1;for(;++g<n.length;){const b=[],D=[];let R=-1;for(n[g].length>m&&(m=n[g].length);++R<n[g].length;){const P=gM(n[g][R]);if(s.alignDelimiters!==!1){const N=l(P);D[R]=N,(h[R]===void 0||N>h[R])&&(h[R]=N)}b.push(P)}c[g]=b,p[g]=D}let C=-1;if(typeof r=="object"&&"length"in r)for(;++C<m;)u[C]=$g(r[C]);else{const b=$g(r);for(;++C<m;)u[C]=b}C=-1;const T=[],_=[];for(;++C<m;){const b=u[C];let D="",R="";b===99?(D=":",R=":"):b===108?D=":":b===114&&(R=":");let P=s.alignDelimiters===!1?1:Math.max(1,h[C]-D.length-R.length);const N=D+"-".repeat(P)+R;s.alignDelimiters!==!1&&(P=D.length+P+R.length,P>h[C]&&(h[C]=P),_[C]=P),T[C]=N}c.splice(1,0,T),p.splice(1,0,_),g=-1;const S=[];for(;++g<c.length;){const b=c[g],D=p[g];C=-1;const R=[];for(;++C<m;){const P=b[C]||"";let N="",$="";if(s.alignDelimiters!==!1){const Y=h[C]-(D[C]||0),x=u[C];x===114?N=" ".repeat(Y):x===99?Y%2?(N=" ".repeat(Y/2+.5),$=" ".repeat(Y/2-.5)):(N=" ".repeat(Y/2),$=N):$=" ".repeat(Y)}s.delimiterStart!==!1&&!C&&R.push("|"),s.padding!==!1&&!(s.alignDelimiters===!1&&P==="")&&(s.delimiterStart!==!1||C)&&R.push(" "),s.alignDelimiters!==!1&&R.push(N),R.push(P),s.alignDelimiters!==!1&&R.push($),s.padding!==!1&&R.push(" "),(s.delimiterEnd!==!1||C!==m-1)&&R.push("|")}S.push(s.delimiterEnd===!1?R.join("").replace(/ +$/,""):R.join(""))}return S.join(`
`)}function gM(n){return n==null?"":String(n)}function $g(n){const t=typeof n=="string"?n.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function CM(n,t,s,r){const l=s.enter("blockquote"),u=s.createTracker(r);u.move("> "),u.shift(2);const c=s.indentLines(s.containerFlow(n,u.current()),vM);return l(),c}function vM(n,t,s){return">"+(s?"":" ")+n}function _M(n,t){return Jg(n,t.inConstruct,!0)&&!Jg(n,t.notInConstruct,!1)}function Jg(n,t,s){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return s;let r=-1;for(;++r<t.length;)if(n.includes(t[r]))return!0;return!1}function Wg(n,t,s,r){let l=-1;for(;++l<s.unsafe.length;)if(s.unsafe[l].character===`
`&&_M(s.stack,s.unsafe[l]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function TM(n,t){const s=String(n);let r=s.indexOf(t),l=r,u=0,c=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===l?++u>c&&(c=u):u=1,l=r+t.length,r=s.indexOf(t,l);return c}function AM(n,t){return!!(t.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function SM(n){const t=n.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function EM(n,t,s,r){const l=SM(s),u=n.value||"",c=l==="`"?"GraveAccent":"Tilde";if(AM(n,s)){const C=s.enter("codeIndented"),T=s.indentLines(u,MM);return C(),T}const p=s.createTracker(r),h=l.repeat(Math.max(TM(u,l)+1,3)),m=s.enter("codeFenced");let g=p.move(h);if(n.lang){const C=s.enter(`codeFencedLang${c}`);g+=p.move(s.safe(n.lang,{before:g,after:" ",encode:["`"],...p.current()})),C()}if(n.lang&&n.meta){const C=s.enter(`codeFencedMeta${c}`);g+=p.move(" "),g+=p.move(s.safe(n.meta,{before:g,after:`
`,encode:["`"],...p.current()})),C()}return g+=p.move(`
`),u&&(g+=p.move(u+`
`)),g+=p.move(h),m(),g}function MM(n,t,s){return(s?"":"    ")+n}function Xd(n){const t=n.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function bM(n,t,s,r){const l=Xd(s),u=l==='"'?"Quote":"Apostrophe",c=s.enter("definition");let p=s.enter("label");const h=s.createTracker(r);let m=h.move("[");return m+=h.move(s.safe(s.associationId(n),{before:m,after:"]",...h.current()})),m+=h.move("]: "),p(),!n.url||/[\0- \u007F]/.test(n.url)?(p=s.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(s.safe(n.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(p=s.enter("destinationRaw"),m+=h.move(s.safe(n.url,{before:m,after:n.title?" ":`
`,...h.current()}))),p(),n.title&&(p=s.enter(`title${u}`),m+=h.move(" "+l),m+=h.move(s.safe(n.title,{before:m,after:l,...h.current()})),m+=h.move(l),p()),c(),m}function RM(n){const t=n.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function hr(n){return"&#x"+n.toString(16).toUpperCase()+";"}function ul(n,t,s){const r=ia(n),l=ia(t);return r===void 0?l===void 0?s==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}pv.peek=yM;function pv(n,t,s,r){const l=RM(s),u=s.enter("emphasis"),c=s.createTracker(r),p=c.move(l);let h=c.move(s.containerPhrasing(n,{after:l,before:p,...c.current()}));const m=h.charCodeAt(0),g=ul(r.before.charCodeAt(r.before.length-1),m,l);g.inside&&(h=hr(m)+h.slice(1));const C=h.charCodeAt(h.length-1),T=ul(r.after.charCodeAt(0),C,l);T.inside&&(h=h.slice(0,-1)+hr(C));const _=c.move(l);return u(),s.attentionEncodeSurroundingInfo={after:T.outside,before:g.outside},p+h+_}function yM(n,t,s){return s.options.emphasis||"*"}function OM(n,t){let s=!1;return Wd(n,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return s=!0,Td}),!!((!n.depth||n.depth<3)&&Gd(n)&&(t.options.setext||s))}function DM(n,t,s,r){const l=Math.max(Math.min(6,n.depth||1),1),u=s.createTracker(r);if(OM(n,s)){const g=s.enter("headingSetext"),C=s.enter("phrasing"),T=s.containerPhrasing(n,{...u.current(),before:`
`,after:`
`});return C(),g(),T+`
`+(l===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const c="#".repeat(l),p=s.enter("headingAtx"),h=s.enter("phrasing");u.move(c+" ");let m=s.containerPhrasing(n,{before:"# ",after:`
`,...u.current()});return/^[\t ]/.test(m)&&(m=hr(m.charCodeAt(0))+m.slice(1)),m=m?c+" "+m:c,s.options.closeAtx&&(m+=" "+c),h(),p(),m}mv.peek=qM;function mv(n){return n.value||""}function qM(){return"<"}fv.peek=VM;function fv(n,t,s,r){const l=Xd(s),u=l==='"'?"Quote":"Apostrophe",c=s.enter("image");let p=s.enter("label");const h=s.createTracker(r);let m=h.move("![");return m+=h.move(s.safe(n.alt,{before:m,after:"]",...h.current()})),m+=h.move("]("),p(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(p=s.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(s.safe(n.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(p=s.enter("destinationRaw"),m+=h.move(s.safe(n.url,{before:m,after:n.title?" ":")",...h.current()}))),p(),n.title&&(p=s.enter(`title${u}`),m+=h.move(" "+l),m+=h.move(s.safe(n.title,{before:m,after:l,...h.current()})),m+=h.move(l),p()),m+=h.move(")"),c(),m}function VM(){return"!"}hv.peek=NM;function hv(n,t,s,r){const l=n.referenceType,u=s.enter("imageReference");let c=s.enter("label");const p=s.createTracker(r);let h=p.move("![");const m=s.safe(n.alt,{before:h,after:"]",...p.current()});h+=p.move(m+"]["),c();const g=s.stack;s.stack=[],c=s.enter("reference");const C=s.safe(s.associationId(n),{before:h,after:"]",...p.current()});return c(),s.stack=g,u(),l==="full"||!m||m!==C?h+=p.move(C+"]"):l==="shortcut"?h=h.slice(0,-1):h+=p.move("]"),h}function NM(){return"!"}gv.peek=PM;function gv(n,t,s){let r=n.value||"",l="`",u=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(r);)l+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++u<s.unsafe.length;){const c=s.unsafe[u],p=s.compilePattern(c);let h;if(c.atBreak)for(;h=p.exec(r);){let m=h.index;r.charCodeAt(m)===10&&r.charCodeAt(m-1)===13&&m--,r=r.slice(0,m)+" "+r.slice(h.index+1)}}return l+r+l}function PM(){return"`"}function Cv(n,t){const s=Gd(n);return!!(!t.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(s===n.url||"mailto:"+s===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}vv.peek=IM;function vv(n,t,s,r){const l=Xd(s),u=l==='"'?"Quote":"Apostrophe",c=s.createTracker(r);let p,h;if(Cv(n,s)){const g=s.stack;s.stack=[],p=s.enter("autolink");let C=c.move("<");return C+=c.move(s.containerPhrasing(n,{before:C,after:">",...c.current()})),C+=c.move(">"),p(),s.stack=g,C}p=s.enter("link"),h=s.enter("label");let m=c.move("[");return m+=c.move(s.containerPhrasing(n,{before:m,after:"](",...c.current()})),m+=c.move("]("),h(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(h=s.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(s.safe(n.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(h=s.enter("destinationRaw"),m+=c.move(s.safe(n.url,{before:m,after:n.title?" ":")",...c.current()}))),h(),n.title&&(h=s.enter(`title${u}`),m+=c.move(" "+l),m+=c.move(s.safe(n.title,{before:m,after:l,...c.current()})),m+=c.move(l),h()),m+=c.move(")"),p(),m}function IM(n,t,s){return Cv(n,s)?"<":"["}_v.peek=xM;function _v(n,t,s,r){const l=n.referenceType,u=s.enter("linkReference");let c=s.enter("label");const p=s.createTracker(r);let h=p.move("[");const m=s.containerPhrasing(n,{before:h,after:"]",...p.current()});h+=p.move(m+"]["),c();const g=s.stack;s.stack=[],c=s.enter("reference");const C=s.safe(s.associationId(n),{before:h,after:"]",...p.current()});return c(),s.stack=g,u(),l==="full"||!m||m!==C?h+=p.move(C+"]"):l==="shortcut"?h=h.slice(0,-1):h+=p.move("]"),h}function xM(){return"["}function Zd(n){const t=n.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function LM(n){const t=Zd(n),s=n.options.bulletOther;if(!s)return t==="*"?"-":"*";if(s!=="*"&&s!=="+"&&s!=="-")throw new Error("Cannot serialize items with `"+s+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(s===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+s+"`) to be different");return s}function jM(n){const t=n.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Tv(n){const t=n.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function wM(n,t,s,r){const l=s.enter("list"),u=s.bulletCurrent;let c=n.ordered?jM(s):Zd(s);const p=n.ordered?c==="."?")":".":LM(s);let h=t&&s.bulletLastUsed?c===s.bulletLastUsed:!1;if(!n.ordered){const g=n.children?n.children[0]:void 0;if((c==="*"||c==="-")&&g&&(!g.children||!g.children[0])&&s.stack[s.stack.length-1]==="list"&&s.stack[s.stack.length-2]==="listItem"&&s.stack[s.stack.length-3]==="list"&&s.stack[s.stack.length-4]==="listItem"&&s.indexStack[s.indexStack.length-1]===0&&s.indexStack[s.indexStack.length-2]===0&&s.indexStack[s.indexStack.length-3]===0&&(h=!0),Tv(s)===c&&g){let C=-1;for(;++C<n.children.length;){const T=n.children[C];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(c=p),s.bulletCurrent=c;const m=s.containerFlow(n,r);return s.bulletLastUsed=c,s.bulletCurrent=u,l(),m}function UM(n){const t=n.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function kM(n,t,s,r){const l=UM(s);let u=s.bulletCurrent||Zd(s);t&&t.type==="list"&&t.ordered&&(u=(typeof t.start=="number"&&t.start>-1?t.start:1)+(s.options.incrementListMarker===!1?0:t.children.indexOf(n))+u);let c=u.length+1;(l==="tab"||l==="mixed"&&(t&&t.type==="list"&&t.spread||n.spread))&&(c=Math.ceil(c/4)*4);const p=s.createTracker(r);p.move(u+" ".repeat(c-u.length)),p.shift(c);const h=s.enter("listItem"),m=s.indentLines(s.containerFlow(n,p.current()),g);return h(),m;function g(C,T,_){return T?(_?"":" ".repeat(c))+C:(_?u:u+" ".repeat(c-u.length))+C}}function FM(n,t,s,r){const l=s.enter("paragraph"),u=s.enter("phrasing"),c=s.containerPhrasing(n,r);return u(),l(),c}const zM=gl(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function GM(n,t,s,r){return(n.children.some(function(c){return zM(c)})?s.containerPhrasing:s.containerFlow).call(s,n,r)}function HM(n){const t=n.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Av.peek=BM;function Av(n,t,s,r){const l=HM(s),u=s.enter("strong"),c=s.createTracker(r),p=c.move(l+l);let h=c.move(s.containerPhrasing(n,{after:l,before:p,...c.current()}));const m=h.charCodeAt(0),g=ul(r.before.charCodeAt(r.before.length-1),m,l);g.inside&&(h=hr(m)+h.slice(1));const C=h.charCodeAt(h.length-1),T=ul(r.after.charCodeAt(0),C,l);T.inside&&(h=h.slice(0,-1)+hr(C));const _=c.move(l+l);return u(),s.attentionEncodeSurroundingInfo={after:T.outside,before:g.outside},p+h+_}function BM(n,t,s){return s.options.strong||"*"}function QM(n,t,s,r){return s.safe(n.value,r)}function KM(n){const t=n.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function $M(n,t,s){const r=(Tv(s)+(s.options.ruleSpaces?" ":"")).repeat(KM(s));return s.options.ruleSpaces?r.slice(0,-1):r}const Sv={blockquote:CM,break:Wg,code:EM,definition:bM,emphasis:pv,hardBreak:Wg,heading:DM,html:mv,image:fv,imageReference:hv,inlineCode:gv,link:vv,linkReference:_v,list:wM,listItem:kM,paragraph:FM,root:GM,strong:Av,text:QM,thematicBreak:$M};function JM(){return{enter:{table:WM,tableData:Yg,tableHeader:Yg,tableRow:XM},exit:{codeText:ZM,table:YM,tableData:rd,tableHeader:rd,tableRow:rd}}}function WM(n){const t=n._align;this.enter({type:"table",align:t.map(function(s){return s==="none"?null:s}),children:[]},n),this.data.inTable=!0}function YM(n){this.exit(n),this.data.inTable=void 0}function XM(n){this.enter({type:"tableRow",children:[]},n)}function rd(n){this.exit(n)}function Yg(n){this.enter({type:"tableCell",children:[]},n)}function ZM(n){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,e2));const s=this.stack[this.stack.length-1];s.type,s.value=t,this.exit(n)}function e2(n,t){return t==="|"?t:n}function n2(n){const t=n||{},s=t.tableCellPadding,r=t.tablePipeAlign,l=t.stringLength,u=s?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:c,tableCell:h,tableRow:p}};function c(_,S,b,D){return m(g(_,b,D),_.align)}function p(_,S,b,D){const R=C(_,b,D),P=m([R]);return P.slice(0,P.indexOf(`
`))}function h(_,S,b,D){const R=b.enter("tableCell"),P=b.enter("phrasing"),N=b.containerPhrasing(_,{...D,before:u,after:u});return P(),R(),N}function m(_,S){return hM(_,{align:S,alignDelimiters:r,padding:s,stringLength:l})}function g(_,S,b){const D=_.children;let R=-1;const P=[],N=S.enter("table");for(;++R<D.length;)P[R]=C(D[R],S,b);return N(),P}function C(_,S,b){const D=_.children;let R=-1;const P=[],N=S.enter("tableRow");for(;++R<D.length;)P[R]=h(D[R],_,S,b);return N(),P}function T(_,S,b){let D=Sv.inlineCode(_,S,b);return b.stack.includes("tableCell")&&(D=D.replace(/\|/g,"\\$&")),D}}function t2(){return{exit:{taskListCheckValueChecked:Xg,taskListCheckValueUnchecked:Xg,paragraph:s2}}}function i2(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:a2}}}function Xg(n){const t=this.stack[this.stack.length-2];t.type,t.checked=n.type==="taskListCheckValueChecked"}function s2(n){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const s=this.stack[this.stack.length-1];s.type;const r=s.children[0];if(r&&r.type==="text"){const l=t.children;let u=-1,c;for(;++u<l.length;){const p=l[u];if(p.type==="paragraph"){c=p;break}}c===s&&(r.value=r.value.slice(1),r.value.length===0?s.children.shift():s.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,s.position.start=Object.assign({},r.position.start)))}}this.exit(n)}function a2(n,t,s,r){const l=n.children[0],u=typeof n.checked=="boolean"&&l&&l.type==="paragraph",c="["+(n.checked?"x":" ")+"] ",p=s.createTracker(r);u&&p.move(c);let h=Sv.listItem(n,t,s,{...r,...p.current()});return u&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),h;function m(g){return g+c}}function r2(){return[wE(),aM(),uM(),JM(),t2()]}function o2(n){return{extensions:[UE(),rM(n),cM(),n2(n),i2()]}}const l2={tokenize:f2,partial:!0},Ev={tokenize:h2,partial:!0},Mv={tokenize:g2,partial:!0},bv={tokenize:C2,partial:!0},u2={tokenize:v2,partial:!0},Rv={name:"wwwAutolink",tokenize:p2,previous:Ov},yv={name:"protocolAutolink",tokenize:m2,previous:Dv},$t={name:"emailAutolink",tokenize:d2,previous:qv},bt={};function c2(){return{text:bt}}let Hi=48;for(;Hi<123;)bt[Hi]=$t,Hi++,Hi===58?Hi=65:Hi===91&&(Hi=97);bt[43]=$t;bt[45]=$t;bt[46]=$t;bt[95]=$t;bt[72]=[$t,yv];bt[104]=[$t,yv];bt[87]=[$t,Rv];bt[119]=[$t,Rv];function d2(n,t,s){const r=this;let l,u;return c;function c(C){return!Md(C)||!qv.call(r,r.previous)||ep(r.events)?s(C):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),p(C))}function p(C){return Md(C)?(n.consume(C),p):C===64?(n.consume(C),h):s(C)}function h(C){return C===46?n.check(u2,g,m)(C):C===45||C===95||Rn(C)?(u=!0,n.consume(C),h):g(C)}function m(C){return n.consume(C),l=!0,h}function g(C){return u&&l&&Vn(r.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),t(C)):s(C)}}function p2(n,t,s){const r=this;return l;function l(c){return c!==87&&c!==119||!Ov.call(r,r.previous)||ep(r.events)?s(c):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(l2,n.attempt(Ev,n.attempt(Mv,u),s),s)(c))}function u(c){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),t(c)}}function m2(n,t,s){const r=this;let l="",u=!1;return c;function c(C){return(C===72||C===104)&&Dv.call(r,r.previous)&&!ep(r.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),l+=String.fromCodePoint(C),n.consume(C),p):s(C)}function p(C){if(Vn(C)&&l.length<5)return l+=String.fromCodePoint(C),n.consume(C),p;if(C===58){const T=l.toLowerCase();if(T==="http"||T==="https")return n.consume(C),h}return s(C)}function h(C){return C===47?(n.consume(C),u?m:(u=!0,h)):s(C)}function m(C){return C===null||rl(C)||Be(C)||Xi(C)||ml(C)?s(C):n.attempt(Ev,n.attempt(Mv,g),s)(C)}function g(C){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),t(C)}}function f2(n,t,s){let r=0;return l;function l(c){return(c===87||c===119)&&r<3?(r++,n.consume(c),l):c===46&&r===3?(n.consume(c),u):s(c)}function u(c){return c===null?s(c):t(c)}}function h2(n,t,s){let r,l,u;return c;function c(m){return m===46||m===95?n.check(bv,h,p)(m):m===null||Be(m)||Xi(m)||m!==45&&ml(m)?h(m):(u=!0,n.consume(m),c)}function p(m){return m===95?r=!0:(l=r,r=void 0),n.consume(m),c}function h(m){return l||r||!u?s(m):t(m)}}function g2(n,t){let s=0,r=0;return l;function l(c){return c===40?(s++,n.consume(c),l):c===41&&r<s?u(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?n.check(bv,t,u)(c):c===null||Be(c)||Xi(c)?t(c):(n.consume(c),l)}function u(c){return c===41&&r++,n.consume(c),l}}function C2(n,t,s){return r;function r(p){return p===33||p===34||p===39||p===41||p===42||p===44||p===46||p===58||p===59||p===63||p===95||p===126?(n.consume(p),r):p===38?(n.consume(p),u):p===93?(n.consume(p),l):p===60||p===null||Be(p)||Xi(p)?t(p):s(p)}function l(p){return p===null||p===40||p===91||Be(p)||Xi(p)?t(p):r(p)}function u(p){return Vn(p)?c(p):s(p)}function c(p){return p===59?(n.consume(p),r):Vn(p)?(n.consume(p),c):s(p)}}function v2(n,t,s){return r;function r(u){return n.consume(u),l}function l(u){return Rn(u)?s(u):t(u)}}function Ov(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||Be(n)}function Dv(n){return!Vn(n)}function qv(n){return!(n===47||Md(n))}function Md(n){return n===43||n===45||n===46||n===95||Rn(n)}function ep(n){let t=n.length,s=!1;for(;t--;){const r=n[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){s=!0;break}if(r._gfmAutolinkLiteralWalkedInto){s=!1;break}}return n.length>0&&!s&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),s}const _2={tokenize:y2,partial:!0};function T2(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:M2,continuation:{tokenize:b2},exit:R2}},text:{91:{name:"gfmFootnoteCall",tokenize:E2},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:A2,resolveTo:S2}}}}function A2(n,t,s){const r=this;let l=r.events.length;const u=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let c;for(;l--;){const h=r.events[l][1];if(h.type==="labelImage"){c=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return p;function p(h){if(!c||!c._balanced)return s(h);const m=_t(r.sliceSerialize({start:c.end,end:r.now()}));return m.codePointAt(0)!==94||!u.includes(m.slice(1))?s(h):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(h),n.exit("gfmFootnoteCallLabelMarker"),t(h))}}function S2(n,t){let s=n.length;for(;s--;)if(n[s][1].type==="labelImage"&&n[s][0]==="enter"){n[s][1];break}n[s+1][1].type="data",n[s+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},n[s+3][1].start),end:Object.assign({},n[n.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},n[s+3][1].end),end:Object.assign({},n[s+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},n[n.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},p=[n[s+1],n[s+2],["enter",r,t],n[s+3],n[s+4],["enter",l,t],["exit",l,t],["enter",u,t],["enter",c,t],["exit",c,t],["exit",u,t],n[n.length-2],n[n.length-1],["exit",r,t]];return n.splice(s,n.length-s+1,...p),n}function E2(n,t,s){const r=this,l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u=0,c;return p;function p(C){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(C),n.exit("gfmFootnoteCallLabelMarker"),h}function h(C){return C!==94?s(C):(n.enter("gfmFootnoteCallMarker"),n.consume(C),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",m)}function m(C){if(u>999||C===93&&!c||C===null||C===91||Be(C))return s(C);if(C===93){n.exit("chunkString");const T=n.exit("gfmFootnoteCallString");return l.includes(_t(r.sliceSerialize(T)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(C),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),t):s(C)}return Be(C)||(c=!0),u++,n.consume(C),C===92?g:m}function g(C){return C===91||C===92||C===93?(n.consume(C),u++,m):m(C)}}function M2(n,t,s){const r=this,l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u,c=0,p;return h;function h(S){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(S){return S===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",g):s(S)}function g(S){if(c>999||S===93&&!p||S===null||S===91||Be(S))return s(S);if(S===93){n.exit("chunkString");const b=n.exit("gfmFootnoteDefinitionLabelString");return u=_t(r.sliceSerialize(b)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(S),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),T}return Be(S)||(p=!0),c++,n.consume(S),S===92?C:g}function C(S){return S===91||S===92||S===93?(n.consume(S),c++,g):g(S)}function T(S){return S===58?(n.enter("definitionMarker"),n.consume(S),n.exit("definitionMarker"),l.includes(u)||l.push(u),Ne(n,_,"gfmFootnoteDefinitionWhitespace")):s(S)}function _(S){return t(S)}}function b2(n,t,s){return n.check(Mr,t,n.attempt(_2,t,s))}function R2(n){n.exit("gfmFootnoteDefinition")}function y2(n,t,s){const r=this;return Ne(n,l,"gfmFootnoteDefinitionIndent",5);function l(u){const c=r.events[r.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?t(u):s(u)}}function O2(n){let s=(n||{}).singleTilde;const r={name:"strikethrough",tokenize:u,resolveAll:l};return s==null&&(s=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function l(c,p){let h=-1;for(;++h<c.length;)if(c[h][0]==="enter"&&c[h][1].type==="strikethroughSequenceTemporary"&&c[h][1]._close){let m=h;for(;m--;)if(c[m][0]==="exit"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._open&&c[h][1].end.offset-c[h][1].start.offset===c[m][1].end.offset-c[m][1].start.offset){c[h][1].type="strikethroughSequence",c[m][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},c[m][1].start),end:Object.assign({},c[h][1].end)},C={type:"strikethroughText",start:Object.assign({},c[m][1].end),end:Object.assign({},c[h][1].start)},T=[["enter",g,p],["enter",c[m][1],p],["exit",c[m][1],p],["enter",C,p]],_=p.parser.constructs.insideSpan.null;_&&Zn(T,T.length,0,fl(_,c.slice(m+1,h),p)),Zn(T,T.length,0,[["exit",C,p],["enter",c[h][1],p],["exit",c[h][1],p],["exit",g,p]]),Zn(c,m-1,h-m+3,T),h=m+T.length-2;break}}for(h=-1;++h<c.length;)c[h][1].type==="strikethroughSequenceTemporary"&&(c[h][1].type="data");return c}function u(c,p,h){const m=this.previous,g=this.events;let C=0;return T;function T(S){return m===126&&g[g.length-1][1].type!=="characterEscape"?h(S):(c.enter("strikethroughSequenceTemporary"),_(S))}function _(S){const b=ia(m);if(S===126)return C>1?h(S):(c.consume(S),C++,_);if(C<2&&!s)return h(S);const D=c.exit("strikethroughSequenceTemporary"),R=ia(S);return D._open=!R||R===2&&!!b,D._close=!b||b===2&&!!R,p(S)}}}class D2{constructor(){this.map=[]}add(t,s,r){q2(this,t,s,r)}consume(t){if(this.map.sort(function(u,c){return u[0]-c[0]}),this.map.length===0)return;let s=this.map.length;const r=[];for(;s>0;)s-=1,r.push(t.slice(this.map[s][0]+this.map[s][1]),this.map[s][2]),t.length=this.map[s][0];r.push(t.slice()),t.length=0;let l=r.pop();for(;l;){for(const u of l)t.push(u);l=r.pop()}this.map.length=0}}function q2(n,t,s,r){let l=0;if(!(s===0&&r.length===0)){for(;l<n.map.length;){if(n.map[l][0]===t){n.map[l][1]+=s,n.map[l][2].push(...r);return}l+=1}n.map.push([t,s,r])}}function V2(n,t){let s=!1;const r=[];for(;t<n.length;){const l=n[t];if(s){if(l[0]==="enter")l[1].type==="tableContent"&&r.push(n[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(n[t-1][1].type==="tableDelimiterMarker"){const u=r.length-1;r[u]=r[u]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(s=!0);t+=1}return r}function N2(){return{flow:{null:{name:"table",tokenize:P2,resolveAll:I2}}}}function P2(n,t,s){const r=this;let l=0,u=0,c;return p;function p(k){let W=r.events.length-1;for(;W>-1;){const ie=r.events[W][1].type;if(ie==="lineEnding"||ie==="linePrefix")W--;else break}const ne=W>-1?r.events[W][1].type:null,ve=ne==="tableHead"||ne==="tableRow"?x:h;return ve===x&&r.parser.lazy[r.now().line]?s(k):ve(k)}function h(k){return n.enter("tableHead"),n.enter("tableRow"),m(k)}function m(k){return k===124||(c=!0,u+=1),g(k)}function g(k){return k===null?s(k):pe(k)?u>1?(u=0,r.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(k),n.exit("lineEnding"),_):s(k):ye(k)?Ne(n,g,"whitespace")(k):(u+=1,c&&(c=!1,l+=1),k===124?(n.enter("tableCellDivider"),n.consume(k),n.exit("tableCellDivider"),c=!0,g):(n.enter("data"),C(k)))}function C(k){return k===null||k===124||Be(k)?(n.exit("data"),g(k)):(n.consume(k),k===92?T:C)}function T(k){return k===92||k===124?(n.consume(k),C):C(k)}function _(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?s(k):(n.enter("tableDelimiterRow"),c=!1,ye(k)?Ne(n,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):S(k))}function S(k){return k===45||k===58?D(k):k===124?(c=!0,n.enter("tableCellDivider"),n.consume(k),n.exit("tableCellDivider"),b):Y(k)}function b(k){return ye(k)?Ne(n,D,"whitespace")(k):D(k)}function D(k){return k===58?(u+=1,c=!0,n.enter("tableDelimiterMarker"),n.consume(k),n.exit("tableDelimiterMarker"),R):k===45?(u+=1,R(k)):k===null||pe(k)?$(k):Y(k)}function R(k){return k===45?(n.enter("tableDelimiterFiller"),P(k)):Y(k)}function P(k){return k===45?(n.consume(k),P):k===58?(c=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(k),n.exit("tableDelimiterMarker"),N):(n.exit("tableDelimiterFiller"),N(k))}function N(k){return ye(k)?Ne(n,$,"whitespace")(k):$(k)}function $(k){return k===124?S(k):k===null||pe(k)?!c||l!==u?Y(k):(n.exit("tableDelimiterRow"),n.exit("tableHead"),t(k)):Y(k)}function Y(k){return s(k)}function x(k){return n.enter("tableRow"),z(k)}function z(k){return k===124?(n.enter("tableCellDivider"),n.consume(k),n.exit("tableCellDivider"),z):k===null||pe(k)?(n.exit("tableRow"),t(k)):ye(k)?Ne(n,z,"whitespace")(k):(n.enter("data"),te(k))}function te(k){return k===null||k===124||Be(k)?(n.exit("data"),z(k)):(n.consume(k),k===92?ae:te)}function ae(k){return k===92||k===124?(n.consume(k),te):te(k)}}function I2(n,t){let s=-1,r=!0,l=0,u=[0,0,0,0],c=[0,0,0,0],p=!1,h=0,m,g,C;const T=new D2;for(;++s<n.length;){const _=n[s],S=_[1];_[0]==="enter"?S.type==="tableHead"?(p=!1,h!==0&&(Zg(T,t,h,m,g),g=void 0,h=0),m={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},T.add(s,0,[["enter",m,t]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(r=!0,C=void 0,u=[0,0,0,0],c=[0,s+1,0,0],p&&(p=!1,g={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},T.add(s,0,[["enter",g,t]])),l=S.type==="tableDelimiterRow"?2:g?3:1):l&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(r=!1,c[2]===0&&(u[1]!==0&&(c[0]=c[1],C=Wo(T,t,u,l,void 0,C),u=[0,0,0,0]),c[2]=s)):S.type==="tableCellDivider"&&(r?r=!1:(u[1]!==0&&(c[0]=c[1],C=Wo(T,t,u,l,void 0,C)),u=c,c=[u[1],s,0,0])):S.type==="tableHead"?(p=!0,h=s):S.type==="tableRow"||S.type==="tableDelimiterRow"?(h=s,u[1]!==0?(c[0]=c[1],C=Wo(T,t,u,l,s,C)):c[1]!==0&&(C=Wo(T,t,c,l,s,C)),l=0):l&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(c[3]=s)}for(h!==0&&Zg(T,t,h,m,g),T.consume(t.events),s=-1;++s<t.events.length;){const _=t.events[s];_[0]==="enter"&&_[1].type==="table"&&(_[1]._align=V2(t.events,s))}return n}function Wo(n,t,s,r,l,u){const c=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",p="tableContent";s[0]!==0&&(u.end=Object.assign({},Ws(t.events,s[0])),n.add(s[0],0,[["exit",u,t]]));const h=Ws(t.events,s[1]);if(u={type:c,start:Object.assign({},h),end:Object.assign({},h)},n.add(s[1],0,[["enter",u,t]]),s[2]!==0){const m=Ws(t.events,s[2]),g=Ws(t.events,s[3]),C={type:p,start:Object.assign({},m),end:Object.assign({},g)};if(n.add(s[2],0,[["enter",C,t]]),r!==2){const T=t.events[s[2]],_=t.events[s[3]];if(T[1].end=Object.assign({},_[1].end),T[1].type="chunkText",T[1].contentType="text",s[3]>s[2]+1){const S=s[2]+1,b=s[3]-s[2]-1;n.add(S,b,[])}}n.add(s[3]+1,0,[["exit",C,t]])}return l!==void 0&&(u.end=Object.assign({},Ws(t.events,l)),n.add(l,0,[["exit",u,t]]),u=void 0),u}function Zg(n,t,s,r,l){const u=[],c=Ws(t.events,s);l&&(l.end=Object.assign({},c),u.push(["exit",l,t])),r.end=Object.assign({},c),u.push(["exit",r,t]),n.add(s+1,0,u)}function Ws(n,t){const s=n[t],r=s[0]==="enter"?"start":"end";return s[1][r]}const x2={name:"tasklistCheck",tokenize:j2};function L2(){return{text:{91:x2}}}function j2(n,t,s){const r=this;return l;function l(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?s(h):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(h),n.exit("taskListCheckMarker"),u)}function u(h){return Be(h)?(n.enter("taskListCheckValueUnchecked"),n.consume(h),n.exit("taskListCheckValueUnchecked"),c):h===88||h===120?(n.enter("taskListCheckValueChecked"),n.consume(h),n.exit("taskListCheckValueChecked"),c):s(h)}function c(h){return h===93?(n.enter("taskListCheckMarker"),n.consume(h),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),p):s(h)}function p(h){return pe(h)?t(h):ye(h)?n.check({tokenize:w2},t,s)(h):s(h)}}function w2(n,t,s){return Ne(n,r,"whitespace");function r(l){return l===null?s(l):t(l)}}function U2(n){return kC([c2(),T2(),O2(n),N2(),L2()])}const k2={};function Vv(n){const t=this,s=n||k2,r=t.data(),l=r.micromarkExtensions||(r.micromarkExtensions=[]),u=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),c=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);l.push(U2(s)),u.push(r2()),c.push(o2(s))}const F2=`#  Fiche de Validation MP  R1  Impact sur la vie personnelle et professionnelle

> **Vulnrabilit** : V1  Social & Relationnel  
> **ASR** :  Mesurer l'impact de l'aidance sur votre vie et ajuster   
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V1

### Rpartition des 15 questions V1 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **R1** | Impact vie perso/pro | 3 | O27, O28, N7 | Retentissement de l'aidance sur la vie de l'aidant |
| **R2** | Soutien entourage | 4 | E1, E2, E3, N4 | Rseau de soutien, isolement aidant |
| **R3** | Isolement du proche | 3 | N20, O47, O48 | Vie sociale du proche aid |
| **R4** | Relation aidant/proche | 5 | E4, E5, E6, O30, O31 | Qualit de la relation, acceptation aide |

> **R1 se concentre sur l'IMPACT** (la consquence de l'aidance sur la vie de l'aidant) alors que R2 parle du SOUTIEN (le rseau humain), R3 de l'ISOLEMENT DU PROCHE (pas de l'aidant), et R4 de la RELATION INTERPERSONNELLE. La frontire est clinique : R1 = "qu'est-ce que a change dans MA vie", R2 = "qui m'aide", R3 = "mon proche est-il isol", R4 = "comment va notre relation".

---

## 0. DONNES FIGES  Questions rattaches  R1

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | O27 | Vous occuper de la personne aide entrane-t-il des difficults dans votre vie familiale ? | facteur & tat | Oui / Non |
| 2 | O28 | Vous occuper de la personne aide entrane-t-il des difficults dans vos relations avec vos amis, dans vos loisirs ou dans votre travail ? | facteur & tat | Oui / Non |
| 3 | N7 | Avez-vous d amnager votre activit professionnelle pour faire face  votre rle d'aidant ? | facteur | Non / Amnagement horaires / Congs / Arrt |

> Total : 3 questions rattaches  R1

###  Pourquoi ces 3 questions ?

**O27** et **O28** forment un duo qui mesure l'impact subjectif de l'aidance sur deux sphres distinctes :
- O27 = sphre familiale intime (vie de famille)
- O28 = sphre sociale et professionnelle (amis, loisirs, travail)

 Elles sont dans R1 et pas R2 car elles mesurent l'IMPACT de l'aidance (consquence), pas l'ISOLEMENT (cause) ni le SOUTIEN (ressource).

**N7** mesure un marqueur objectif d'impact : l'amnagement professionnel effectu. Ce n'est pas un ressenti mais un fait concret (congs pris, horaires amnags, arrt).  C'est un "facteur" pur qui quantifie les sacrifices professionnels de l'aidant.

###  Analyse des 12 autres questions V1  Pourraient-elles appartenir  R1 ?

> Les questions et leurs options sont **figes**. L'objectif ici est uniquement de vrifier si l'affiliation actuelle est correcte ou si d'autres questions de V1 devraient aussi alimenter R1.

#### Questions R2 (Soutien entourage)

| Question | Libell | Pertinence R1 ? | Raisonnement |
|---|---|---|---|
| **E1** | Rpartition de l'aide dans l'entourage |  Non | Mesure la **ressource humaine** disponible (qui aide), pas l'impact sur la vie de l'aidant. C'est un facteur de soutien  R2. |
| **E2** | En cas de coup dur, personnes sur qui compter ? |  Non | Mesure le **filet de scurit** de l'aidant. C'est de l'isolement/soutien  R2 pur. |
| **E3** | Autres personnes  charge |  Non | Contexte familial factuel (charge additionnelle). Pas un impact de l'aidance mais un facteur de risque d'puisement  R2. |
| **N4** | Seul(e)  s'occuper du proche dans la famille ? |  Non | Situation familiale factuelle. Mesure l'isolement dans le rle d'aidant  R2. |

>  **Verdict R2** : Aucune question R2 ne devrait tre dans R1. R2 mesure le **rseau de soutien**, R1 mesure les **consquences** de l'aidance. La distinction est claire.

#### Questions R3 (Isolement du proche)

| Question | Libell | Pertinence R1 ? | Raisonnement |
|---|---|---|---|
| **N20** | Difficults du proche  maintenir des relations sociales ? |  Non | Concerne le PROCHE, pas l'aidant. R1 = impact sur la vie de l'AIDANT. |
| **O47** | Distance domicile aidant / domicile proche |  Non | Circonstance logistique fixe. Ce n'est pas un impact de l'aidance mais un facteur gographique  R3. |
| **O48** | Frquence des visites |  Non | Habitude de visite. Dtermine l'isolement du proche  R3 pur. |

>  **Verdict R3** : Aucune question R3 ne devrait tre dans R1. R3 concerne entirement le **proche aid**, pas l'aidant.

#### Questions R4 (Relation aidant/proche)

| Question | Libell | Pertinence R1 ? | Raisonnement |
|---|---|---|---|
| **E4** | Comment a volu votre relation depuis que vous aidez ? |  **Dbattable** | Mesure l'volution de la **relation** = c'est R4. Cependant, une relation dgrade EST un impact de l'aidance sur la vie de l'aidant. On pourrait argumenter un double rattachement R1+R4. **Mais** : la relation est un sujet si spcifique qu'elle mrite son propre MP (R4)  pas de double rattachement. |
| **E5** | Tensions ou dsaccords familiaux ? |  **Dbattable** | Les tensions familiales SONT un impact sur la vie familiale  mme registre que O27. **Mais** : E5 est thmatiquement plus proche de la dynamique relationnelle (R4) que de l'impact personnel (R1). E5 parle des AUTRES (tensions entre membres), O27 parle de MOI (difficults dans ma vie).  R4 reste plus juste. |
| **E6** | Le proche accepte-t-il l'aide extrieure ? |  Non | Concerne le comportement du proche vis--vis de l'aide. C'est un facteur de la relation aidant/aid  R4 pur. |
| **O30** | Sentiment de ne plus reconnatre la personne aide ? |  Non | Concerne la perception du PROCHE par l'aidant. C'est un marqueur de la relation  R4. |
| **O31** | Peur pour l'avenir de la personne aide ? |  **Dbattable** | L'anxit pour l'avenir EST un impact psychologique sur l'aidant. **Mais** : cette peur est spcifiquement dirige vers le PROCHE (pas vers soi-mme). C'est une inquitude relationnelle  R4 reste plus juste. Si la question tait  Avez-vous peur pour VOTRE avenir d'aidant ? , elle serait R1. |

>  **Verdict R4** : 3 questions sont cliniquement dbattables (E4, E5, O31) car elles touchent indirectement  l'impact sur la vie de l'aidant. Cependant, leur thme principal est la **relation interpersonnelle**, pas l'impact personnel. On conserve l'affiliation R4.

###  Synthse affiliation

| Question | MP actuel | Pertinence R1 ? | Confiance |
|---|---|---|---|
| E1, E2, E3, N4 | R2 |  Non |  Haute |
| N20, O47, O48 | R3 |  Non |  Haute |
| E6, O30 | R4 |  Non |  Haute |
| E4, E5, O31 | R4 |  Dbattable (mais R4 reste juste) |  Moyenne |

> **Conclusion** : Les 3 questions de R1 (O27, O28, N7) sont les bonnes. Aucune question V1 ne devrait tre ajoute  R1. Les 3 cas dbattables (E4, E5, O31) sont maintenus en R4 car leur thme principal est la relation interpersonnelle, pas l'impact personnel.
>
> ** Point d'attention** : Si E4 = "Relation plus tendue" **ET** O27 = "Oui", ces deux signaux combins (inter-MP) sont dj capts dans R4 via V1_R4_CCC_01 (O30+E4). La couverture inter-MP est assure via les rgles croises.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des 3 recos legacy (R1_RECO_01, R1_RECO_02, R1_RECO_03) montre 3 actions cliniques distinctes :
1. **Orienter vers l'AS**  pour les impacts administratifs/professionnels  c'est une orientation vers un professionnel
2. **Orienter vers le rpit**  pour soulager la surcharge quotidienne  c'est un accs  un service
3. **Soutien psychologique via MT**  pour grer la souffrance psychique  c'est un acte de soin

Ces 3 actions sont indpendantes : on peut recommander l'AS sans recommander le psy, et inversement. Elles ne se substituent pas l'une  l'autre  ce sont bien 3 catgories distinctes.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | R1_CAT_01 | Accompagnement social (AS) | Orienter vers une assistante sociale pour les impacts administratifs et professionnels | Legacy  |
| 2 | R1_CAT_02 | Rpit et relais | Orienter vers la plateforme de rpit du territoire pour allger la charge quotidienne | Legacy  |
| 3 | R1_CAT_03 | Soutien psychologique | Discuter avec le mdecin traitant des difficults / prescription soutien psychologique | Legacy  |

###  Dcisions Action 1

| # | Proposition | Dcision | Raison |
|---|---|---|---|
| 1 | Ajouter CAT_04 (droits) |  Rejet | MT_V1_033 tombe dans CAT_01 (AS = comptente droits). Pas de catgorie pour 1 MT isole. |
| 2 | Fusionner CAT_02 et CAT_03 |  Rejet | Deux sujets diffrents. Le CCC sert  comprendre la ralit des 2 mondes (rpit  psy). |
| 3 | Renommer CAT_01 |  Rejet | Pas ncessaire. |

>  **Valid : 3 catgories confirmes** (CAT_01 Accompagnement social, CAT_02 Rpit, CAT_03 Soutien psy)

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

Les rgles legacy combinent les 3 questions de R1 pour dtecter des situations de gravit croissante :
- Plus les sphres impactes sont nombreuses  plus le niveau monte
- **STD** = 1 signal isol, **CCC** = 2 signaux combins (condition composite)

### Rappel des questions R1 et de leurs options

> **O27**   Vous occuper de la personne aide entrane-t-il des difficults dans votre **vie familiale** ? 
> - Pas du tout (score 0) / Un peu (score +1) / **Oui** (score +2)

> **O28**   Vous occuper de la personne aide entrane-t-il des difficults dans vos **relations avec vos amis, dans vos loisirs ou dans votre travail** ? 
> - Pas du tout (score 0) / Un peu (score +1) / **Oui** (score +2)

> **N7**   Avez-vous d **amnager votre activit professionnelle** pour faire face  votre rle d'aidant ? 
> - Non / **Amnagement horaires** / **Congs** / Arrt

---

### Catgorie 1  Accompagnement social (AS)

####  Standard  \`V1_R1_STD_01\` _(legacy)_

> **SI** l'aidant a rpondu  la question :
>  Avez-vous d amnager votre activit professionnelle ? 
>  ** Amnagement horaires ** ou ** Congs **
>
> **ALORS** : Recommander l'accompagnement social (AS)
>
> **Sens clinique** : L'aidant a dj d modifier sa vie professionnelle pour assumer son rle. C'est un signal concret d'impact  orientation vers l'AS pour valuer les besoins et les droits.

####  CCC  \`V1_R1_CCC_02\` _(legacy)_

> **SI** l'aidant a rpondu :
> 1.  Avez-vous d amnager votre activit professionnelle ?   ** Amnagement horaires ** ou ** Congs **
> 2. **ET**  entrane-t-il des difficults dans votre vie familiale ?   ** Oui **
>
> **ALORS** : Recommander l'accompagnement social (AS)  niveau CCC ( 30 jours)
>
> **Sens clinique** : L'aidant cumule un ajustement professionnel AVEC un impact familial. Les deux sphres principales de sa vie sont touches  urgence  scuriser l'accompagnement social.

####  Critique  \`V1_R1_CRIT_01\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  Avez-vous d amnager votre activit professionnelle ? 
>  ** Arrt **
>
> **ALORS** : Recommander l'accompagnement social (AS)  niveau Critique ( 7 jours)
>
> **Sens clinique** : Un aidant qui a compltement arrt de travailler est en situation bien plus grave qu'un simple amnagement. C'est un signal d'urgence sociale.

####  Critique  \`V1_R1_CRIT_02\` _(NOUVEAU   active les 3 catgories)_

> **SI** l'aidant a rpondu :
> 1.  Avez-vous d amnager votre activit professionnelle ?   ** Arrt **
> 2. **ET**  entrane-t-il des difficults dans votre **vie familiale** ?   ** Oui **
> 3. **ET**  entrane-t-il des difficults dans vos **relations amis / loisirs / travail** ?   ** Oui **
>
> **ALORS** : Activer les **3 catgories** en Critique ( 7 jours)  CAT_01 + CAT_02 + CAT_03
>
> **Sens clinique** : Triple effondrement  arrt professionnel + impact familial + impact social. L'aidant n'a plus aucune zone prserve.

---

### Catgorie 2  Rpit et relais

####  Standard  \`V1_R1_STD_02\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  entrane-t-il des difficults dans votre **vie familiale** ?   ** Oui **
> _(sans condition sur O28)_
>
> **ALORS** : Orienter vers la plateforme de rpit
>
> **Sens clinique** : Un impact familial seul (mme sans impact social) peut justifier une orientation rpit. L'aidant commence  tre en difficult  agir tt.

####  Standard  \`V1_R1_STD_03\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  entrane-t-il des difficults dans vos **relations amis / loisirs / travail** ?   ** Oui **
> _(sans condition sur O27)_
>
> **ALORS** : Orienter vers la plateforme de rpit
>
> **Sens clinique** : Des difficults dans la vie sociale/professionnelle, mme sans impact familial, sont un signal de surcharge  orientation rpit prventive.

####  CCC  \`V1_R1_CCC_01\` _(legacy)_

> **SI** l'aidant a rpondu :
> 1.  entrane-t-il des difficults dans votre **vie familiale** ?   ** Oui **
> 2. **ET**  entrane-t-il des difficults dans vos **relations amis / loisirs / travail** ?   ** Oui **
>
> **ALORS** : Orienter vers la plateforme de rpit  niveau CCC ( 30 jours)
>
> **Sens clinique** : Double impact. L'aidance retentit  la fois sur la vie intime ET sur la vie sociale/professionnelle. L'aidant n'a plus de  zone prserve   besoin urgent de rpit.

---

### Catgorie 3  Soutien psychologique

####  Standard  \`V1_R1_STD_04\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  entrane-t-il des difficults dans votre **vie familiale** ?   ** Oui **
> _(sans condition sur O28)_
>
> **ALORS** : Conseiller d'en parler avec le mdecin traitant
>
> **Sens clinique** : Impact familial seul = dbut de souffrance psychique  conseil proactif vers le MT.

####  CCC  \`V1_R1_CCC_01\` _(mme rgle que CAT_02, legacy)_

> **SI** l'aidant a rpondu :
> 1.  entrane-t-il des difficults dans votre **vie familiale** ?   ** Oui **
> 2. **ET**  entrane-t-il des difficults dans vos **relations amis / loisirs / travail** ?   ** Oui **
>
> **ALORS** : Orienter vers un soutien psychologique  niveau CCC ( 30 jours)
>
> **Sens clinique** : Quand TOUTES les sphres sont impactes, la souffrance psychique est quasi certaine  en parler avec le mdecin traitant pour valuer un soutien psy.

>  **Observation** : CAT_02 et CAT_03 se dclenchent sur la mme rgle CCC (CCC_01). C'est normal  le mme signal clinique (double impact) justifie deux actions complmentaires mais distinctes : le rpit (soulager la charge) ET le soutien psy (traiter la souffrance).

---

###  Dcisions Action 2

| # | Proposition | Dcision | Rgle cre |
|---|---|---|---|
| 1 |  Critique CAT_01 (N7 = Arrt) |  Valid | \`V1_R1_CRIT_01\` |
| 2 |  Critique triple (Arrt + O27 + O28) |  Valid | \`V1_R1_CRIT_02\`  3 CAT |
| 3 |  Standard CAT_02 (O27 seule) |  Valid | \`V1_R1_STD_02\` |
| 4 |  Standard CAT_03 (O27 seule) |  Valid | \`V1_R1_STD_04\` |
| 5 | O28 seule  Standard CAT_02 |  Valid | \`V1_R1_STD_03\` |

>  **Contrle K3** : Chaque catgorie a maintenant  2 niveaux. Couverture complte.

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **Principe cl** : Les MT sont rattaches  la **catgorie**, pas au niveau (Standard/CCC/Critique). Le niveau dtermine l'**urgence** (90j / 30j / 7j) et le **wording** de la reco, mais les actions IDEC  effectuer restent les mmes. Que la catgorie s'active en Standard ou en Critique, l'IDEC fait les mmes tches  juste plus vite.

**tat legacy** : Les 8 MT taient toutes dans CAT_03 (soutien psy). C'est un artefact du systme legacy qui attachait les MT  une seule reco "principale". En ralit, 4 MT sont thmatiquement lies  d'autres catgories  redistribution.

### CAT_01  Accompagnement social (AS)

> Legacy :  aucune MT. Aprs redistribution + nouvelles MT : **4 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_032 | valuer l'impact professionnel | ORGA | IDEC |  | Redistribue de CAT_03 |
| MT_V1_033 | Informer sur les droits des aidants | INFO | IDEC |  | Redistribue de CAT_03 |
| MT_V1_034 | Proposer des solutions d'amnagement | STRUC | IDEC |  | Redistribue de CAT_03 |
| MT_V1_035 | Faciliter la prise de contact avec l'AS | SEC | IDEC |  | NOUVEAU  |

####  Pourquoi 4 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_032 (valuer impact pro)  l'IDEC oriente vers l'AS sans avoir mesur le problme. L'AS reoit un patient sans cadrage.
- Sans MT_V1_033 (droits)  l'aidant peut ignorer ses droits (cong proche aidant, AJPA). L'INFO est indispensable en amont de l'AS.
- Sans MT_V1_034 (solutions d'amnagement)  on diagnostique et on informe, mais on ne propose pas de plan d'action concret. La boucle n'est pas ferme.
- Sans MT_V1_035 (contact AS)  on prpare le terrain mais on ne scurise pas l'accs effectif  l'AS. Risque de perte en route.

**Pourquoi pas 1 de plus ?**
-  Contacter l'employeur   hors scope IDEC, c'est le rle de l'AS une fois orient.
-  valuer la situation financire   couvert par V2 (vulnrabilit administrative). Pas de doublon.
- La chane est complte : ORGA (diagnostiquer)  INFO (informer)  STRUC (proposer)  SEC (scuriser). Les 4 types contributifs sont couverts.

### CAT_02  Rpit et relais

> Legacy :  aucune MT. Aprs redistribution + nouvelles MT : **3 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_030 | Orienter vers des solutions de rpit | INFO | IDEC |  | Redistribue de CAT_03 |
| MT_V1_036 | Identifier la plateforme de rpit du territoire | STRUC | IDEC |  | NOUVEAU  |
| MT_V1_037 | Organiser un premier contact avec la plateforme | SEC | IDEC |  | NOUVEAU  |

####  Pourquoi 3 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_030 (orienter)  l'IDEC ne sait mme pas vers quoi orienter. L'INFO est le socle.
- Sans MT_V1_036 (identifier plateforme)  on parle de rpit en gnral mais on n'identifie pas LA plateforme locale. L'info reste abstraite.
- Sans MT_V1_037 (organiser contact)  on identifie la plateforme mais personne ne scurise l'accs effectif. Risque d'abandon.

**Pourquoi pas 1 de plus ?**
-  Suivre l'utilisation du rpit   c'est du suivi post-action, pas une MT d'activation. Couvert par D_suivi.
-  valuer la qualit du rpit   hors scope IDEC, c'est le rle de la plateforme.
- La chane est complte : INFO (informer)  STRUC (localiser)  SEC (connecter).

### CAT_03  Soutien psychologique

> Legacy : 8 MT. Aprs redistribution : 4 MT restantes (les autres redistribues)

| MT_ID | Libell MT | Type | Acteur | / | Pourquoi dans CAT_03 |
|---|---|---|---|---|---|
| MT_V1_029 | Proposer un soutien psychologique | SEC | MT |  | Action psy directe |
| MT_V1_027 | Rester attentif aux signaux de dgradation | ORGA | IDEC |  | Vigilance psychique |
| MT_V1_028 | Identifier les domaines les plus impacts | ORGA | IDEC |  | Diagnostic de souffrance |
| MT_V1_031 | Identifier les activits les plus impactes | ORGA | IDEC |  | Complte le diagnostic |

####  Pourquoi 4 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_029 (soutien psy)  la catgorie perd son action cl : la scurisation (SEC) qui dclenche la prescription via le MT. C'est le cur de CAT_03.
- Sans MT_V1_027 (vigilance)  l'IDEC fait un diagnostic ponctuel mais ne surveille pas l'volution. Risque de dgradation non capte entre deux valuations.
- MT_V1_028 et MT_V1_031 sont complmentaires : 028 identifie les DOMAINES (famille, travail, social) et 031 identifie les ACTIVITS (loisirs, sorties). Supprimer l'une rduit la granularit du diagnostic.

**Pourquoi pas 1 de plus ?**
-  Orienter vers un psychologue   dj couvert par MT_V1_029 via le MT (qui prescrit). Doublon.
-  Proposer un groupe de parole   action trop spcifique, dpend du territoire. Pourrait tre une sous-action de MT_V1_029 plutt qu'une MT autonome.
- Le set est quilibr : 1 SEC (agir) + 3 ORGA (surveiller + diagnostiquer). Complet pour le primtre psy de R1.

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | SEC pour CAT_01 (contact AS) |  Valid | \`MT_V1_035\` |
| 2 | STRUC pour CAT_02 (identifier plateforme) |  Valid | \`MT_V1_036\` |
| 3 | SEC pour CAT_02 (organiser contact) |  Valid | \`MT_V1_037\` |

> **Condition ASR aprs intgration** :
> - CAT_01 :  2 (STRUC + SEC)   ASR complte
> - CAT_02 :  2 (STRUC + SEC)   ASR complte
> - CAT_03 :  1 (SEC)  ASR partielle (pas de STRUC)
>
>  **Redistribution et nouvelles MT valides**  Total R1 : **11 MT** (8 legacy + 3 nouvelles)

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs existants dans la DB** : \`IDEC\`, \`MT\` (mdecin traitant), \`Aidant (autonome)\`, \`AS\` (assistante sociale)
> **Domaines** :  Mdical /  Mdico-social

### Tableau consolid des MT de R1 (final)

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V1_032 | valuer l'impact professionnel | ORGA | IDEC |  Mdico-social |  | CAT_01 | Legacy (redistribue) |
| MT_V1_033 | Informer sur les droits des aidants | INFO | IDEC |  Mdico-social |  | CAT_01 | Legacy (redistribue) |
| MT_V1_034 | Proposer des solutions d'amnagement | STRUC | IDEC |  Mdico-social |  | CAT_01 | Legacy (redistribue) |
| MT_V1_035 | Faciliter la prise de contact avec l'AS | SEC | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V1_030 | Orienter vers des solutions de rpit | INFO | IDEC |  Mdico-social |  | CAT_02 | Legacy (redistribue) |
| MT_V1_036 | Identifier la plateforme de rpit du territoire | STRUC | IDEC |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V1_037 | Organiser un premier contact avec la plateforme | SEC | IDEC |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V1_029 | Proposer un soutien psychologique | SEC | MT |  Mdical |  | CAT_03 | Legacy |
| MT_V1_027 | Rester attentif aux signaux de dgradation | ORGA | IDEC |  Mdico-social |  | CAT_03 | Legacy |
| MT_V1_028 | Identifier les domaines les plus impacts | ORGA | IDEC |  Mdico-social |  | CAT_03 | Legacy |
| MT_V1_031 | Identifier les activits les plus impactes | ORGA | IDEC |  Mdico-social |  | CAT_03 | Legacy |

> **Rsum** :
> - Total MT : **11** (8 legacy redistribues + 3 nouvelles)
> - Domaine  Mdico-social : **10 MT** / Domaine  Mdical : **1 MT** (MT_V1_029)
> - CAT_01 : 4 MT (2 contributives : STRUC + SEC)   ASR complte
> - CAT_02 : 3 MT (2 contributives : STRUC + SEC)   ASR complte
> - CAT_03 : 4 MT (1 contributive : SEC)  ASR partielle

###  Propositions d'amlioration  Types, acteurs et domaine

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V1_032  type SEC** (au lieu de ORGA) | valuer l'impact professionnel est une action de scurisation (prvenir un arrt non anticip), pas de l'organisation interne. |
| 2 | **MT_V1_033  acteur AS** (au lieu de IDEC) | L'AS est le professionnel lgitime pour informer sur les droits. L'IDEC initie la dmarche mais l'AS la mne. Acteur \`AS\` existe en DB. |
| 3 | **MT_V1_029  ajouter attribut  prescription ** | MT_V1_029 (soutien psy) ncessite une prescription mdicale. Info utile pour le workflow IDEC. |
| 4 | **MT_V1_036  acteur Plateforme de rpit** _(nouvel acteur)_ | L'identification de la plateforme peut impliquer un acteur externe  l'IDEC. Proposition de crer l'acteur \`Plateforme de rpit\` en DB. |
| 5 | **MT_V1_030  acteur Aidant (autonome)** | L'aidant peut se renseigner seul sur le rpit (brochures, sites). L'IDEC facilite mais l'aidant peut agir en autonomie. Acteur \`Aidant (autonome)\` existe en DB. |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

###  Raisonnement

> **Principe** : L'Action 5 se fait APRS l'Action 4 (enrichissement des types/acteurs). On a maintenant les 11 MT avec leur catgorie, leur type et leur acteur. On peut travailler le wording.
>
> **Phase 1** : Valider le wording de BASE de chaque MT et chaque reco. Deux versions obligatoires : **Utilisateur** (conseil bienveillant) et **IDEC** (directive, verbe d'action). Vrifier le ton, les temps, la clart.
>
> **Phase 2** : Versionner le wording de la reco par **niveau de criticit** ( Standard /  CCC /  Critique). Les MT ne changent pas  seul le degr d'urgence dans le libell de la reco varie. Ne versionner que les niveaux qui existent pour chaque catgorie.

---

### Phase 1  Wording de base : MT et Recos

> **Rgle de wording** :
> - **Reco** = conseil succinct. Pas une phrase, pas un verbe d'action. Un label court qui dit "quoi" sans dtailler "comment". C'est un cap, pas une tche.
> - **MT** = action concrte. Pousse l'utilisateur (ou l'IDEC)  FAIRE quelque chose. Verbe d'action des deux cts. L'utilisateur doit aussi tre orient vers une action.

#### Wording des 11 MT (IDEC + Utilisateur)

| MT_ID | CAT | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|---|
| MT_V1_032 | CAT_01 | valuer l'impact professionnel | valuer avec l'aidant les consquences de l'aidance sur sa situation professionnelle | Faites le point sur l'impact de votre rle d'aidant sur votre travail |  |
| MT_V1_033 | CAT_01 | Informer sur les droits des aidants | Informer l'aidant sur ses droits (cong proche aidant, AJPA, droit au rpit) | Renseignez-vous sur vos droits en tant qu'aidant |  |
| MT_V1_034 | CAT_01 | Proposer des solutions d'amnagement | Proposer des pistes d'amnagement du quotidien en lien avec la situation professionnelle | Explorez les solutions d'amnagement de votre quotidien |  |
| MT_V1_035 | CAT_01 | Faciliter la prise de contact avec l'AS | Organiser le contact avec l'assistante sociale du secteur. Transmettre les lments d'valuation. | Prenez contact avec une assistante sociale spcialise |  |
| MT_V1_030 | CAT_02 | Orienter vers des solutions de rpit | Informer l'aidant sur les solutions de rpit disponibles sur son territoire | Renseignez-vous sur les solutions de rpit prs de chez vous |  |
| MT_V1_036 | CAT_02 | Identifier la plateforme de rpit du territoire | Identifier la plateforme de rpit comptente et vrifier les conditions d'accs | Identifiez la plateforme de rpit adapte  votre situation |  |
| MT_V1_037 | CAT_02 | Organiser un premier contact avec la plateforme | Organiser un premier contact entre l'aidant et la plateforme de rpit | Contactez la plateforme de rpit pour un premier change |  |
| MT_V1_029 | CAT_03 | Proposer un soutien psychologique | Contacter le mdecin traitant pour valuer la pertinence d'un soutien psychologique. Prescription si ncessaire. | Parlez-en  votre mdecin traitant pour envisager un soutien |  |
| MT_V1_027 | CAT_03 | Rester attentif aux signaux de dgradation | Surveiller les signaux de dgradation psychique de l'aidant lors des visites. Rvaluer au prochain suivi. | Soyez attentif aux signes de fatigue ou de mal-tre lis  votre rle d'aidant |  |
| MT_V1_028 | CAT_03 | Identifier les domaines les plus impacts | Identifier les domaines de vie les plus impacts (famille, travail, social) pour prioriser les interventions | Identifiez les domaines de votre vie les plus touchs par votre rle d'aidant |  |
| MT_V1_031 | CAT_03 | Identifier les activits les plus impactes | Identifier les activits abandonnes ou rduites (loisirs, sorties, vie sociale) | Reprez les activits que vous avez rduites ou abandonnes depuis que vous tes aidant |  |

#### Wording des 3 Recos de base

> Rappel : la reco est un **conseil succinct**, pas une phrase complte. C'est un cap pour l'aidant.

| CAT | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | / |
|---|---|---|---|
| CAT_01 | Accompagnement par une assistante sociale | Orienter vers l'AS du secteur |  |
| CAT_02 | Solutions de rpit pour souffler | Orienter vers la plateforme de rpit territoriale |  |
| CAT_03 | Soutien psychologique avec votre mdecin | Contacter le MT pour valuation psy |  |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit (Reco + MT)

> **Principe** : Le **niveau de criticit** modifie le wording de la reco ET des MT. L'action reste la mme  c'est le **degr d'urgence** qui change.
> - **Reco** : toujours un label court, avec un marqueur d'urgence
> - **MT** : mme verbe d'action, mais intensit diffrente ( Renseignez-vous    Prenez contact    Contactez immdiatement )
> - On ne versionne que les niveaux qui **existent** pour chaque catgorie.

#### CAT_01  Accompagnement social

> Niveaux existants :  STD_01 /  CCC_02 /  CRIT_01 /  CRIT_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Accompagnement social disponible | Informer sur les dispositifs AS |
|  CCC ( 30j) | Accompagnement social recommand | Orienter vers l'AS sous 30 jours |
|  Critique ( 7j) | Accompagnement social urgent | Orienter en urgence vers l'AS sous 7 jours |

**MT versionnes (exemples cls) :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_032 | Faites le point sur l'impact sur votre travail | valuez rapidement l'impact sur votre travail | valuez ds maintenant l'impact sur votre travail |
| MT_V1_033 | Renseignez-vous sur vos droits d'aidant | Informez-vous sur vos droits d'aidant | Faites valoir vos droits d'aidant sans attendre |
| MT_V1_035 | Prenez contact avec une assistante sociale | Contactez une assistante sociale rapidement | Contactez une assistante sociale cette semaine |

#### CAT_02  Rpit et relais

> Niveaux existants :  STD_02 + STD_03 /  CCC_01 /  CRIT_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Solutions de rpit disponibles | Informer sur le rpit territorial |
|  CCC ( 30j) | Rpit recommand | Organiser l'accs au rpit sous 30 jours |
|  Critique ( 7j) | Rpit urgent | Organiser l'accs au rpit sous 7 jours |

**MT versionnes (exemples cls) :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_030 | Renseignez-vous sur les solutions de rpit | Explorez les solutions de rpit rapidement | Explorez les solutions de rpit ds maintenant |
| MT_V1_037 | Contactez la plateforme de rpit si besoin | Contactez la plateforme de rpit dans le mois | Contactez la plateforme de rpit cette semaine |

#### CAT_03  Soutien psychologique

> Niveaux existants :  STD_04 /  CCC_01 /  CRIT_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Soutien psychologique si besoin | Sensibiliser au soutien psy |
|  CCC ( 30j) | Soutien psychologique recommand | Contacter le MT pour valuation psy sous 30 jours |
|  Critique ( 7j) | Soutien psychologique urgent | Contacter le MT pour valuation psy sous 7 jours |

**MT versionnes (exemples cls) :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_029 | Parlez-en  votre mdecin si besoin | Parlez-en  votre mdecin rapidement | Parlez-en  votre mdecin ds que possible |
| MT_V1_027 | Soyez attentif aux signes de fatigue | Surveillez attentivement tout signe de mal-tre | Surveillez tout signe de mal-tre ds maintenant |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP R1 n'est PAS activ (aucune rgle critique, CCC ou standard ne s'est dclenche = l'aidance n'a actuellement pas d'impact dtect sur la vie de l'aidant)

#### Proposition de reco prvention

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  L'aidance peut avoir un impact sur votre vie personnelle et professionnelle sans que vous vous en rendiez compte. N'hsitez pas  en parler si vous ressentez des changements.  |  Surveiller l'apparition de signaux d'impact de l'aidance sur la vie personnelle et professionnelle de l'aidant. Rvaluer au prochain suivi.  |

**MT de prvention proposes :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| _(NOUVELLE)_ | Sensibiliser l'aidant aux signes d'impact | INFO | Profiter du prochain contact pour aborder les changements de vie lis  l'aidance | Soyez attentif aux changements dans votre quotidien lis  votre rle d'aidant |
| _(NOUVELLE)_ | Noter les changements de vie au prochain suivi | ORGA | Renseigner les observations sur l'volution de la situation lors du prochain suivi | Notez les changements que vous observez dans votre vie pour en parler au prochain rendez-vous |

> **Dcision Dr. Monka** :  Reco prvention valide |   reformuler

### 6.2  Checklist de cohrence (post-dcisions)

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  |  | O28 dsormais seule via STD_03 |
| 2 | Chaque rgle d'activation  1 version de reco |  |  | 8 rgles  toutes lies  1 catgorie |
| 3 | Chaque catgorie de reco  ses MT assignes |  |  | CAT_01: 4 MT, CAT_02: 3 MT, CAT_03: 4 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | Chaque CAT a Standard + CCC (+ Critique pour CAT_01) |
| 5 | Aucune MT orpheline |  |  | 11 MT toutes rattaches |
| 6 | Reco prvention prsente |  |  | Propose, en attente validation |
| 7 | Wording reco = conseil, MT = verbe d'action |  |  | Phase 1 + Phase 2 proposes, en attente validation |
| 8 | Sens clinique renseign pour chaque rgle |  |  | 8 rgles documentes |

> **Score** : **5/8 valids**, 2 en attente validation (prvention + wording), 1 OK
>
> Quand prvention et wording seront valids  **8/8** 

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 3 | 3 (confirmes) |
| Rgles d'activation | 3 (:1 :2) | **8** (:4, :2, :2) |
| MT totales | 8 (toutes CAT_03) | **11** (CAT_01:4, CAT_02:3, CAT_03:4) |
| MT contributives | 2 | **5** (STRUC:2, SEC:3) |
| ASR | CAT_03 seule | CAT_01  + CAT_02  + CAT_03 partielle |
| Reco prvention |  |  Propose |
| Checks OK | 4/8 | 5/8 ( 8/8 aprs validation wording + prvention) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories confirmes (CAT_04 rejete, fusion CAT_02/03 rejete) |  Valid |
| 2 |  CRIT_01 : N7 = Arrt  CAT_01 |  Valid |
| 3 |  CRIT_02 : Triple (Arrt + O27 + O28)  3 CAT |  Valid |
| 4 |  STD_02 : O27 seule  CAT_02 |  Valid |
| 5 |  STD_03 : O28 seule  CAT_02 |  Valid |
| 6 |  STD_04 : O27 seule  CAT_03 |  Valid |
| 7 | Redistribution MT vers CAT_01 et CAT_02 |  Valid |
| 8 | MT_V1_035 (SEC CAT_01) cre |  Valid |
| 9 | MT_V1_036 (STRUC CAT_02) + MT_V1_037 (SEC CAT_02) cres |  Valid |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider wording Phase 1 (base MT + reco) |  Haute |
| 2 | Valider wording Phase 2 (versioning criticit) |  Haute |
| 3 | Valider reco prvention |  Haute |
| 4 | Valider propositions types/acteurs (Action 4) |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,z2=`#  Fiche de Validation MP  R2  Soutien de l'entourage et partage de l'aide

> **Vulnrabilit** : V1  Social & Relationnel  
> **ASR** :  Renforcer le soutien autour de vous   
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V1

### Rpartition des 15 questions V1 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **R1** | Impact vie perso/pro | 3 | O27, O28, N7 | Retentissement de l'aidance sur la vie de l'aidant |
| **R2** | Soutien entourage | 4 | E1, E2, E3, N4 | Rseau de soutien, isolement aidant |
| **R3** | Isolement du proche | 3 | N20, O47, O48 | Vie sociale du proche aid |
| **R4** | Relation aidant/proche | 5 | E4, E5, E6, O30, O31 | Qualit de la relation, acceptation aide |

> **R2 se concentre sur le RSEAU DE SOUTIEN** (qui aide l'aidant, sur qui compter) alors que R1 parle de l'IMPACT (consquences sur la vie), R3 de l'ISOLEMENT DU PROCHE (pas de l'aidant), et R4 de la RELATION INTERPERSONNELLE. La frontire est clinique : R2 = "qui m'aide et suis-je soutenu", R1 = "qu'est-ce que a change dans MA vie", R3 = "mon proche est-il isol", R4 = "comment va notre relation".

---

## 0. DONNES FIGES  Questions rattaches  R2

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E1 | Comment se passe la rpartition de l'aide dans votre entourage (famille, proches) ? | facteur | Plutt quilibre et satisfaisante / Je fais la plus grande partie mais cela reste acceptable / Je fais presque tout et cela cre des tensions ou un sentiment d'injustice / Je suis totalement seule |
| 2 | E2 | En cas de coup dur, avez-vous autour de vous des personnes sur qui vous pouvez vraiment compter (famille, amis, voisins) ? | facteur | Oui, plusieurs personnes / Oui, une personne / Trs peu / presque personne / Personne |
| 3 | E3 | Quelles sont les autres personnes  charge autour de vous que vous devez aider ? | facteur | Aucun / Enfant(s) mineurs / Autre(s) proche(s) dpendant(s) |
| 4 | N4 | Au sein de votre famille, tes-vous seul(e)  vous occuper de la personne aide ? | facteur | Oui / Non |

> Total : 4 questions rattaches  R2

###  Pourquoi ces 4 questions ?

**E1** mesure la **rpartition de la charge** d'aide dans l'entourage  c'est le facteur central de R2. Quelqu'un qui fait "presque tout" n'est pas dans la mme situation qu'un entourage mobilis de faon quilibre.

**E2** mesure le **filet de scurit** en cas de coup dur. Ce n'est pas la charge quotidienne (E1) mais la capacit de l'aidant  trouver de l'aide en situation de crise. "Personne" = signal d'alarme maximal.

**E3** identifie les **charges additionnelles**  un aidant qui gre aussi des enfants mineurs ou d'autres proches dpendants cumule les contraintes. C'est un facteur aggravant du risque d'puisement.

**N4** est un marqueur factuel binaire : seule ou pas dans la famille  aider.  C'est une mesure structurelle de l'isolement dans le rle d'aidant, complmentaire d'E1 (qui mesure la rpartition effective).

###  Analyse des 11 autres questions V1  Pourraient-elles appartenir  R2 ?

> Les questions et leurs options sont **figes**. L'objectif ici est uniquement de vrifier si l'affiliation actuelle est correcte ou si d'autres questions de V1 devraient aussi alimenter R2.

#### Questions R1 (Impact vie perso/pro)

| Question | Libell | Pertinence R2 ? | Raisonnement |
|---|---|---|---|
| **O27** | Difficults dans la vie familiale ? |  Non | Mesure l'**impact** (consquence) de l'aidance, pas le **soutien** (ressource). R1. |
| **O28** | Difficults relations amis/loisirs/travail ? |  Non | Mesure l'**impact** social/pro. Si O28 tait dans R2, on confondrait "tre impact" et "ne pas tre soutenu"  ce sont deux choses diffrentes. |
| **N7** | Amnagement activit professionnelle ? |  Non | Marqueur concret d'impact professionnel  R1. Le lien avec le soutien est indirect : un aidant bien soutenu peut aussi avoir d amnager son travail. |

>  **Verdict R1** : Aucune question R1 ne devrait tre dans R2. R1 mesure les **consquences**, R2 les **ressources**. La distinction est claire.

#### Questions R3 (Isolement du proche)

| Question | Libell | Pertinence R2 ? | Raisonnement |
|---|---|---|---|
| **N20** | Difficults du proche  maintenir des relations sociales ? |  Non | Concerne le PROCHE, pas l'aidant. R2 = soutien autour de l'AIDANT. |
| **O47** | Distance domicile aidant / proche |  Non | Facteur gographique fixe. Ne mesure pas le soutien de l'entourage. |
| **O48** | Frquence des visites |  Non | Habitude de prsence auprs du proche. R3 pur. |

>  **Verdict R3** : Aucune question R3 ne devrait tre dans R2. R3 concerne l'isolement du **proche aid**, pas le soutien autour de l'**aidant**.

#### Questions R4 (Relation aidant/proche)

| Question | Libell | Pertinence R2 ? | Raisonnement |
|---|---|---|---|
| **E4** | Comment a volu votre relation ? |  Non | Mesure la qualit de la relation interpersonnelle  R4 pur. |
| **E5** | Tensions ou dsaccords familiaux ? |  **Dbattable** | Les tensions familiales peuvent tre un SIGNAL de rpartition dsquilibre (E1). Si les tensions viennent du fait que l'aidant porte tout seul, E5 croise avec R2. **Mais** : E5 cible la dynamique familiale (tensions entre membres), pas le soutien disponible. La nuance est : E5 = "la famille est tendue" vs E1 = "la famille ne m'aide pas assez".  R4 reste plus juste. |
| **E6** | Acceptation aide extrieure par le proche ? |  Non | Concerne le comportement du PROCHE (pas de l'entourage aidant)  R4. |
| **O30** | Sentiment de ne plus reconnatre la personne aide ? |  Non | Perception du proche  R4 pur. |
| **O31** | Peur pour l'avenir de la personne aide ? |  Non | Inquitude projete vers le proche. Pas le soutien. |

>  **Verdict R4** : E5 est cliniquement dbattable (tensions familiales  dsquilibre potentiel). Mais son thme principal est la relation interpersonnelle, pas le rseau de soutien. On conserve l'affiliation R4.

###  Synthse affiliation

| Question | MP actuel | Pertinence R2 ? | Confiance |
|---|---|---|---|
| O27, O28, N7 | R1 |  Non |  Haute |
| N20, O47, O48 | R3 |  Non |  Haute |
| E4, E6, O30, O31 | R4 |  Non |  Haute |
| E5 | R4 |  Dbattable (mais R4 reste juste) |  Moyenne |

> **Conclusion** : Les 4 questions de R2 (E1, E2, E3, N4) sont les bonnes. Aucune question V1 ne devrait tre ajoute  R2. E5 (tensions) a un lien indirect mais son thme principal est la dynamique relationnelle  reste en R4.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des 2 recos legacy (R2_RECO_01, R2_RECO_02) montre 2 axes cliniques :
1. **Accompagnement renforc** (R2_RECO_01)  quand la situation est critique : mobiliser des aides extrieures, rompre l'isolement, scuriser  c'est de l'**intervention**
2. **Prvention puisement** (R2_RECO_02)  quand la situation est tendue mais pas critique : identifier des solutions de soutien pour prvenir la dgradation  c'est de la **prvention active**

Ces 2 axes correspondent  2 intensits d'action diffrentes MAIS elles ciblent le mme objectif : renforcer le rseau de soutien. La question est : faut-il les garder comme 2 catgories distinctes ou les fusionner ?

**Argument pour fusionner** : Les MT des deux recos couvrent le mme spectre (identifier, valuer, proposer, orienter). La diffrence est surtout dans l'urgence.

**Argument pour sparer** : L'accompagnement renforc (CCC) implique une mobilisation multi-acteurs l o la prvention (Standard) est plus cible IDEC.

**Dcision** : On garde 2 catgories car elles correspondent  2 niveaux d'intervention cliniquement distincts. On ajoute une 3e catgorie pour l'valuation de la charge additionnelle (E3) qui n'est couverte par aucune des 2 recos legacy.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | R2_CAT_01 | Mobilisation du rseau d'aide | Identifier et mobiliser les ressources de l'entourage pour rpartir la charge d'aide | Legacy  |
| 2 | R2_CAT_02 | Accs au rpit et aux relais professionnels | Orienter vers des solutions de rpit et d'aide professionnelle pour soulager l'aidant | Legacy  |
| 3 | R2_CAT_03 | Prvention de l'isolement et du surmenage | valuer et surveiller le risque d'puisement li  la charge cumule (multi-aidance, solitude) |  IA |

###  Raisonnement

- **CAT_01** (Mobilisation rseau) : Regroupe ce qui concernait R2_RECO_01 ct "entourage". L'ide cl : avant de chercher des pros, essayer de mieux rpartir dans la famille/entourage. C'est la premire ligne.
- **CAT_02** (Rpit / pros) : Quand l'entourage ne suffit pas  accs aux services professionnels (SAD, plateforme de rpit, accueil temporaire). C'est la deuxime ligne.
- **CAT_03** (Prvention) : E3 (charges additionnelles) n'tait relie  aucune action spcifique. Un aidant qui gre aussi des enfants ou d'autres proches est en situation de double charge  besoin de surveillance et d'anticipation spcifique.

**Pourquoi pas 2 catgories (fusionner CAT_01 et CAT_02) ?**  Parce que la mobilisation de l'entourage et l'accs aux services pro sont deux dmarches diffrentes avec des acteurs diffrents. L'aidant peut avoir un rseau familial mobilisable sans avoir besoin de pros, ou inversement.

**Pourquoi pas 4 ?**  On a envisag une CAT ddie "groupes de parole / entraide" mais c'est un moyen (INFO) dans CAT_01 ou CAT_02, pas un axe clinique  part entire.

>  **Valid : 3 catgories** (CAT_01 Mobilisation rseau, CAT_02 Rpit / relais pro, CAT_03 Prvention isolement/surmenage)

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

Les rgles legacy combinent les 4 questions pour dtecter des niveaux de gravit croissante :
- **STD** = 1 signal isol (seul dans la famille, par exemple)
- **CCC** = 2 signaux combins (seul ET personne sur qui compter)
- **Critique** = signal d'alerte maximal (aucune personne sur qui compter)

### Rappel des questions R2 et de leurs options

> **E1**   Comment se passe la rpartition de l'aide dans votre entourage (famille, proches) ? 
> - Plutt quilibre et satisfaisante (score 0) / Je fais la plus grande partie mais cela reste acceptable (score +1) / **Je fais presque tout et cela cre des tensions** (score +2) / **Je suis totalement seule** (score +2)

> **E2**   En cas de coup dur, avez-vous autour de vous des personnes sur qui vous pouvez vraiment compter ? 
> - Oui, plusieurs personnes (score 0) / Oui, une personne (score +1) / **Trs peu / presque personne** (score +2) / **Personne** (score +2)

> **E3**   Quelles sont les autres personnes  charge autour de vous que vous devez aider ? 
> - Aucun / Enfant(s) mineurs / Autre(s) proche(s) dpendant(s) _(non scorante)_

> **N4**   Au sein de votre famille, tes-vous seul(e)  vous occuper de la personne aide ? 
> - Oui / Non _(non scorante)_

---

### Catgorie 1  Mobilisation du rseau d'aide

####  Standard  \`V1_R2_STD_01\` _(legacy)_

> **SI** l'aidant a rpondu  la question :
>  Au sein de votre famille, tes-vous seul(e)  vous occuper de la personne aide ? 
>  ** Oui **
>
> **ALORS** : Recommander la mobilisation du rseau d'aide
>
> **Sens clinique** : L'aidant est seul dans la famille mais a peut-tre des ressources extrieures (amis, voisins). Signal d'alerte modr  explorer les possibilits de mobilisation avant que l'isolement ne s'aggrave.

####  Standard  \`V1_R2_STD_02\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  Comment se passe la rpartition de l'aide dans votre entourage ? 
>  ** Je fais la plus grande partie mais cela reste acceptable **
>
> **ALORS** : Recommander la mobilisation du rseau d'aide
>
> **Sens clinique** : L'aidant porte la charge principale mais le considre "acceptable". C'est un signal prcoce : la situation est tenable aujourd'hui mais fragile. Explorer une meilleure rpartition peut prvenir l'puisement.

####  CCC  \`V1_R2_CCC_01\` _(legacy)_

> **SI** l'aidant a rpondu :
> 1.  Au sein de votre famille, tes-vous seul(e) ?   ** Oui **
> 2. **ET**  En cas de coup dur, personnes sur qui compter ?   ** Trs peu / presque personne ** ou ** Personne **
>
> **ALORS** : Recommander la mobilisation du rseau  niveau CCC ( 30 jours)
>
> **Sens clinique** : Aidant seul dans la famille ET sans filet de scurit. Isolement structurel confirm  risque d'effondrement si la situation se dgrade.

####  CCC  \`V1_R2_CCC_02\` _(legacy)_

> **SI** l'aidant a rpondu :
> 1.  Rpartition de l'aide ?   ** Je fais presque tout tensions/injustice ** ou ** Je suis totalement seule **
> 2. **ET**  En cas de coup dur, personnes sur qui compter ?   ** Trs peu / presque personne ** ou ** Personne **
>
> **ALORS** : Recommander la mobilisation du rseau  niveau CCC ( 30 jours)
>
> **Sens clinique** : Charge quasi exclusive combine avec l'absence de filet de scurit. Double signal d'isolement  intervention ncessaire.

####  Critique  \`V1_R2_CRIT_01\` _(legacy)_

> **SI** l'aidant a rpondu :
>  En cas de coup dur, personnes sur qui compter ? 
>  ** Personne **
>
> **ALORS** : Recommander la mobilisation du rseau  niveau Critique ( 7 jours)
>
> **Sens clinique** : Isolement relationnel svre. L'aidant n'a AUCUNE personne ressource en cas de crise. C'est le signal d'urgence maximale de R2 : si la situation se dgrade, il n'y a personne pour amortir.

####  Critique  \`V1_R2_CRIT_02\` _(NOUVEAU )_

> **SI** l'aidant a rpondu :
> 1.  Rpartition de l'aide ?   ** Je suis totalement seule **
> 2. **ET**  En cas de coup dur, personnes sur qui compter ?   ** Personne **
> 3. **ET**  Au sein de votre famille, tes-vous seul(e) ?   ** Oui **
>
> **ALORS** : Activer les **3 catgories** en Critique ( 7 jours)  CAT_01 + CAT_02 + CAT_03
>
> **Sens clinique** : Triple isolement  totalement seul dans l'aide + aucun filet de scurit + seul dans la famille. L'aidant est en situation de vulnrabilit extrme. Mobilisation immdiate de tous les leviers.

---

### Catgorie 2  Accs au rpit et relais professionnels

####  Standard  \`V1_R2_STD_03\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  Rpartition de l'aide ?   ** Je fais presque tout tensions/injustice **
>
> **ALORS** : Orienter vers les solutions de rpit
>
> **Sens clinique** : La charge est dsquilibre au point de crer des tensions. L'entourage seul ne suffit pas  il faut des relais professionnels.

####  CCC  \`V1_R2_CCC_02\` _(legacy  mme rgle que CAT_01)_

> **SI** l'aidant a rpondu :
> 1.  Rpartition de l'aide ?   ** Je fais presque tout ** ou ** Totalement seule **
> 2. **ET**  En cas de coup dur ?   ** Trs peu ** ou ** Personne **
>
> **ALORS** : Orienter vers le rpit  niveau CCC ( 30 jours)
>
> **Sens clinique** : Charge dsquilibre + absence de filet. Le soutien professionnel devient indispensable.

####  Critique  \`V1_R2_CRIT_01\` _(legacy)_

> **SI** l'aidant a rpondu :  En cas de coup dur ?   ** Personne **
>
> **ALORS** : Orienter vers le rpit  niveau Critique ( 7 jours)
>
> **Sens clinique** : L'isolement total ncessite une mise en place immdiate de relais professionnels.

---

### Catgorie 3  Prvention de l'isolement et du surmenage

####  Standard  \`V1_R2_STD_04\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  Quelles sont les autres personnes  charge ?   ** Enfant(s) mineurs ** ou ** Autre(s) proche(s) dpendant(s) **
>
> **ALORS** : Recommander la prvention surmenage
>
> **Sens clinique** : L'aidant cumule les charges (multi-aidance ou parentalit). Ce contexte augmente le risque d'puisement mme si la rpartition est acceptable  surveillance prventive.

####  CCC  \`V1_R2_CCC_03\` _(NOUVEAU )_

> **SI** l'aidant a rpondu :
> 1.  Autres personnes  charge ?   ** Enfant(s) mineurs ** ou ** Autre(s) proche(s) dpendant(s) **
> 2. **ET**  Au sein de votre famille, seul(e) ?   ** Oui **
>
> **ALORS** : Recommander la prvention surmenage  niveau CCC ( 30 jours)
>
> **Sens clinique** : Multi-aidance ou parentalit combine avec le fait d'tre seul dans la famille  aider. Facteur aggravant majeur  surveillance renforce et anticipation.

---

###  Dcisions Action 2

| # | Proposition | Dcision | Rgle cre |
|---|---|---|---|
| 1 |  Standard CAT_01 (E1 = "plus grande partie mais acceptable") |  Valid | \`V1_R2_STD_02\` |
| 2 |  Standard CAT_02 (E1 = "presque tout + tensions") |  Valid | \`V1_R2_STD_03\` |
| 3 |  Standard CAT_03 (E3  "Aucun") |  Valid | \`V1_R2_STD_04\` |
| 4 |  CCC CAT_03 (E3  "Aucun" + N4 = "Oui") |  Valid | \`V1_R2_CCC_03\` |
| 5 |  Critique triple (E1 + E2 + N4) |  Valid | \`V1_R2_CRIT_02\`  3 CAT |

>  **Contrle K3** : Chaque catgorie a maintenant  2 niveaux. Couverture complte.
> 
> **Vrification couverture questions** :
> - E1  STD_02, STD_03, CCC_02, CRIT_02 
> - E2  CCC_01, CCC_02, CRIT_01, CRIT_02 
> - E3  STD_04, CCC_03 
> - N4  STD_01, CCC_01, CCC_03, CRIT_02 
>  Toutes les questions sont utilises dans  1 rgle 

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** : Les 14 MT taient rparties entre R2_RECO_01 (11 MT) et R2_RECO_02 (3 MT). L'architecture legacy regroupait tout sous 2 recos. On redistribue maintenant les 14 MT vers les 3 catgories selon leur action clinique relle.

### CAT_01  Mobilisation du rseau d'aide

> Legacy : 6 MT de R2_RECO_01 thmatiquement lies au rseau. Aprs redistribution : **6 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_001 | Lister les personnes de l'entourage mobilisables | ORGA | IDEC |  | Legacy |
| MT_V1_002 | Explorer les freins  une meilleure rpartition | ORGA | IDEC |  | Legacy |
| MT_V1_006 | Identifier d'autres personnes potentiellement mobilisables | ORGA | IDEC |  | Legacy |
| MT_V1_005 | Orienter vers des groupes d'entraide | INFO | IDEC |  | Legacy |
| MT_V1_004 | Proposer un accompagnement pour solliciter de l'aide | SEC | IDEC |  | Legacy |
| MT_V1_042 | Faciliter une runion familiale de rpartition | STRUC | IDEC |  | NOUVEAU  |

####  Pourquoi 6 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_001 (lister l'entourage)  l'IDEC agit sans connatre le rseau existant. C'est le point de dpart indispensable.
- Sans MT_V1_002 (freins)  on identifie les personnes mais on ne comprend pas pourquoi elles ne sont pas mobilises. Risque de recommandations hors sol.
- Sans MT_V1_006 (identifier d'autres personnes)  on se limite au rseau connu. L'aidant peut avoir des ressources qu'il n'a pas identifies.
- Sans MT_V1_005 (groupes d'entraide)  on reste dans le cercle priv. Les pairs aidants sont une ressource valide cliniquement.
- Sans MT_V1_004 (accompagnement pour solliciter)  on demande  l'aidant de mobiliser seul, ce qui est souvent le frein principal.
- Sans MT_V1_042 (runion familiale)  on identifie et on accompagne mais on ne structure pas l'action collective. La runion familiale est le moment o la rpartition se concrtise.

**Pourquoi pas 1 de plus ?**
-  Contacter les membres de la famille   c'est le rle de l'aidant accompagn (MT_V1_004), pas une MT autonome.
-  valuer la qualit du soutien   c'est le suivi N3, pas une MT d'activation.
- La chane est complte : ORGA (cartographier)  ORGA (comprendre les freins)  INFO (largir les ressources)  SEC (accompagner)  STRUC (structurer).

### CAT_02  Accs au rpit et relais professionnels

> Legacy : 5 MT de R2_RECO_01 + R2_RECO_02 thmatiquement lies au rpit. Aprs redistribution : **5 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_003 | valuer les aides disponibles (services, associations) | INFO | IDEC |  | Legacy |
| MT_V1_007 | Informer sur les solutions de rpit | INFO | IDEC |  | Legacy |
| MT_V1_010 | Orienter vers des dispositifs d'aide aux aidants | INFO | IDEC |  | Legacy |
| MT_V1_011 | Envisager un accueil temporaire pour le proche | STRUC | IDEC |  | Legacy |
| MT_V1_025 | Proposer des solutions de rpit | STRUC | IDEC |  | Legacy |

####  Pourquoi 5 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_003 (aides disponibles)  l'IDEC propose du rpit sans avoir fait l'inventaire des ressources du territoire.
- Sans MT_V1_007 (informer rpit)  l'aidant ne sait pas que le rpit existe ou comment y accder.
- Sans MT_V1_010 (dispositifs)  on limite l'info aux seules plateformes de rpit. Les dispositifs sont plus larges (baluchonnage, relais famille).
- Sans MT_V1_011 (accueil temporaire)  on occulte une solution structurante majeure. L'accueil temporaire est souvent le levier qui dbloque la situation.
- Sans MT_V1_025 (solutions de rpit)  on informe et on structure mais on ne propose pas d'action concrte de soulagement.

**Pourquoi pas 1 de plus ?**
-  Organiser un premier contact avec la plateforme de rpit   cette action (SEC) serait pertinente. On la garde en rserve pour la validation Dr. Monka. ** Proposition d'ajout.**
-  Suivi post-rpit   c'est du suivi N3, pas une MT d'activation.

### CAT_03  Prvention de l'isolement et du surmenage

> Legacy : 2 MT. Aprs redistribution + nouvelles : **3 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_008 | valuer l'urgence de la situation d'isolement | ORGA | IDEC |  | Legacy |
| MT_V1_024 | valuer les possibilits de mobilisation | ORGA | IDEC |  | Legacy |
| MT_V1_009 | Proposer un contact rgulier avec un professionnel | SEC | IDEC |  | Legacy |

####  Pourquoi 3 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_008 (valuer urgence)  on ne sait pas o en est l'aidant. L'valuation est le socle de la prvention.
- Sans MT_V1_024 (possibilits mobilisation)  on identifie l'urgence mais on ne cherche pas de solutions.
- Sans MT_V1_009 (contact rgulier)  c'est la seule MT contributive (SEC). Sans elle, pas de scurisation du lien  l'ASR est impossible.

**Pourquoi pas 1 de plus ?**
-  Crer un planning de suivi   c'est une sous-action de MT_V1_009, pas une MT autonome.
-  Orienter vers un psychologue   c'est couvert par V3 (Sant aidant), pas R2. viter le doublon inter-V.

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | STRUC pour CAT_01 (runion familiale) |  Valid | \`MT_V1_042\` |
| 2 | SEC pour CAT_02 (contact plateforme) |  Propos | _(en attente Dr. Monka)_ |

> **Condition ASR par catgorie** :
> - CAT_01 :  2 (SEC + STRUC)   ASR complte
> - CAT_02 :  2 (STRUC  2)   ASR complte
> - CAT_03 :  1 (SEC)  ASR partielle (pas de STRUC)
>
>  **Total R2 : 14 MT legacy + 1 nouvelle = 15 MT** (6 CAT_01 + 5 CAT_02 + 3 CAT_03 + 1 rserve)

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs existants dans la DB** : \`IDEC\`, \`MT\` (mdecin traitant), \`Aidant (autonome)\`, \`AS\` (assistante sociale)
> **Domaines** :  Mdical /  Mdico-social

### Tableau consolid des MT de R2 (final)

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V1_001 | Lister les personnes de l'entourage mobilisables | ORGA | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_002 | Explorer les freins  une meilleure rpartition | ORGA | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_006 | Identifier d'autres personnes potentiellement mobilisables | ORGA | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_005 | Orienter vers des groupes d'entraide | INFO | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_004 | Proposer un accompagnement pour solliciter de l'aide | SEC | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_042 | Faciliter une runion familiale de rpartition | STRUC | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V1_003 | valuer les aides disponibles | INFO | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_007 | Informer sur les solutions de rpit | INFO | Aidant (autonome) |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_010 | Orienter vers des dispositifs d'aide aux aidants | INFO | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_011 | Envisager un accueil temporaire pour le proche | STRUC | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_025 | Proposer des solutions de rpit | STRUC | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_008 | valuer l'urgence de la situation d'isolement | ORGA | IDEC |  Mdico-social |  | CAT_03 | Legacy |
| MT_V1_024 | valuer les possibilits de mobilisation | ORGA | IDEC |  Mdico-social |  | CAT_03 | Legacy |
| MT_V1_009 | Proposer un contact rgulier avec un professionnel | SEC | IDEC |  Mdico-social |  | CAT_03 | Legacy |

> **Rsum** :
> - Total MT : **14** (13 legacy redistribues + 1 nouvelle)
> - Domaine  Mdico-social : **14 MT** / Domaine  Mdical : **0 MT**
> - CAT_01 : 6 MT (2 contributives : SEC + STRUC)   ASR complte
> - CAT_02 : 5 MT (2 contributives : STRUC  2)   ASR complte
> - CAT_03 : 3 MT (1 contributive : SEC)  ASR partielle

###  Propositions d'amlioration  Types, acteurs et domaine

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V1_007  acteur Aidant (autonome)** | L'aidant peut se renseigner seul sur le rpit (brochures, Internet). L'IDEC facilite mais l'aidant peut agir en autonomie. Acteur \`Aidant (autonome)\` existe en DB. |
| 2 | **MT_V1_001  acteur Aidant (autonome)** | L'aidant est le mieux plac pour lister son entourage. L'IDEC guide mais c'est l'aidant qui connat ses proches. |
| 3 | **MT_V1_042  ajouter attribut  format : runion ** | Met en vidence que cette MT ncessite l'organisation d'un moment collectif, pas un acte individuel. |
| 4 | **Absence de MED** : aucune MT mdicale dans R2 | Justifi : R2 est entirement mdico-social. Le soutien psychologique (MED) est couvert par R1 (CAT_03) et V3. Pas de doublon. |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording des 14 MT (IDEC + Utilisateur)

| MT_ID | CAT | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|---|
| MT_V1_001 | CAT_01 | Lister les personnes mobilisables | Faire le point avec l'aidant sur les personnes de son entourage susceptibles de l'aider | Listez les personnes autour de vous qui pourraient vous aider, mme ponctuellement |  |
| MT_V1_002 | CAT_01 | Explorer les freins  la rpartition | Identifier avec l'aidant les raisons pour lesquelles l'aide n'est pas mieux rpartie | Rflchissez  ce qui empche votre entourage de vous aider davantage |  |
| MT_V1_006 | CAT_01 | Identifier d'autres personnes mobilisables | Explorer avec l'aidant les ressources qu'il n'a peut-tre pas identifies (voisins, amis, anciens collgues) | Pensez  des personnes auxquelles vous n'avez peut-tre pas pens : voisins, amis proches, anciens collgues |  |
| MT_V1_005 | CAT_01 | Orienter vers des groupes d'entraide | Informer sur les groupes d'entraide ou cafs aidants du territoire | Renseignez-vous sur les groupes de parole ou cafs aidants prs de chez vous |  |
| MT_V1_004 | CAT_01 | Proposer un accompagnement pour solliciter de l'aide | Proposer d'accompagner l'aidant dans la dmarche de sollicitation de son entourage | Acceptez-vous d'tre accompagn pour demander de l'aide  vos proches ? |  |
| MT_V1_042 | CAT_01 | Faciliter une runion familiale | Proposer et organiser un temps d'change familial pour discuter de la rpartition de l'aide | Organisez un moment d'change avec votre famille pour parler de la rpartition de l'aide |  |
| MT_V1_003 | CAT_02 | valuer les aides disponibles | Faire l'inventaire des services d'aide disponibles sur le territoire de l'aidant | Renseignez-vous sur les services d'aide proposs dans votre secteur |  |
| MT_V1_007 | CAT_02 | Informer sur les solutions de rpit | Informer l'aidant sur les diffrents types de rpit existants (accueil de jour, hbergement temporaire, baluchonnage) | Informez-vous sur les solutions de rpit : accueil de jour, hbergement temporaire, relais  domicile |  |
| MT_V1_010 | CAT_02 | Orienter vers dispositifs d'aide aux aidants | Orienter vers les plateformes et dispositifs spcialiss pour les aidants | Contactez les dispositifs d'aide aux aidants de votre territoire |  |
| MT_V1_011 | CAT_02 | Envisager un accueil temporaire | valuer l'intrt et la faisabilit d'un accueil temporaire pour le proche aid | Envisagez un accueil temporaire pour votre proche afin de vous accorder du rpit |  |
| MT_V1_025 | CAT_02 | Proposer des solutions de rpit | Identifier et proposer les solutions de rpit les plus adaptes  la situation | Explorez les solutions de rpit adaptes  votre situation |  |
| MT_V1_008 | CAT_03 | valuer l'urgence de l'isolement | valuer le degr d'isolement de l'aidant et identifier les risques  court terme | Faites le point sur votre sentiment d'isolement dans votre rle d'aidant |  |
| MT_V1_024 | CAT_03 | valuer les possibilits de mobilisation | Identifier avec l'aidant les leviers restants pour renforcer le soutien | Identifiez les pistes encore inexploites pour trouver du soutien |  |
| MT_V1_009 | CAT_03 | Proposer un contact rgulier avec un professionnel | Mettre en place un suivi rgulier avec un professionnel rfrent pour prvenir l'isolement | Acceptez-vous un suivi rgulier avec un professionnel pour ne pas rester seul face  votre rle ? |  |

#### Wording des 3 Recos de base

| CAT | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | / |
|---|---|---|---|
| CAT_01 | Mobilisation de votre entourage | Organiser la mobilisation du rseau familial et amical |  |
| CAT_02 | Accs  des solutions de rpit | Orienter vers les services de rpit du territoire |  |
| CAT_03 | Prvention de l'isolement | Mettre en place un suivi prventif anti-isolement |  |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit (Reco + MT)

#### CAT_01  Mobilisation du rseau d'aide

> Niveaux existants :  STD_01 + STD_02 /  CCC_01 + CCC_02 /  CRIT_01 + CRIT_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Votre entourage peut tre davantage mobilis | valuer les possibilits de mobilisation du rseau |
|  CCC ( 30j) | Mobiliser votre entourage devient prioritaire | Organiser la mobilisation du rseau sous 30 jours |
|  Critique ( 7j) | Mobilisation urgente de tous les soutiens | Mobiliser les ressources en urgence sous 7 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_001 | Listez les personnes qui pourraient vous aider | Listez rapidement les personnes mobilisables | Identifiez immdiatement qui peut vous aider |
| MT_V1_004 | Acceptez l'accompagnement pour solliciter de l'aide | Faites-vous accompagner pour demander de l'aide rapidement | Faites-vous aider cette semaine pour mobiliser votre entourage |
| MT_V1_042 | Envisagez un change en famille sur la rpartition | Organisez un change familial dans le mois | Organisez un temps familial cette semaine |

#### CAT_02  Accs au rpit et relais professionnels

> Niveaux existants :  STD_03 /  CCC_02 /  CRIT_01 + CRIT_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Solutions de rpit disponibles | Informer sur le rpit territorial |
|  CCC ( 30j) | Rpit fortement recommand | Organiser l'accs au rpit sous 30 jours |
|  Critique ( 7j) | Rpit urgent | Organiser l'accs au rpit sous 7 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_007 | Informez-vous sur les solutions de rpit | Renseignez-vous rapidement sur le rpit | Renseignez-vous ds maintenant sur le rpit |
| MT_V1_011 | Envisagez un accueil temporaire | Envisagez srieusement un accueil temporaire | Organisez un accueil temporaire sans attendre |
| MT_V1_025 | Explorez les solutions de rpit adaptes | Explorez les solutions de rpit dans le mois | Explorez les solutions de rpit cette semaine |

#### CAT_03  Prvention de l'isolement et du surmenage

> Niveaux existants :  STD_04 /  CCC_03 /  CRIT_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Surveillance prventive de votre charge | Mettre en place un suivi prventif |
|  CCC ( 30j) | Prvention renforce de l'puisement | Renforcer la surveillance sous 30 jours |
|  Critique ( 7j) | Prvention urgente de l'puisement | Intervenir en prvention sous 7 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_008 | Faites le point sur votre isolement | valuez rapidement votre niveau d'isolement | valuez ds maintenant votre niveau d'isolement |
| MT_V1_009 | Un suivi rgulier peut vous aider | Acceptez un suivi rgulier rapidement | Acceptez un suivi rgulier cette semaine |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP R2 n'est PAS activ (aucune rgle critique, CCC ou standard ne s'est dclenche = l'aidant a un bon rseau de soutien)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Votre entourage semble vous soutenir. Continuez  communiquer avec vos proches et n'hsitez pas  solliciter de l'aide en cas de besoin.  |  La situation de soutien est actuellement favorable. Surveiller l'volution du rseau d'aide et la charge globale au prochain suivi.  |

**MT de prvention proposes :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| _(NOUVELLE)_ | Maintenir le lien avec l'entourage aidant | INFO | Profiter du prochain contact pour valider la prennit du soutien en place | Continuez  changer rgulirement avec vos proches sur votre rle d'aidant |
| _(NOUVELLE)_ | Anticiper les changements d'organisation | ORGA | Renseigner les observations sur l'volution du rseau d'aide | Prparez-vous aux changements possibles (dmnagement d'un aidant, nouvelle charge) |

> **Dcision Dr. Monka** :  Reco prvention valide |   reformuler

### 6.2  Checklist de cohrence (post-dcisions)

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  E3 orpheline |  | E3  STD_04 + CCC_03 |
| 2 | Chaque rgle d'activation  1 version de reco |  |  | 10 rgles  toutes lies  1 catgorie |
| 3 | Chaque catgorie de reco  ses MT assignes |  |  | CAT_01: 6, CAT_02: 5, CAT_03: 3 |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | Chaque CAT a  Standard + CCC |
| 5 | Aucune MT orpheline |  |  | 14 MT toutes rattaches |
| 6 | Reco prvention prsente |  |  | Propose, en attente validation |
| 7 | Wording reco = conseil, MT = verbe d'action |  |  | Phase 1 + Phase 2 proposes |
| 8 | Sens clinique renseign pour chaque rgle |  |  | 10 rgles documentes |

> **Score** : **5/8 valids**, 2 en attente validation (prvention + wording), 1 OK
>
> Quand prvention et wording seront valids  **8/8** 

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 2 (implicites) | **3** (rseau, rpit, prvention) |
| Rgles d'activation | 4 (:1 :2 :1) | **10** (:4, :3, :3 dont 1 triple) |
| MT totales | 14 (sous 2 recos) | **14** (redistribues + 1 nouvelle) |
| MT contributives | 4 (SEC:2, STRUC:2) | **5** (SEC:3, STRUC:2) |
| Domaine  /  | 0 / 14 | 0 / 14 (100% mdico-social) |
| ASR | 2 CAT  + 1 partielle |  Maintenue |
| Reco prvention |  |  Propose |
| Checks OK | 3/8 | 5/8 ( 8/8 aprs validation) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories identifies (rseau, rpit, prvention) |  Valid |
| 2 |  STD_02 : E1 = "plus grande partie"  CAT_01 |  Valid |
| 3 |  STD_03 : E1 = "presque tout + tensions"  CAT_02 |  Valid |
| 4 |  STD_04 : E3  Aucun  CAT_03 |  Valid |
| 5 |  CCC_03 : E3  Aucun + N4 = Oui  CAT_03 |  Valid |
| 6 |  CRIT_02 : Triple (E1 + E2 + N4)  3 CAT |  Valid |
| 7 | MT_V1_042 (STRUC CAT_01  runion familiale) cre |  Valid |
| 8 | Redistribution des 14 MT legacy vers 3 CAT |  Valid |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider wording Phase 1 (base MT + reco) |  Haute |
| 2 | Valider wording Phase 2 (versioning criticit) |  Haute |
| 3 | Valider reco prvention |  Haute |
| 4 | Valider propositions types/acteurs (Action 4) |  Moyenne |
| 5 | MT SEC pour CAT_02 (contact plateforme rpit) |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,G2=`#  Fiche de Validation MP  R3  Isolement social de la personne aide

> **Vulnrabilit** : V1  Social & Relationnel  
> **ASR** :  Limiter l'isolement du proche et maintenir un lien social adapt   
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V1

### Rpartition des 15 questions V1 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **R1** | Impact vie perso/pro | 3 | O27, O28, N7 | Retentissement de l'aidance sur la vie de l'aidant |
| **R2** | Soutien entourage | 4 | E1, E2, E3, N4 | Rseau de soutien, isolement aidant |
| **R3** | Isolement du proche | 3 | N20, O47, O48 | Vie sociale du proche aid |
| **R4** | Relation aidant/proche | 5 | E4, E5, E6, O30, O31 | Qualit de la relation, acceptation aide |

> **R3 se concentre sur l'ISOLEMENT DU PROCHE AID** (pas de l'aidant). Le sujet est la vie sociale de la personne aide : maintient-elle des liens ? L'aidant est-il prsent physiquement ? La distance gographique cre-t-elle un isolement subi ? R3 = "mon proche est-il isol socialement", R2 = "qui m'aide moi", R1 = "quel impact sur ma vie", R4 = "comment va notre relation".

---

## 0. DONNES FIGES  Questions rattaches  R3

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | N20 | A-t-elle des difficults  maintenir des relations sociales stables ? | facteur | Non / Parfois / Oui |
| 2 | O47 |  combien de temps habitez-vous du domicile de la personne aide ? | facteur | Moins de 30 min / Entre 30 min et 1h30 / Plus de 1h30 |
| 3 | O48 | Quelle est la frquence de vos visites ? | facteur | Tous les jours / Au moins 1 fois par semaine / Au moins 1 fois par mois / Au moins 1 fois tous les 3 mois / Au moins 1 fois tous les 6 mois / Au moins 1 fois par an / Autre |

> Total : 3 questions rattaches  R3

###  Pourquoi ces 3 questions ?

**N20** est la question cl de R3 : elle mesure directement les **difficults relationnelles du proche aid**. C'est un marqueur d'isolement social objectif (difficults  maintenir des liens stables = soit cognitif, soit contextuel, soit les deux).

**O47** (distance domicile) est un **facteur gographique fixe** qui conditionne l'accs de l'aidant au proche. Plus la distance est grande, plus le risque d'isolement du proche augmente (moins de visites spontanes, plus de logistique).

**O48** (frquence des visites) est un **marqueur comportemental** : elle traduit la ralit de la prsence de l'aidant auprs du proche. Une visite mensuelle ou moins = signal de distance relationnelle ou de contraintes fortes.

 **Combinaison clinique** : N20 mesure la capacit du PROCHE, O47-O48 mesurent la capacit de l'AIDANT  compenser. Les 3 questions ensemble dessinent le tableau de l'isolement social du proche.

###  Analyse des 12 autres questions V1  Pourraient-elles appartenir  R3 ?

> Les questions et leurs options sont **figes**. L'objectif ici est uniquement de vrifier l'affiliation.

#### Questions R1 (Impact vie perso/pro)

| Question | Libell | Pertinence R3 ? | Raisonnement |
|---|---|---|---|
| **O27** | Difficults vie familiale ? |  Non | Concerne l'AIDANT, pas le proche. R1. |
| **O28** | Difficults amis/loisirs/travail ? |  Non | Concerne l'AIDANT. R1. |
| **N7** | Amnagement professionnel ? |  Non | Concerne l'AIDANT. Impact professionnel  R1. |

>  **Verdict R1** : Aucune question R1 ne devrait tre dans R3. R1 concerne l'aidant, R3 le proche.

#### Questions R2 (Soutien entourage)

| Question | Libell | Pertinence R3 ? | Raisonnement |
|---|---|---|---|
| **E1** | Rpartition de l'aide ? |  Non | Mesure le rseau d'aide autour de l'AIDANT. R2. |
| **E2** | Personnes en cas de coup dur ? |  Non | Filet de scurit de l'AIDANT. R2. |
| **E3** | Autres personnes  charge ? |  Non | Charge de l'AIDANT. R2. |
| **N4** | Seule dans la famille ? |  **Dbattable** | Si l'aidant est seul dans la famille  il est potentiellement le SEUL lien du proche avec la famille. Cela pourrait tre un facteur d'isolement du proche. **Mais** : N4 mesure la situation de l'AIDANT (sa solitude dans le rle), pas celle du PROCHE (son isolement social). Le mme rsultat (N4 = Oui) peut exister avec un proche ayant des amis, des voisins, des activits.  R2 reste juste. |

>  **Verdict R2** : Aucune question R2 ne devrait tre dans R3. N4 a un lien indirect mais son sujet principal est le rseau de l'aidant.

#### Questions R4 (Relation aidant/proche)

| Question | Libell | Pertinence R3 ? | Raisonnement |
|---|---|---|---|
| **E4** | volution de la relation ? |  Non | Relation interpersonnelle  R4. |
| **E5** | Tensions familiales ? |  Non | Dynamique familiale  R4. |
| **E6** | Acceptation aide extrieure ? |  **Dbattable** | Un proche qui refuse l'aide extrieure se prive d'interactions sociales supplmentaires  facteur d'isolement. **Mais** : E6 mesure le comportement du proche vis--vis DE L'AIDE (et non des relations sociales). Le refus d'aide n'est pas synonyme d'isolement social  un proche peut refuser l'aide pro tout en ayant des amis.  R4 reste plus juste. |
| **O30** | Ne plus reconnatre la personne ? |  Non | Perception de l'aidant  R4. |
| **O31** | Peur pour l'avenir ? |  Non | Inquitude de l'aidant  R4. |

>  **Verdict R4** : E6 (refus d'aide) a un lien indirect avec l'isolement. Mais son thme principal est l'acceptation de l'aide  R4.

###  Synthse affiliation

| Question | MP actuel | Pertinence R3 ? | Confiance |
|---|---|---|---|
| O27, O28, N7 | R1 |  Non |  Haute |
| E1, E2, E3 | R2 |  Non |  Haute |
| N4 | R2 |  Lien indirect (mais R2 reste juste) |  Moyenne |
| E4, E5, O30, O31 | R4 |  Non |  Haute |
| E6 | R4 |  Lien indirect (mais R4 reste juste) |  Moyenne |

> **Conclusion** : Les 3 questions de R3 (N20, O47, O48) sont les bonnes. Aucune question V1 ne devrait tre ajoute  R3. Les liens indirects (N4, E6) ne justifient pas un double rattachement.
>
> ** Point d'attention inter-MP** : Si N4 = "Oui" (aidant seul, R2) ET O48 = "1x/mois ou moins" (visites rares, R3), le risque combin (aidant seul + prsence rare) est lev. Ce signal crois est capt par la superposition des activations R2 et R3.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse de la reco legacy unique (R3_RECO_01) montre 1 action principale : surveillance mdicale + activits adaptes. Cliniquement, R3 couvre 2 dimensions distinctes :
1. **Surveillance du lien social**  Identifier et prvenir l'isolement social du proche (monitoring, contact MT)
2. **Maintien des activits sociales**  Proposer des solutions concrtes pour prserver ou restaurer le lien social (accueil de jour, activits adaptes)

La reco legacy fusionne les deux (MT + activits). On les spare pour plus de clart clinique : surveiller  agir.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | R3_CAT_01 | Surveillance du lien social | Surveiller l'humeur, l'isolement et l'tat du proche en lien avec le MT | Legacy  |
| 2 | R3_CAT_02 | Maintien des activits sociales | Proposer des activits et structures adaptes pour prserver le lien social du proche | Legacy  +  IA |

###  Raisonnement

- **CAT_01** (Surveillance) : Correspond  la partie "surveillance" de R3_RECO_01. L'ide : le MT surveille l'humeur et la prise de traitement, l'IDEC surveille l'volution du lien social  dtection prcoce.
- **CAT_02** (Activits) : Correspond  la partie "activits adaptes" (MT_V1_040). L'ide : accueil de jour, activits collectives, sorties accompagnes  action concrte pour rompre l'isolement.

**Pourquoi pas 1 catgorie (fusionner) ?**  Parce que surveiller et agir sont deux dmarches diffrentes avec des temporalits diffrentes. La surveillance est continue, les activits sont ponctuelles mais structurantes.

**Pourquoi pas 3 ?**  On a envisag une CAT_03 "distance gographique" (O47) mais la distance est un FACTEUR, pas une action clinique. Elle aggrave la situation mais ne gnre pas une action diffrente (on adapte la frquence des visites dans CAT_01/CAT_02).

>  **Valid : 2 catgories** (CAT_01 Surveillance, CAT_02 Activits)

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

R3 est un MP  3 questions dont 2 sont des facteurs contextuels (O47, O48). La question cl est N20 (difficults relationnelles du proche). Les combos avec O47/O48 dterminent la gravit.

### Rappel des questions R3 et de leurs options

> **N20**   A-t-elle des difficults  maintenir des relations sociales stables ? 
> - Non (score 0) / Parfois (score +1) / **Oui** (score +2)

> **O47**    combien de temps habitez-vous du domicile de la personne aide ? 
> - Moins de 30 min / Entre 30 min et 1h30 / **Plus de 1h30** _(non scorante)_

> **O48**   Quelle est la frquence de vos visites ? 
> - Tous les jours / 1x/semaine / **1x/mois** / **1x/3 mois** / **1x/6 mois** / **1x/an** / Autre _(non scorante)_

---

### Catgorie 1  Surveillance du lien social

####  Standard  \`V1_R3_STD_01\` _(legacy)_

> **SI** l'aidant a rpondu  la question :
>  Quelle est la frquence de vos visites ? 
>  ** Au moins 1 fois par mois ** ou moins frquent
>
> **ALORS** : Recommander la surveillance du lien social
>
> **Sens clinique** : Des visites mensuelles ou moins frquentes signalent une prsence limite auprs du proche. Mme sans difficult relationnelle identifie (N20), la faible prsence justifie une surveillance  le proche peut s'isoler sans que l'aidant ne le dtecte.

####  Standard  \`V1_R3_STD_02\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  A-t-elle des difficults  maintenir des relations sociales stables ? 
>  ** Parfois **
>
> **ALORS** : Recommander la surveillance du lien social
>
> **Sens clinique** : Des difficults intermittentes sont un signal prcoce. Le proche n'est pas encore en isolement complet mais la fragilisation est en cours  surveillance proactive.

####  CCC  \`V1_R3_CCC_01\` _(legacy)_

> **SI** l'aidant a rpondu :
> 1.  A-t-elle des difficults  maintenir des relations sociales stables ?   ** Oui **
> 2. **ET**  Quelle est la frquence de vos visites ?   ** Au moins 1 fois par mois ** ou moins frquent
>
> **ALORS** : Recommander la surveillance du lien social  niveau CCC ( 30 jours)
>
> **Sens clinique** : Le proche a des difficults relationnelles confirmes ET l'aidant le voit rarement. Double signal : le proche est en train de s'isoler et personne n'est l pour le compenser.

####  Critique  \`V1_R3_CRIT_01\` _(NOUVEAU )_

> **SI** l'aidant a rpondu :
> 1.  A-t-elle des difficults  maintenir des relations sociales stables ?   ** Oui **
> 2. **ET**  Quelle est la frquence de vos visites ?   ** Au moins 1 fois tous les 3 mois ** ou moins frquent
> 3. **ET**   combien de temps habitez-vous du domicile ?   ** Plus de 1h30 **
>
> **ALORS** : Recommander la surveillance  niveau Critique ( 7 jours)
>
> **Sens clinique** : Triple signal d'isolement : difficults relationnelles confirmes + prsence de l'aidant trs rare + distance gographique importante. Le proche est probablement en isolement svre  intervention urgente ncessaire.

---

### Catgorie 2  Maintien des activits sociales

####  Standard  \`V1_R3_STD_03\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  A-t-elle des difficults  maintenir des relations sociales stables ? 
>  ** Oui **
>
> **ALORS** : Recommander le maintien des activits sociales
>
> **Sens clinique** : Le proche a des difficults relationnelles  proposer des activits adaptes pour compenser et prvenir l'aggravation.

####  CCC  \`V1_R3_CCC_01\` _(mme rgle que CAT_01, legacy)_

> **SI** l'aidant a rpondu :
> 1.  A-t-elle des difficults relationnelles ?   ** Oui **
> 2. **ET**  Frquence des visites ?   ** 1x/mois ** ou moins
>
> **ALORS** : Recommander le maintien des activits sociales  niveau CCC ( 30 jours)
>
> **Sens clinique** : Le proche est en difficult et insuffisamment visit  les activits sociales deviennent un relais indispensable en l'absence de l'aidant.

>  **Observation** : CAT_01 et CAT_02 se dclenchent sur la mme rgle CCC (CCC_01). C'est normal  le mme signal clinique (isolement + faible prsence) justifie deux actions complmentaires : surveiller (CAT_01) ET proposer des activits (CAT_02).

---

###  Dcisions Action 2

| # | Proposition | Dcision | Rgle cre |
|---|---|---|---|
| 1 |  Standard CAT_01 (N20 = Parfois) |  Valid | \`V1_R3_STD_02\` |
| 2 |  Standard CAT_02 (N20 = Oui) |  Valid | \`V1_R3_STD_03\` |
| 3 |  Critique triple (N20 + O48 + O47) |  Valid | \`V1_R3_CRIT_01\` |

>  **Contrle K3** : Chaque catgorie a maintenant  2 niveaux.
>
> **Vrification couverture questions** :
> - N20  STD_02, STD_03, CCC_01, CRIT_01 
> - O47  CRIT_01 
> - O48  STD_01, CCC_01, CRIT_01 
>  Toutes les questions sont utilises dans  1 rgle 

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** : Seulement 3 MT pour R3 (1 contributive, 2 non-contributives), toutes sous R3_RECO_01. R3 est le MP le plus "lger" de V1 en termes de MT. On redistribue et on propose des ajouts.

### CAT_01  Surveillance du lien social

> Legacy : 1 MT (MT_V1_039). Aprs redistribution + nouvelles : **3 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_039 | Identifier les situations problmatiques | ORGA | IDEC |  | Legacy |
| MT_V1_043 | Contacter le MT pour surveillance humeur et traitement | SEC | IDEC |  | NOUVEAU  (extrait de R3_RECO_01) |
| MT_V1_044 | valuer la frquence de contact et la qualit du lien | ORGA | IDEC |  | NOUVEAU  |

####  Pourquoi 3 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_039 (situations problmatiques)  on surveille sans avoir identifi les facteurs de risque spcifiques.
- Sans MT_V1_043 (contact MT)  c'est l'action cl de la reco legacy. Le MT doit prescrire le passage d'un IDEL pour surveillance. Sans cette MT, la chane clinique est rompue.
- Sans MT_V1_044 (valuer frquence)  on ne mesure pas l'volution du lien social. L'valuation initiale (O48) est un snapshot  besoin d'un suivi dynamique.

**Pourquoi pas 1 de plus ?**
-  Contacter la famille largie du proche   hors scope IDEC direct, c'est un levier de R2 (rseau de l'aidant).
-  valuer l'tat cognitif du proche   c'est du V4 (fragilit du proche), pas du R3.

### CAT_02  Maintien des activits sociales

> Legacy : 2 MT (MT_V1_040, MT_V1_041). Aprs enrichissement : **3 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_040 | Proposer des activits adaptes | STRUC | IDEC |  | Legacy |
| MT_V1_041 | valuer l'intrt d'un accueil de jour | ORGA | IDEC |  | Legacy |
| MT_V1_045 | Identifier les activits sociales disponibles sur le territoire | INFO | IDEC |  | NOUVEAU  |

####  Pourquoi 3 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_040 (activits adaptes)  c'est la seule MT contributive STRUC. Sans elle, pas de proposition concrte.
- Sans MT_V1_041 (accueil de jour)  on occulte la solution la plus structurante contre l'isolement du proche. L'accueil de jour est souvent le premier pas vers la resocialisation.
- Sans MT_V1_045 (identifier activits)  on propose (MT_V1_040) sans avoir fait l'inventaire. L'IDEC doit d'abord cartographier l'offre avant de proposer.

**Pourquoi pas 1 de plus ?**
-  Organiser un transport accompagn   sous-action de MT_V1_040, pas une MT autonome.
-  valuer les capacits cognitives pour les activits   c'est le rle du MT via CAT_01 (surveillance), pas une MT de CAT_02.

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | SEC pour CAT_01 (contact MT surveillance) |  Valid | \`MT_V1_043\` |
| 2 | ORGA pour CAT_01 (valuer frquence/qualit) |  Valid | \`MT_V1_044\` |
| 3 | INFO pour CAT_02 (cartographier activits) |  Valid | \`MT_V1_045\` |

> **Condition ASR par catgorie** :
> - CAT_01 :  1 (SEC)  ASR partielle (pas de STRUC)
> - CAT_02 :  1 (STRUC)  ASR partielle (pas de SEC)
>
>  **Point d'attention** : Ni CAT_01 ni CAT_02 n'a une chane complte (SEC + STRUC). C'est cohrent avec la nature de R3 : c'est un MP de surveillance et d'orientation, pas d'intervention directe. L'intervention est porte par le MT et les structures d'accueil.
>
>  **Total R3 : 3 MT legacy + 3 nouvelles = 6 MT** (3 CAT_01 + 3 CAT_02)

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs existants dans la DB** : \`IDEC\`, \`MT\` (mdecin traitant), \`Aidant (autonome)\`, \`AS\` (assistante sociale)
> **Domaines** :  Mdical /  Mdico-social

### Tableau consolid des MT de R3 (final)

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V1_039 | Identifier les situations problmatiques | ORGA | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_043 | Contacter le MT pour surveillance humeur et traitement | SEC | IDEC |  Mdical |  | CAT_01 | NOUVEAU  |
| MT_V1_044 | valuer la frquence de contact et la qualit du lien | ORGA | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V1_040 | Proposer des activits adaptes | STRUC | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_041 | valuer l'intrt d'un accueil de jour | ORGA | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_045 | Identifier les activits sociales sur le territoire | INFO | IDEC |  Mdico-social |  | CAT_02 | NOUVEAU  |

> **Rsum** :
> - Total MT : **6** (3 legacy + 3 nouvelles)
> - Domaine  Mdico-social : **5 MT** / Domaine  Mdical : **1 MT** (MT_V1_043)
> - CAT_01 : 3 MT (1 contributive : SEC)  ASR partielle
> - CAT_02 : 3 MT (1 contributive : STRUC)  ASR partielle
> - Contributives () : 2  SEC: 1, STRUC: 1
> - Non-contributives () : 4  ORGA: 3, INFO: 1

###  Propositions d'amlioration  Types, acteurs et domaine

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V1_043  acteur double : IDEC + MT** | L'IDEC initie le contact, le MT excute la prescription. L'acteur visible en DB devrait rester IDEC (elle dclenche) mais le MT est acteur secondaire. |
| 2 | **MT_V1_041  acteur Aidant (autonome) en complment** | L'aidant peut visiter un accueil de jour de sa propre initiative. L'IDEC l'oriente mais l'aidant peut agir en autonomie. |
| 3 | **SEC pour CAT_02** : ajouter une MT pour scuriser l'accs  l'accueil de jour | Si MT_V1_041 value l'intrt, il manque une MT qui concrtise l'inscription.   Proposition en attente. |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording des 6 MT (IDEC + Utilisateur)

| MT_ID | CAT | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|---|
| MT_V1_039 | CAT_01 | Identifier les situations problmatiques | Reprer les indicateurs d'isolement social du proche (absence de contacts, refus de sortir, humeur dgrade) | Observez si votre proche a tendance  s'isoler ou  refuser les contacts |  |
| MT_V1_043 | CAT_01 | Contacter le MT pour surveillance | Contacter le mdecin traitant pour demander la prescription d'un passage IDEL pour surveillance de l'humeur et du traitement | Parlez au mdecin traitant de votre proche pour une surveillance rgulire de son humeur |  |
| MT_V1_044 | CAT_01 | valuer frquence/qualit du lien | valuer la frquence et la qualit des contacts sociaux du proche (visites, appels, sorties) | Rflchissez  la frquence de vos changes avec votre proche et  la qualit de ces moments |  |
| MT_V1_040 | CAT_02 | Proposer des activits adaptes | Identifier et proposer des activits sociales adaptes aux capacits et centres d'intrt du proche | Proposez  votre proche des activits adaptes  ses envies et ses capacits |  |
| MT_V1_041 | CAT_02 | valuer l'intrt d'un accueil de jour | Prsenter les solutions d'accueil de jour au proche et  l'aidant. valuer la faisabilit. | Renseignez-vous sur les accueils de jour : votre proche pourrait y trouver du lien social et des activits stimulantes |  |
| MT_V1_045 | CAT_02 | Cartographier les activits sociales | Faire l'inventaire des activits sociales et structures adaptes sur le territoire (accueil de jour, clubs, associations) | Recherchez les activits et structures adaptes prs de chez votre proche |  |

#### Wording des 2 Recos de base

| CAT | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | / |
|---|---|---|---|
| CAT_01 | Surveillance du lien social de votre proche | Organiser la surveillance du lien social via MT |  |
| CAT_02 | Activits sociales adaptes pour votre proche | Identifier et proposer des activits adaptes au proche |  |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit (Reco + MT)

#### CAT_01  Surveillance du lien social

> Niveaux existants :  STD_01 + STD_02 /  CCC_01 /  CRIT_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Surveillance du lien social recommande | Mettre en place un suivi du lien social |
|  CCC ( 30j) | Surveillance du lien social prioritaire | Organiser la surveillance sous 30 jours |
|  Critique ( 7j) | Surveillance urgente de l'isolement | Organiser la surveillance en urgence sous 7 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_039 | Observez si votre proche s'isole | Surveillez attentivement tout signe d'isolement | Surveillez ds maintenant tout signe d'isolement |
| MT_V1_043 | Parlez-en au mdecin traitant quand possible | Contactez le mdecin traitant dans le mois | Contactez le mdecin traitant cette semaine |

#### CAT_02  Maintien des activits sociales

> Niveaux existants :  STD_03 /  CCC_01 /  CRIT_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Activits sociales  envisager | valuer les activits adaptes |
|  CCC ( 30j) | Activits sociales recommandes | Proposer des activits sociales sous 30 jours |
|  Critique ( 7j) | Activits sociales urgentes | Mettre en place des activits sociales sous 7 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_040 | Proposez des activits adaptes  votre proche | Proposez rapidement des activits adaptes | Proposez ds cette semaine des activits adaptes |
| MT_V1_041 | Renseignez-vous sur l'accueil de jour | Explorez srieusement l'accueil de jour | Visitez un accueil de jour cette semaine |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP R3 n'est PAS activ (aucune rgle ne s'est dclenche = le proche maintient un lien social satisfaisant)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Le lien social de votre proche semble prserv. Restez attentif  tout changement : diminution des sorties, perte d'intrt pour les activits, isolement progressif.  |  Le lien social du proche est actuellement maintenu. Surveiller l'volution au prochain suivi. Rester vigilant en cas de changement de situation (dmnagement, hospitalisation, deuil).  |

**MT de prvention proposes :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| _(NOUVELLE)_ | Sensibiliser  l'isolement progressif | INFO | Lors du prochain contact, vrifier que le proche maintient des interactions sociales rgulires | Veillez  ce que votre proche continue  voir du monde et  sortir rgulirement |
| _(NOUVELLE)_ | Observer les signaux de repli | ORGA | Surveiller les indicateurs de repli social (refus de sortir, baisse d'humeur, perte d'intrt) | Soyez attentif si votre proche refuse de sortir ou semble plus renferm qu'avant |

> **Dcision Dr. Monka** :  Reco prvention valide |   reformuler

### 6.2  Checklist de cohrence (post-dcisions)

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  O47 orpheline |  | O47  CRIT_01 |
| 2 | Chaque rgle d'activation  1 version de reco |  |  | 6 rgles  toutes lies  1 catgorie |
| 3 | Chaque catgorie de reco  ses MT assignes |  |  | CAT_01: 3 MT, CAT_02: 3 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | Chaque CAT a  Standard + CCC |
| 5 | Aucune MT orpheline |  |  | 6 MT toutes rattaches |
| 6 | Reco prvention prsente |  |  | Propose, en attente validation |
| 7 | Wording reco = conseil, MT = verbe d'action |  |  | Phase 1 + Phase 2 proposes |
| 8 | Sens clinique renseign pour chaque rgle |  |  | 6 rgles documentes |

> **Score** : **5/8 valids**, 2 en attente validation (prvention + wording)
>
> Quand prvention et wording seront valids  **8/8** 

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 1 | **2** (surveillance, activits) |
| Rgles d'activation | 2 (:1 :1) | **6** (:3, :1, :2 dont 1 triple) |
| MT totales | 3 | **6** (3 legacy + 3 nouvelles) |
| MT contributives | 1 (STRUC) | **2** (STRUC:1, SEC:1) |
| Domaine  /  | 0 / 3 | 1 / 5 |
| ASR | 1 CAT partielle | CAT_01 partielle (SEC) + CAT_02 partielle (STRUC) |
| Reco prvention |  |  Propose |
| Checks OK | 2/8 | 5/8 ( 8/8 aprs validation) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 2 catgories identifies (surveillance, activits) |  Valid |
| 2 |  STD_02 : N20 = Parfois  CAT_01 |  Valid |
| 3 |  STD_03 : N20 = Oui  CAT_02 |  Valid |
| 4 |  CRIT_01 : Triple (N20 + O48 rare + O47 loin)  2 CAT |  Valid |
| 5 | MT_V1_043 (SEC CAT_01  contact MT) cre |  Valid |
| 6 | MT_V1_044 (ORGA CAT_01  valuer frquence) cre |  Valid |
| 7 | MT_V1_045 (INFO CAT_02  cartographier activits) cre |  Valid |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider wording Phase 1 (base MT + reco) |  Haute |
| 2 | Valider wording Phase 2 (versioning criticit) |  Haute |
| 3 | Valider reco prvention |  Haute |
| 4 | SEC pour CAT_02 (scuriser inscription accueil de jour) |  Moyenne |
| 5 | Valider propositions acteurs (Action 4) |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,H2=`#  Fiche de Validation MP  R4  Relation aidant / proche et acceptation de l'aide

> **Vulnrabilit** : V1  Social & Relationnel  
> **ASR** :  Amliorer la relation et faciliter l'acceptation de l'aide   
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V1

### Rpartition des 15 questions V1 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **R1** | Impact vie perso/pro | 3 | O27, O28, N7 | Retentissement de l'aidance sur la vie de l'aidant |
| **R2** | Soutien entourage | 4 | E1, E2, E3, N4 | Rseau de soutien, isolement aidant |
| **R3** | Isolement du proche | 3 | N20, O47, O48 | Vie sociale du proche aid |
| **R4** | Relation aidant/proche | 5 | E4, E5, E6, O30, O31 | Qualit de la relation, acceptation aide |

> **R4 est le MP le plus riche de V1** (5 questions, 16 MT). Il couvre la dimension RELATIONNELLE : la qualit du lien entre l'aidant et le proche aid, les tensions familiales, l'acceptation de l'aide extrieure, et la dtresse psychologique de l'aidant face aux changements de personnalit du proche. R4 = "comment va notre relation, accepte-t-il l'aide, et comment je vis ses changements".

---

## 0. DONNES FIGES  Questions rattaches  R4

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E4 | Depuis que vous aidez votre proche, comment a volu votre relation avec lui/elle ? | etat | Plutt renforce / plus proche / Globalement similaire / Plus tendue / plus complique / Difficile  dire |
| 2 | E5 | Existe-t-il des tensions ou des dsaccords au sein de la famille concernant la prise en charge de votre proche ? | etat | Non / Parfois / Oui |
| 3 | E6 | Votre proche accepte-t-il l'aide de personnes extrieures (aide  domicile, infirmier, structure, etc.) ? | facteur | Oui, facilement / Oui, mais avec des rticences / Non, il/elle refuse la plupart du temps / Je ne sais pas / nous n'avons pas encore essay |
| 4 | O30 | Avez-vous le sentiment de ne plus reconnatre la personne aide ? | facteur et etat | Pas du tout / Un peu / Oui |
| 5 | O31 | Avez-vous peur pour l'avenir de la personne aide ? | facteur et etat | Pas du tout / Un peu / Oui |

> Total : 5 questions rattaches  R4  le MP le plus riche de V1

###  Pourquoi ces 5 questions ?

**E4** mesure directement l'**volution de la relation**  c'est le marqueur central de R4. "Plus tendue / plus complique" = signal d'alarme relationnel. "Difficile  dire" est aussi proccupant : l'aidant ne sait plus o il en est dans la relation. La distinction avec "Globalement similaire" est cliniquement importante : similaire = stable, difficile  dire = confusion.

**E5** identifie les **tensions familiales** lies  la prise en charge. Attention : E5 ne parle pas de la relation AVEC le proche (c'est E4) mais des tensions AU SEIN de la famille. Les dsaccords entre frres et surs sur la prise en charge sont un facteur de stress supplmentaire pour l'aidant ET fragilisent le systme d'aide.

**E6** mesure l'**acceptation de l'aide extrieure** par le proche. C'est une question cl pour R4 car le refus d'aide impacte directement la relation : l'aidant doit tout faire seul, la charge augmente, les tensions montent. "Je ne sais pas" est un signal de non-exploration  l'aidant n'a pas encore tent de mettre en place de l'aide externe.

**O30** est un marqueur de **perte de reconnaissance identitaire**  c'est un des signaux psychologiques les plus forts du questionnaire. L'aidant ne reconnat plus la personne aide  rupture identitaire qui impacte profondment la relation. Ce n'est pas un symptme du proche (c'est V4/V5) mais un VCU de l'aidant face  la maladie.

**O31** mesure l'**anxit projete** vers le proche. La peur pour l'avenir n'est pas centre sur l'aidant lui-mme (ce serait R1/V3) mais sur LE PROCHE. C'est une inquitude relationnelle : "qu'est-ce qui va lui arriver et comment vais-je le vivre avec lui".

###  Analyse des 10 autres questions V1  Pourraient-elles appartenir  R4 ?

> Les questions et leurs options sont **figes**. L'objectif ici est uniquement de vrifier si l'affiliation actuelle est correcte.

#### Questions R1 (Impact vie perso/pro)

| Question | Libell | Pertinence R4 ? | Raisonnement |
|---|---|---|---|
| **O27** | Difficults dans la vie familiale ? |  **Dbattable** | Les difficults familiales POURRAIENT tre lies aux tensions relationnelles (E5). **Mais** : O27 mesure l'**impact** de l'aidance sur la vie familiale (consquence = R1), pas les **tensions** dans la famille autour de la prise en charge (dynamique = R4). Un aidant peut avoir des difficults familiales (O27) sans que ce soit li  des dsaccords sur la prise en charge (E5).  R1 reste juste. |
| **O28** | Difficults relations amis/loisirs/travail ? |  Non | Impact social/professionnel  R1 pur. Aucun lien avec la relation aidant/proche. |
| **N7** | Amnagement activit professionnelle ? |  Non | Impact professionnel  R1 pur. |

>  **Verdict R1** : O27 a un lien indirect (difficults familiales  tensions possibles) mais son sujet principal est l'impact, pas la relation. Aucune question R1 ne devrait tre dans R4.

#### Questions R2 (Soutien entourage)

| Question | Libell | Pertinence R4 ? | Raisonnement |
|---|---|---|---|
| **E1** | Rpartition de l'aide ? |  **Dbattable** | Une rpartition dsquilibre (E1 = "Je fais presque tout") peut ALIMENTER les tensions (E5). En effet, si l'aidant porte tout seul, les tensions familiales sont plus probables. **Mais** : E1 mesure la CHARGE (qui fait quoi = R2), pas le CONFLIT (tensions sur les dcisions = R4). Un aidant peut tout faire sans tensions (choix accept) ou ne rien faire et avoir des tensions (dsaccords de principe).  R2 reste juste. **En revanche** : E1 est utilise comme condition dans la rgle CCC_02 de R4 (cross-MP), ce qui capte ce signal crois sans rattacher E1  R4. |
| **E2** | Personnes en cas de coup dur ? |  Non | Filet de scurit de l'aidant  R2 pur. |
| **E3** | Autres personnes  charge ? |  Non | Multi-aidance / charge  R2 pur. |
| **N4** | Seule dans la famille ? |  Non | Structure du rseau d'aide  R2 pur. |

>  **Verdict R2** : E1 a un lien clinique avec E5 (charge  tensions) mais il est capt par la rgle CCC cross-MP, pas par un rattachement. Aucune question R2 ne devrait tre dans R4.

#### Questions R3 (Isolement du proche)

| Question | Libell | Pertinence R4 ? | Raisonnement |
|---|---|---|---|
| **N20** | Difficults du proche  maintenir des relations sociales ? |  **Dbattable** | Les difficults relationnelles du proche SE MANIFESTENT aussi dans la relation avec l'aidant. Si le proche ne maintient pas de relations stables (N20 = Oui), c'est peut-tre aussi compliqu avec l'aidant. **Mais** : N20 parle de relations SOCIALES (amis, voisins = R3), pas de la relation AVEC L'AIDANT (qui est un lien intime, pas social au sens large). Un proche peut tre isol socialement (N20 = Oui) tout en ayant une bonne relation avec l'aidant (E4 = Renforce).  R3 reste juste. |
| **O47** | Distance domicile |  Non | Facteur gographique fixe  R3 pur. |
| **O48** | Frquence des visites |  Non | Frquence de prsence  R3 pur. |

>  **Verdict R3** : N20 a un lien clinique indirect mais les relations sociales  la relation intime aidant/proche. Aucune question R3 ne devrait tre dans R4.

###  Synthse affiliation

| Question | MP actuel | Pertinence R4 ? | Confiance |
|---|---|---|---|
| O27 | R1 |  Lien indirect (difficults familiales)  R1 juste |  Moyenne |
| O28, N7 | R1 |  Non |  Haute |
| E1 | R2 |  Lien indirect (charge  tensions)  capt par CCC cross-MP |  Moyenne |
| E2, E3, N4 | R2 |  Non |  Haute |
| N20 | R3 |  Lien indirect (relations sociales  relation intime) |  Moyenne |
| O47, O48 | R3 |  Non |  Haute |

> **Conclusion** : Les 5 questions de R4 (E4, E5, E6, O30, O31) sont les bonnes. Aucune question V1 ne devrait tre ajoute  R4. Les liens indirects (O27, E1, N20) sont capts par les signaux croiss inter-MP, pas par un double rattachement.
>
> ** Point clinique R4** : R4 est le seul MP o les 5 questions sont complmentaires dans un "triangle relationnel" :
> - **E4 + E5** = dynamique de la relation (tat + tensions)
> - **E6** = comportement du proche face  l'aide (facteur aggravant)
> - **O30 + O31** = vcu psychologique de l'aidant (perception du changement + anxit)
>  Les 5 questions convergent vers le mme sujet (la relation) mais depuis des angles diffrents.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des recos legacy (R4_RECO_01 + R4_RECO_02) montre 3 axes cliniques distincts :
1. **Tensions relationnelles aidant/famille** (E4, E5)  mdiation, coute, communication
2. **Refus d'aide du proche** (E6)  comprhension des freins, approche progressive, mise en relation
3. **Dtresse psychologique de l'aidant** (O30, O31)  soutien psy, information sur la maladie

Ces 3 axes impliquent des acteurs diffrents (IDEC mdiateur vs psychologue), des temporalits diffrentes (mdiation = ponctuel vs soutien psy = continu), et des modes d'action diffrents (ngocier avec la famille vs accompagner l'aidant individuellement).

**Pourquoi pas 2 catgories ?**  Fusionner CAT_01 (tensions) et CAT_03 (dtresse psy) confondrait deux situations : les tensions relationnelles sont un problme INTERACTIONNEL (entre personnes) alors que la dtresse psychologique est un problme INDIVIDUEL (vcu personnel de l'aidant). Un aidant peut tre en dtresse (O30 = Oui) sans avoir de tensions (E5 = Non)  il souffre seul de la perte de reconnaissance.

**Pourquoi pas 4 catgories ?**  Sparer CAT_01 en "tensions avec le proche" (E4) et "tensions familiales" (E5) serait trop granulaire. E4 et E5 sont souvent lis : quand la relation aidant/proche se tend, c'est souvent parce que la famille est en conflit sur la prise en charge. La mdiation adresse les deux.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | R4_CAT_01 | Mdiation et apaisement des tensions | Accompagner la gestion des tensions familiales et relationnelles autour de la prise en charge | Legacy  |
| 2 | R4_CAT_02 | Facilitation de l'acceptation de l'aide | Comprendre les freins du proche au recours  l'aide extrieure et proposer une approche progressive | Legacy  |
| 3 | R4_CAT_03 | Soutien psychologique face au changement | Accompagner l'aidant dans la gestion de la perte de reconnaissance et de l'anxit pour l'avenir |  IA |

>  **Valid : 3 catgories** (mdiation, acceptation aide, soutien psychologique)

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

R4 est le MP avec le plus de combinaisons possibles (5 questions  options multiples). Les rgles legacy combinent principalement E6 (refus d'aide) avec O30/O31 (dtresse). On enrichit en couvrant les signaux prcoces (E4 = "Difficile  dire", E5 = "Parfois") et les combinaisons critiques multi-questions.

### Rappel des questions R4 et de leurs options

> **E4**   Comment a volu votre relation ? 
> - Plutt renforce / plus proche (score 0) / Globalement similaire (score 0) / **Plus tendue / plus complique** (score +1) / **Difficile  dire** (score +1)

> **E5**   Tensions ou dsaccords familiaux pour la prise en charge ? 
> - Non (score 0) / **Parfois** (score +1) / **Oui** (score +2)

> **E6**   Acceptation aide extrieure ? 
> - Oui, facilement (score 0) / Oui, mais avec rticences (score 0) / **Non, refuse la plupart du temps** (score +2) / Je ne sais pas (score 0)

> **O30**   Sentiment de ne plus reconnatre la personne aide ? 
> - Pas du tout (score 0) / **Un peu** (score +1) / **Oui** (score +2)

> **O31**   Peur pour l'avenir ? 
> - Pas du tout (score 0) / **Un peu** (score +1) / **Oui** (score +2)

---

### Catgorie 1  Mdiation et apaisement des tensions

####  Standard  \`V1_R4_STD_01\` _(legacy, rattribu)_

> **SI** l'aidant a rpondu  la question :
>  Votre proche accepte-t-il l'aide de personnes extrieures ? 
>  ** Non, il/elle refuse la plupart du temps **
>
> **ALORS** : Recommander la mdiation
>
> **Sens clinique** : Le refus systmatique d'aide extrieure est gnrateur de tensions dans la relation. L'aidant doit tout assumer  frustration  tensions. Mme sans tensions dclares (E5 = Non), le refus d'aide est un terrain propice.

####  Standard  \`V1_R4_STD_02\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  Tensions ou dsaccords familiaux ? 
>  ** Parfois **
>
> **ALORS** : Recommander la mdiation
>
> **Sens clinique** : Des tensions intermittentes sont un signal prcoce. Agir tt (coute, communication) peut viter l'installation du conflit chronique. La fentre d'intervention est ouverte.

####  CCC  \`V1_R4_CCC_01\` _(legacy)_

> **SI** l'aidant a rpondu :
> 1.  Sentiment de ne plus reconnatre ?   ** Oui **
> 2. **ET**  Comment a volu votre relation ?   ** Plus tendue / plus complique **
>
> **ALORS** : Recommander la mdiation  niveau CCC ( 30 jours)
>
> **Sens clinique** : La perte de reconnaissance COMBINE avec une relation dgrade est un signal de rupture du lien en cours. Le mcanisme : l'aidant ne reconnat plus la personne  il ne comprend plus ses ractions  les interactions deviennent tendues  cercle vicieux. La mdiation doit interrompre cette spirale.

####  CCC  \`V1_R4_CCC_02\` _(legacy)_

> **SI** l'aidant a rpondu :
> 1.  Tensions familiales ?   ** Oui **
> 2. **ET** (question R2)  Rpartition de l'aide ?   ** Je fais presque tout tensions/injustice ** ou ** Je suis totalement seule **
>
> **ALORS** : Recommander la mdiation  niveau CCC ( 30 jours)
>
> **Sens clinique** : Rgle cross-MP (R2  R4). Les tensions familiales SONT NOURRIES par la charge dsquilibre. L'aidant est en conflit avec sa famille PARCE QU'il fait tout seul. La mdiation doit adresser les deux dimensions : le conflit (R4) et la rpartition (R2).

####  Critique  \`V1_R4_CRIT_01\` _(legacy)_

> **SI** l'aidant a rpondu :
>  Votre proche accepte-t-il l'aide extrieure ? 
>  ** Non, il/elle refuse la plupart du temps **
>
> **ALORS** : Recommander la mdiation  niveau Critique ( 7 jours)
>
> **Sens clinique** : Le refus total compromet la scurit du proche ET l'quilibre de l'aidant. L'aidant est coinc : il ne peut ni dlguer ni souffler. Intervention urgente ncessaire  la mdiation doit impliquer le MT pour valuer si le refus est li  la pathologie.

---

### Catgorie 2  Facilitation de l'acceptation de l'aide

####  Standard  \`V1_R4_STD_03\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  Votre proche accepte-t-il l'aide extrieure ? 
>  ** Oui, mais avec des rticences **
>
> **ALORS** : Recommander la facilitation de l'acceptation
>
> **Sens clinique** : Le proche accepte mais freine. C'est le moment idal pour comprendre les freins et travailler en douceur. La fentre est ouverte  le proche n'est pas en refus total, il est ambivalent. Une approche progressive a de bonnes chances de succs.

####  Standard  \`V1_R4_STD_05\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  Votre proche accepte-t-il l'aide extrieure ? 
>  ** Je ne sais pas / nous n'avons pas encore essay **
>
> **ALORS** : Recommander la facilitation de l'acceptation
>
> **Sens clinique** : L'aidant n'a pas encore explor l'aide extrieure. C'est un signal de non-exploration  soit par mconnaissance, soit par peur du refus. L'IDEC doit ouvrir le sujet et accompagner la premire dmarche.

####  CCC  \`V1_R4_CCC_03\` _(legacy)_

> **SI** l'aidant a rpondu :
> 1.  Acceptation aide extrieure ?   ** Non, refuse la plupart du temps **
> 2. **ET**  Peur pour l'avenir ?   ** Oui **
>
> **ALORS** : Recommander la facilitation  niveau CCC ( 30 jours)
>
> **Sens clinique** : Le proche refuse l'aide ET l'aidant est angoiss pour l'avenir. La situation est bloque : l'aidant voit le proche se dgrader (O31 = Oui) mais ne peut pas mettre en place de l'aide (E6 = refuse). La frustration et l'impuissance amplifient l'anxit. Travailler sur l'acceptation peut dnouer les deux.

####  Critique  \`V1_R4_CRIT_01\` _(mme rgle que CAT_01)_

> **SI** E6 = ** Non, refuse la plupart du temps **
>
> **ALORS** : Recommander la facilitation  niveau Critique ( 7 jours)
>
> **Sens clinique** : Le refus total est le signal le plus fort de R4. Il active CAT_01 (mdiation) ET CAT_02 (facilitation) simultanment car les deux dmarches sont complmentaires : mdier pour apaiser + faciliter pour dbloquer.

---

### Catgorie 3  Soutien psychologique face au changement

####  Standard  \`V1_R4_STD_04\` _(NOUVEAU )_

> **SI** l'aidant a rpondu :
>  Sentiment de ne plus reconnatre ?   ** Un peu **
> **OU**  Peur pour l'avenir ?   ** Un peu **
>
> **ALORS** : Recommander le soutien psychologique
>
> **Sens clinique** : Premiers signaux de dtresse psychologique. "Un peu" = l'aidant commence  percevoir les changements chez le proche et/ou  s'inquiter. Intervenir  ce stade permet de normaliser le vcu (c'est attendu avec la maladie), informer (ce qui va venir), et proposer un espace de parole AVANT que la dtresse ne s'installe.

####  CCC  \`V1_R4_CCC_01\` _(mme rgle que CAT_01)_

> **SI** l'aidant a rpondu :
> 1.  Ne plus reconnatre ?   ** Oui **
> 2. **ET**  Relation ?   ** Plus tendue / plus complique **
>
> **ALORS** : Recommander le soutien psychologique  CCC ( 30 jours)
>
> **Sens clinique** : Perte de reconnaissance confirme + relation dgrade = l'aidant souffre de la transformation de la personne aide ET la relation en ptit. Le soutien psy doit aider l'aidant  faire le deuil de la "personne d'avant" tout en maintenant le lien.

####  Critique  \`V1_R4_CRIT_02\` _(NOUVEAU )_

> **SI** l'aidant a rpondu :
> 1.  Ne plus reconnatre ?   ** Oui **
> 2. **ET**  Peur pour l'avenir ?   ** Oui **
> 3. **ET**  Relation ?   ** Plus tendue / plus complique **
>
> **ALORS** : Activer les **3 catgories** en Critique ( 7 jours)  CAT_01 + CAT_02 + CAT_03
>
> **Sens clinique** : Triple signal de rupture  perte de reconnaissance + anxit maximale + relation dgrade. L'aidant est en grande dtresse, la relation est en crise, et le systme d'aide est probablement dfaillant. Mobilisation immdiate de tous les leviers : mdiation, facilitation de l'aide, soutien psy.

---

###  Dcisions Action 2

| # | Proposition | Dcision | Rgle cre |
|---|---|---|---|
| 1 |  STD_02 : E5 = Parfois  CAT_01 |  Valid | \`V1_R4_STD_02\` |
| 2 |  STD_03 : E6 = Rticences  CAT_02 |  Valid | \`V1_R4_STD_03\` |
| 3 |  STD_04 : O30/O31 = Un peu  CAT_03 |  Valid | \`V1_R4_STD_04\` |
| 4 |  STD_05 : E6 = Je ne sais pas  CAT_02 |  Valid | \`V1_R4_STD_05\` |
| 5 |  CRIT_02 : Triple (O30 + O31 + E4)  3 CAT |  Valid | \`V1_R4_CRIT_02\` |

>  **Contrle K3** : Chaque catgorie a  2 niveaux. Couverture complte.
>
> **Vrification couverture questions** :
> - E4  CCC_01, CRIT_02 
> - E5  STD_02, CCC_02 
> - E6  STD_01, STD_03, STD_05, CCC_03, CRIT_01 
> - O30  STD_04, CCC_01, CRIT_02 
> - O31  STD_04, CCC_03, CRIT_02 
>  Toutes les questions sont utilises dans  1 rgle 

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** : Les 16 MT taient rparties entre R4_RECO_01 (10 MT) et R4_RECO_02 (6 MT). L'architecture legacy regroupait tout sous 2 recos. On redistribue maintenant les 16 MT vers les 3 catgories selon leur action clinique relle. R4 est le MP avec le plus de MT de V1.

### CAT_01  Mdiation et apaisement des tensions

> Legacy : 5 MT issues de R4_RECO_01 thmatiquement lies aux tensions et  la mdiation. Aprs redistribution : **5 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_012 | changer sur les sources de tension identifies | ORGA | IDEC |  | Legacy |
| MT_V1_015 | Identifier les points de tension rcurrents | ORGA | IDEC |  | Legacy |
| MT_V1_014 | Informer sur les groupes de parole / soutien familial | INFO | IDEC |  | Legacy |
| MT_V1_016 | Proposer un entretien de mdiation familiale | STRUC | IDEC |  | Legacy |
| MT_V1_019 | Proposer un temps d'change avec le proche et l'aidant | SEC | IDEC |  | Legacy |

####  Pourquoi 5 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_012 (changer sur les tensions)  l'IDEC n'entend pas le vcu de l'aidant. C'est le point d'entre indispensable : l'aidant doit pouvoir nommer ce qui ne va pas.
- Sans MT_V1_015 (identifier les tensions rcurrentes)  on reste  la surface. Les tensions ponctuelles  les patterns installs. L'IDEC doit caractriser le conflit (est-ce toujours le mme sujet ? les mmes personnes ?).
- Sans MT_V1_014 (groupes de parole)  on reste dans le cercle priv. Les pairs aidants qui vivent les mmes tensions normalisent le vcu et ouvrent des perspectives.
- Sans MT_V1_016 (mdiation)  c'est l'action structurante cl. Sans mdiation formelle, les tensions restent dans l'informel et se chronicisent. C'est le seul STRUC de CAT_01.
- Sans MT_V1_019 (change aidant/proche)  on mdiatise la famille mais pas la relation directe. L'change aidant/proche est un moment SEC crucial pour restaurer le dialogue.

**Pourquoi pas 1 de plus ?**
-  valuer l'impact des tensions sur la sant de l'aidant   c'est du V3 (Sant aidant), pas R4. viter le doublon inter-V.
-  Organiser une thrapie familiale   c'est une option avance qui dpasse le scope IDEC. La mdiation (MT_V1_016) est le levier IDEC adapt.
- La chane est complte : ORGA (diagnostiquer  2)  INFO (orienter)  STRUC (structurer)  SEC (scuriser) 

### CAT_02  Facilitation de l'acceptation de l'aide

> Legacy : 5 MT issues de R4_RECO_01 thmatiquement lies au refus/acceptation de l'aide extrieure. Aprs redistribution : **5 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_018 | Comprendre les freins  l'acceptation de l'aide | ORGA | IDEC |  | Legacy |
| MT_V1_020 | Explorer les causes profondes du refus | ORGA | IDEC |  | Legacy |
| MT_V1_022 | Informer sur les types d'aides existantes et leurs modalits | INFO | IDEC |  | Legacy |
| MT_V1_021 | Proposer une approche progressive de l'aide | SEC | IDEC |  | Legacy |
| MT_V1_023 | Proposer une premire mise en relation avec un intervenant | SEC | IDEC |  | Legacy |

####  Pourquoi 5 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_018 (comprendre les freins)  on agit  l'aveugle. Le refus peut avoir 10 raisons diffrentes (peur de l'tranger, sentiment de dpossession, dni, honte). Chaque frein appelle une stratgie diffrente.
- Sans MT_V1_020 (causes profondes)  on reste aux freins de surface. L'IDEC doit creuser : est-ce un refus cognitif (le proche ne comprend pas), motionnel (il a peur), ou identitaire (accepter = admettre la dpendance) ?
- Sans MT_V1_022 (informer les types d'aide)  le proche (et l'aidant) ne connaissent peut-tre qu'un seul type d'aide (l'aide-mnagre). L'offre est bien plus large : aide  la personne, tlassistance, auxiliaire de vie, portage de repas a change la perception.
- Sans MT_V1_021 (approche progressive)  on propose tout d'un coup. Le refus est souvent li  l'irruption brutale. L'approche progressive (commencer par 1h/semaine, une tche spcifique) est la stratgie clinique valide.
- Sans MT_V1_023 (mise en relation)  on informe et on accompagne mais on ne concrtise pas. Le premier contact avec un intervenant est le moment cl : c'est l que le refus se confirme ou se lve.

**Pourquoi pas 1 de plus ?**
-  valuer la satisfaction aprs le premier contact   c'est du suivi N3, pas une MT d'activation.
-  Former le proche aux bnfices de l'aide   c'est un sous-aspect de MT_V1_022 (informer), pas une MT autonome.
- La chane est complte : ORGA (comprendre  2)  INFO (informer)  SEC (accompagner  2) 

### CAT_03  Soutien psychologique face au changement

> Legacy : 6 MT issues de R4_RECO_01 + R4_RECO_02 thmatiquement lies au vcu psychologique de l'aidant (O30, O31). Aprs redistribution : **6 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V1_035 | changer sur les changements observs chez le proche | ORGA | IDEC |  | Legacy |
| MT_V1_037 | Informer sur la maladie et son volution prvisible | INFO | IDEC |  | Legacy |
| MT_V1_038 | Orienter vers des groupes de parole pour aidants | INFO | IDEC |  | Legacy |
| MT_V1_017 | Orienter vers des dispositifs de soutien et de mdiation | INFO | IDEC |  | Legacy |
| MT_V1_013 | Proposer un accompagnement psychologique si besoin | SEC | Psychologue |  | Legacy |
| MT_V1_036 | Proposer un soutien psychologique adapt | SEC | Psychologue |  | Legacy |

####  Pourquoi 6 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V1_035 (changer sur les changements)  le point d'entre n'existe pas. L'aidant doit pouvoir nommer ce qu'il observe ("il ne me reconnat plus", "elle est agressive", "je ne le retrouve plus"). L'IDEC coute et normalise.
- Sans MT_V1_037 (informer sur la maladie)  l'aidant souffre de l'INCOMPRHENSION. "Pourquoi est-il comme a ?" est souvent plus douloureux que le changement lui-mme. Comprendre la maladie aide  accepter les changements.
- Sans MT_V1_038 (groupes de parole)  l'aidant reste seul avec son vcu. Les pairs aidants qui vivent la mme perte de reconnaissance sont une ressource therapeutique cliniquement valide.
- Sans MT_V1_017 (dispositifs)  on reste dans l'info gnrale. Les dispositifs spcialiss (France Alzheimer, France Parkinson, associations locales) offrent un soutien cibl.
- Sans MT_V1_013 (accompagnement psy)  pas de scurisation professionnelle. Le psychologue est indispensable quand la dtresse dpasse l'coute IDEC.
- Sans MT_V1_036 (soutien psy adapt)  redondance avec MT_V1_013 ? Non  MT_V1_013 = "proposer" (valuer le besoin), MT_V1_036 = "mettre en place" (concrtiser). Les deux sont ncessaires.

**Pourquoi pas 1 de plus ?**
-  valuer le risque dpressif   c'est du V3 (Sant aidant), pas R4. La dtresse relationnelle (R4) peut mener  la dpression (V3) mais l'valuation dpressive est un acte V3.
-  Proposer une thrapie de couple aidant/proche   trop spcialis et hors scope IDEC. La SEC via le psychologue (MT_V1_013/036) couvre ce besoin.
- La chane est complte : ORGA (couter)  INFO (informer  3)  SEC (scuriser  2) 

###  Dcisions Action 3

| # | Proposition | Dcision |
|---|---|---|
| 1 | Redistribution des 16 MT legacy vers 3 CAT |  Valid |
| 2 | Aucun ajout ncessaire (16 MT suffisent) |  Valid |

> **Condition ASR par catgorie** :
> - CAT_01 :  2 (STRUC + SEC)   ASR complte
> - CAT_02 :  2 (SEC  2)   ASR complte
> - CAT_03 :  2 (SEC  2)   ASR complte
>
>  **Total R4 : 16 MT** (toutes legacy, redistribues entre 3 CAT). R4 est le seul MP de V1 o TOUTES les catgories ont une chane ASR complte sans ajout. 
> 
> **Comparaison avec les autres MPs** :
> - R1 : 10 MT (7 legacy + 3 nouvelles)
> - R2 : 15 MT (14 legacy + 1 nouvelle)
> - R3 : 6 MT (3 legacy + 3 nouvelles)
> - **R4 : 16 MT (16 legacy, 0 nouvelles)**  le plus riche, 100% legacy

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs existants dans la DB** : \`IDEC\`, \`MT\` (mdecin traitant), \`Aidant (autonome)\`, \`AS\` (assistante sociale), \`Psychologue\`
> **Domaines** :  Mdical /  Mdico-social

### Tableau consolid des MT de R4 (final)

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V1_012 | changer sur les sources de tension | ORGA | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_015 | Identifier les tensions rcurrentes | ORGA | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_014 | Informer groupes de parole / soutien familial | INFO | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_016 | Proposer un entretien de mdiation | STRUC | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_019 | Temps d'change aidant/proche | SEC | IDEC |  Mdico-social |  | CAT_01 | Legacy |
| MT_V1_018 | Comprendre freins acceptation aide | ORGA | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_020 | Explorer causes profondes du refus | ORGA | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_022 | Informer types d'aides et modalits | INFO | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_021 | Approche progressive aide | SEC | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_023 | Mise en relation avec un intervenant | SEC | IDEC |  Mdico-social |  | CAT_02 | Legacy |
| MT_V1_035 | changes sur changements observs | ORGA | IDEC |  Mdico-social |  | CAT_03 | Legacy |
| MT_V1_037 | Informer maladie et volution | INFO | IDEC |  Mdical |  | CAT_03 | Legacy |
| MT_V1_038 | Orienter groupes de parole aidants | INFO | IDEC |  Mdico-social |  | CAT_03 | Legacy |
| MT_V1_017 | Dispositifs soutien/mdiation | INFO | IDEC |  Mdico-social |  | CAT_03 | Legacy |
| MT_V1_013 | Accompagnement psychologique | SEC | Psychologue |  Mdical |  | CAT_03 | Legacy |
| MT_V1_036 | Soutien psychologique adapt | SEC | Psychologue |  Mdical |  | CAT_03 | Legacy |

> **Rsum** :
> - Total MT : **16** (100% legacy redistribues)
> - Domaine  Mdico-social : **13 MT** / Domaine  Mdical : **3 MT** (MT_V1_037 + MT_V1_013 + MT_V1_036)
> - CAT_01 : 5 MT (2 contributives : STRUC + SEC)   ASR complte
> - CAT_02 : 5 MT (2 contributives : SEC  2)   ASR complte
> - CAT_03 : 6 MT (2 contributives : SEC  2)   ASR complte
> - Contributives () : 6  STRUC: 1, SEC: 5
> - Non-contributives () : 10  ORGA: 4, INFO: 6

###  Propositions d'amlioration  Types, acteurs et domaine

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V1_013 vs MT_V1_036** : distinguer clairement | MT_V1_013 =  valuer le besoin et proposer  (acte exploratoire). MT_V1_036 =  mettre en place le soutien  (acte de concrtisation). Les deux sont ncessaires mais le wording doit le clarifier. |
| 2 | **MT_V1_037  acteur double : IDEC + MT** | L'IDEC peut informer sur la maladie de faon gnrale mais les prcisions mdicales (volution, pronostic) requirent le MT. L'IDEC initie, le MT complte. |
| 3 | **Absence de STRUC en CAT_02 et CAT_03** | CAT_02 n'a que des SEC. Une MT STRUC (ex :  planifier un calendrier de mise en place progressive ) renforcerait la structuration.   en rserve. |
| 4 | **R4 a 2 Psychologue comme acteur** | R4 est le seul MP de V1 avec un acteur non-IDEC contributif. Cela reflte la dimension psychologique spcifique de R4 (O30, O31). |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording des 16 MT (IDEC + Utilisateur)

| MT_ID | CAT | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|---|
| MT_V1_012 | CAT_01 | changer sur les tensions | Ouvrir un espace d'coute pour que l'aidant exprime les tensions ressenties dans la relation | Parlez de ce qui vous pse dans votre relation avec votre proche ou votre famille |  |
| MT_V1_015 | CAT_01 | Identifier tensions rcurrentes | Identifier avec l'aidant les sources de conflit rcurrentes et leur contexte d'apparition | Rflchissez aux situations qui dclenchent rgulirement des tensions |  |
| MT_V1_014 | CAT_01 | Groupes de parole | Informer l'aidant sur les groupes de parole ou cafs aidants du territoire | Renseignez-vous sur les groupes de parole ou cafs aidants prs de chez vous |  |
| MT_V1_016 | CAT_01 | Mdiation familiale | Proposer et organiser un entretien de mdiation avec les membres de la famille impliqus | Accepteriez-vous un moment d'change organis avec votre famille pour apaiser les tensions ? |  |
| MT_V1_019 | CAT_01 | change aidant/proche | Proposer un temps de dialogue entre l'aidant et le proche, encadr par un professionnel | Acceptez-vous un change avec votre proche, accompagn par un professionnel ? |  |
| MT_V1_018 | CAT_02 | Comprendre les freins | Identifier avec l'aidant les raisons pour lesquelles le proche refuse l'aide extrieure | Essayez de comprendre pourquoi votre proche refuse l'aide extrieure |  |
| MT_V1_020 | CAT_02 | Causes profondes du refus | Explorer les causes sous-jacentes du refus (peur de l'tranger, dpossession, dni, honte) | Demandez-vous ce qui motive vraiment ce refus : peur, habitude, ou autre chose ? |  |
| MT_V1_022 | CAT_02 | Types d'aides existantes | Prsenter les diffrentes formes d'aide (aide  la personne, tlassistance, portage de repas, accueil de jour) | Dcouvrez les diffrentes formes d'aide possibles : il n'y a pas que l'aide  domicile |  |
| MT_V1_021 | CAT_02 | Approche progressive | Proposer une mise en place progressive de l'aide (1h/semaine, une tche spcifique) | Commencez par une aide ponctuelle et lgre pour que votre proche s'y habitue |  |
| MT_V1_023 | CAT_02 | Mise en relation intervenant | Organiser une premire rencontre entre le proche et un intervenant potentiel | Acceptez-vous de rencontrer un professionnel d'aide avec votre proche, sans engagement ? |  |
| MT_V1_035 | CAT_03 | Changements observs | Ouvrir un espace d'coute pour que l'aidant dcrive les changements observs chez le proche | Dcrivez les changements que vous observez chez votre proche : comportement, humeur, personnalit |  |
| MT_V1_037 | CAT_03 | Informer maladie/volution | Expliquer les changements lis  la maladie du proche et ce que l'aidant peut anticiper | Informez-vous sur la maladie de votre proche : comprendre les changements aide  les accepter |  |
| MT_V1_038 | CAT_03 | Groupes de parole aidants | Orienter vers des groupes de parole spcialiss (France Alzheimer, associations locales) | Rejoignez un groupe de parole o d'autres aidants vivent les mmes changements |  |
| MT_V1_017 | CAT_03 | Dispositifs soutien | Orienter vers les plateformes et dispositifs de soutien spcialiss | Renseignez-vous sur les plateformes de soutien aux aidants (ligne d'coute, associations) |  |
| MT_V1_013 | CAT_03 | Accompagnement psy | valuer le besoin d'un accompagnement psychologique et orienter vers un psychologue | Si le poids motionnel devient trop lourd, un psychologue peut vous aider  traverser cette priode |  |
| MT_V1_036 | CAT_03 | Soutien psy adapt | Mettre en place un suivi psychologique rgulier adapt au vcu de l'aidant | Acceptez-vous un suivi psychologique rgulier pour ne pas porter seul ce que vous vivez ? |  |

#### Wording des 3 Recos de base

| CAT | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | / |
|---|---|---|---|
| CAT_01 | Apaisement des tensions familiales et relationnelles | Organiser un espace de mdiation et de dialogue familial |  |
| CAT_02 | Acceptation progressive de l'aide extrieure | Comprendre les freins du proche et accompagner la mise en place progressive de l'aide |  |
| CAT_03 | Soutien face aux changements de personnalit du proche | Orienter vers un soutien psychologique adapt au vcu de la perte de reconnaissance |  |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit (Reco + MT)

#### CAT_01  Mdiation et apaisement des tensions

> Niveaux existants :  STD_01 + STD_02 /  CCC_01 + CCC_02 /  CRIT_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Communication familiale  renforcer | valuer les tensions et proposer un espace d'coute |
|  CCC ( 30j) | Mdiation familiale recommande | Organiser une mdiation familiale sous 30 jours |
|  Critique ( 7j) | Mdiation familiale urgente | Organiser une mdiation sous 7 jours et impliquer le MT |

**MT versionnes (contributives) :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_016 | Envisagez un change familial encadr | Organisez un change familial dans le mois | Organisez un change familial cette semaine |
| MT_V1_019 | Acceptez un moment de dialogue avec votre proche | Prvoyez un dialogue avec votre proche dans le mois | Organisez un dialogue avec votre proche cette semaine |

#### CAT_02  Facilitation de l'acceptation de l'aide

> Niveaux existants :  STD_03 + STD_05 /  CCC_03 /  CRIT_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Aide extrieure  envisager en douceur | Explorer les freins et informer sur l'offre d'aide |
|  CCC ( 30j) | Accompagnement progressif fortement recommand | Mettre en place une approche progressive sous 30 jours |
|  Critique ( 7j) | Acceptation de l'aide urgente | Intervenir en urgence pour dbloquer l'aide  impliquer le MT |

**MT versionnes (contributives) :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_021 | Commencez par une aide lgre et ponctuelle | Mettez en place une aide progressive dans le mois | Organisez une aide immdiate, mme minimale |
| MT_V1_023 | Rencontrez un professionnel d'aide sans engagement | Organisez une rencontre dans le mois | Organisez une rencontre cette semaine |

#### CAT_03  Soutien psychologique face au changement

> Niveaux existants :  STD_04 /  CCC_01 /  CRIT_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Soutien psychologique si besoin | Sensibiliser au soutien psy et informer sur la maladie |
|  CCC ( 30j) | Soutien psychologique recommand | Orienter vers un psychologue sous 30 jours |
|  Critique ( 7j) | Soutien psychologique urgent | Orienter vers un psychologue sous 7 jours |

**MT versionnes (contributives) :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V1_013 | Un psychologue peut vous aider si ncessaire | Prenez contact avec un psychologue dans le mois | Prenez contact avec un psychologue cette semaine |
| MT_V1_036 | Un suivi rgulier peut vous aider | Acceptez un suivi psychologique rgulier | Acceptez un suivi psychologique ds cette semaine |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP R4 n'est PAS activ (aucune rgle ne s'est dclenche = relation stable, aide accepte, pas de dtresse)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Votre relation avec votre proche semble prserve et l'aide est accepte. Restez attentif aux volutions : des tensions peuvent apparatre avec le temps ou l'volution de la maladie. N'hsitez pas  en parler si les choses changent.  |  La relation aidant-proche est actuellement stable. Aide extrieure accepte. Surveiller l'volution relationnelle au prochain suivi. Rester vigilant en cas de changement de situation (aggravation maladie, nouveau conflit familial, deuil).  |

**MT de prvention proposes :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| _(NOUVELLE)_ | Maintenir la communication avec le proche | INFO | Profiter du prochain contact pour valider la qualit de la communication aidant/proche | Continuez  changer rgulirement avec votre proche sur ses envies et ses besoins |
| _(NOUVELLE)_ | Anticiper les changements relationnels | ORGA | Renseigner les observations sur l'volution de la relation et de l'acceptation de l'aide | Prparez-vous aux changements possibles dans votre relation lis  l'volution de la maladie |
| _(NOUVELLE)_ | Prvenir l'usure relationnelle | ORGA | valuer les signes prcoces d'usure dans la relation (fatigue, irritabilit, distanciation) | Soyez attentif aux signes d'usure dans votre relation : irritabilit, envie de prendre de la distance |

> **Dcision Dr. Monka** :  Reco prvention valide |   reformuler

### 6.2  Checklist de cohrence (post-dcisions)

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  E4 faiblement couvert |  | E4  CCC_01, CRIT_02 |
| 2 | Chaque rgle d'activation  1 version de reco |  |  | 11 rgles  toutes lies  1 catgorie |
| 3 | Chaque catgorie de reco  ses MT assignes |  |  | CAT_01: 5 MT, CAT_02: 5 MT, CAT_03: 6 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | Chaque CAT a  Standard + CCC + Critique |
| 5 | Aucune MT orpheline |  |  | 16 MT toutes rattaches |
| 6 | Reco prvention prsente |  |  | Propose, en attente validation |
| 7 | Wording reco = conseil, MT = verbe d'action |  |  | Phase 1 + Phase 2 proposes |
| 8 | Sens clinique renseign pour chaque rgle |  |  | 11 rgles documentes |

> **Score** : **5/8 valids**, 2 en attente validation (prvention + wording), 1 OK
>
> Quand prvention et wording seront valids  **8/8** 

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 2 (sous 2 recos) | **3** (mdiation, acceptation, soutien psy) |
| Rgles d'activation | 4 (:1 :2 :1) | **11** (:5, :3, :3 dont 1 triple) |
| MT totales | 16 (sous 2 recos) | **16** (redistribues 3 CAT  100% legacy) |
| MT contributives | 6 (SEC:5, STRUC:1) | **6** (SEC:5, STRUC:1)  inchang |
| Domaine  /  | - | 3 / 13 |
| ASR | 2 CAT  | 3 CAT  (toutes compltes) |
| Reco prvention |  |  Propose (3 MT) |
| Checks OK | 3/8 | 5/8 ( 8/8 aprs validation) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories identifies (mdiation, acceptation, soutien psy) |  Valid |
| 2 |  STD_02 : E5 = Parfois  CAT_01 |  Valid |
| 3 |  STD_03 : E6 = Rticences  CAT_02 |  Valid |
| 4 |  STD_04 : O30/O31 = Un peu  CAT_03 |  Valid |
| 5 |  STD_05 : E6 = Je ne sais pas  CAT_02 |  Valid |
| 6 |  CCC_02 : E5 + E1 (cross-MP R2)  CAT_01 |  Valid |
| 7 |  CRIT_02 : Triple (O30 + O31 + E4)  3 CAT |  Valid |
| 8 | Redistribution des 16 MT legacy vers 3 CAT (0 ajouts) |  Valid |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider wording Phase 1 (base 16 MT + 3 recos) |  Haute |
| 2 | Valider wording Phase 2 (versioning criticit) |  Haute |
| 3 | Valider reco prvention (3 MT proposes) |  Haute |
| 4 | Clarifier distinction MT_V1_013 vs MT_V1_036 |  Moyenne |
| 5 | Valider propositions acteurs (Action 4) |  Moyenne |
| 6 | MT STRUC pour CAT_02 (planning d'aide progressive) |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,B2=`#  Fiche de Validation MP  A1  Couverture sant et protections juridiques

> **Vulnrabilit** : V2  Administrative  
> **ASR** :  Scuriser couverture sant et protections juridiques   
> **Signature** : A1-A : Couverture sant active  
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## CONTEXTE  Big Picture V2

### Rpartition des 18 questions V2 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **A1** | Couverture sant et protections juridiques | 4 | E21, E68, O23, O45 | Couverture sant aidant/proche + anticipation projet de vie |
| **A2** | Droits, aides et valuation dpendance | 5 | E62, N29, N42, O53, O54 | Droits ouverts, aides en cours, valuation AGGIR |
| **A3** | Charge et complexit des dmarches | 5 | E61, E66, E69, E70, N6 | Charge administrative, complexit perue, urgences |
| **A4** | Situation scolaire/professionnelle et budget | 7 | E63, E64, E65, E67, N43, N5, O61 | Inclusion scolaire/pro, accompagnement, budget |

> **A1 se concentre sur la PROTECTION** (couverture sant + capacit  maintenir la situation de vie) alors que A2 parle des DROITS CONCRETS (aides demandes/obtenues + valuation dpendance), A3 de la CHARGE ADMINISTRATIVE (complexit perue des dmarches, gestion de l'urgence), et A4 de l'INCLUSION ET DU BUDGET (scolarit, activit professionnelle du proche, moyens financiers). La frontire est fonctionnelle : A1 = "est-ce que la couverture de base est l ?", A2 = "quels droits sont activs ?", A3 = "est-ce que les dmarches m'accablent ?", A4 = "inclusion et viabilit financire".

---

## 0. DONNES FIGES  Questions rattaches  A1

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | O23 | Quelle couverture de sant protge la personne aide ? | facteur | Rgime gnral (ou spcial) et Mutuelle / Rgime gnral (ou spcial) / CMU |
| 2 | O45 | Quelle couverture de sant avez-vous ? | facteur | Rgime gnral (ou spcial) et Mutuelle / Rgime gnral (ou spcial) / CMU |
| 3 | E68 | Combien de temps consacrez-vous chaque mois aux dmarches administratives pour votre proche ? | facteur | Moins de 1h / Entre 1h et 5h / Plus de 5h |
| 4 | E21 | Pensez-vous qu'il sera possible de maintenir cette situation de vie sans changement majeur dans les prochains mois ? | facteur | Oui, probablement / Oui, mais cela risque d'tre difficile / Non, un changement sera ncessaire / Je ne sais pas |

> Total : 4 questions rattaches  A1

###  Pourquoi ces 4 questions ?

**O23** et **O45** forment un duo symtrique qui cartographie la couverture sant des deux cts de la relation d'aide :
- O23 = couverture sant du **proche aid** (est-il protg ?)
- O45 = couverture sant de l'**aidant** (se protge-t-il aussi ?)

 Elles sont dans A1 car elles mesurent un SOCLE DE PROTECTION, pas un droit spcifique (A2) ni une dmarche administrative (A3).

**E68** mesure le temps administratif mensuel. C'est un indicateur de la CHARGE GLOBALE. Il est dans A1 et pas A3 car il sert de dclencheur pour l'valuation de la viabilit de la situation (lien avec E21). A3 se concentre sur la complexit perue (E66) et les urgences (E70), pas sur le volume horaire.

>  **Point de dbat E68** : Cette question pourrait argumentablement tre dans A3 (Charge des dmarches). Le choix de la placer dans A1 se justifie par son rle de **dclencheur principal** des rgles CCC/Critique de A1 (combo E68 + E21). Si E68 tait dans A3, A1 perdrait son signal de gravit le plus fort.

**E21** mesure la capacit  maintenir la situation de vie sans changement majeur. C'est un marqueur d'ANTICIPATION et de VIABILIT  fondamental pour la scurisation (A1), pas pour les droits (A2) ni les dmarches (A3).

###  Analyse des 14 autres questions V2  Pourraient-elles appartenir  A1 ?

> Les questions et leurs options sont **figes**. L'objectif est uniquement de vrifier si l'affiliation actuelle est correcte.

#### Questions A2 (Droits, aides, valuation dpendance)

| Question | Libell | Pertinence A1 ? | Raisonnement |
|---|---|---|---|
| **E62** | Pour quels droits/aides avez-vous effectu une demande ? |  Non | Inventaire des droits demands = A2 pur. A1 couvre la couverture de base, pas la liste des droits activs. |
| **N29** | De quels droits/aides bnficiez-vous actuellement ? |  Non | Inventaire des droits obtenus = A2 pur. Mme logique que E62 mais ct acquis. |
| **N42** | Bnficie-t-elle d'une aide pour prestations sociales lies  une ALD ? |  Non | Droit spcifique (ALD + aide sociale)  A2 pur. |
| **O53** | La dpendance a-t-elle t value par les services sociaux (AGGIR) ? |  Non | valuation de dpendance = processus d'accs aux droits  A2 pur. |
| **O54** | Quel est le niveau de dpendance AGGIR ? |  Non | Score GIR = rsultat d'valuation  A2 pur. |

>  **Verdict A2** : Aucune question A2 ne devrait tre dans A1. A2 couvre les **droits concrets** (demands/obtenus). A1 couvre la **couverture de base** (sant + viabilit).

#### Questions A3 (Charge et complexit des dmarches)

| Question | Libell | Pertinence A1 ? | Raisonnement |
|---|---|---|---|
| **E61** | Le proche a-t-il rdig des directives anticipes ? |  **Dbattable** | Les directives anticipes touchent  la PROTECTION JURIDIQUE, thme central d'A1. **Mais** : cette question a t rattache  A3 car elle fait partie d'un ensemble de questions sur les dmarches (prparation, complexit). Le choix de la mettre dans A3 se justifie par le fait qu'elle mesure une DMARCHE ralise ou non, pas une couverture active. |
| **E66** | Les dmarches administratives vous paraissent-elles complexes ? |  Non | Perception de complexit = A3 pur. Pas de lien avec la couverture sant. |
| **E69** |  l'aise avec les dmarches administratives en ligne ? |  Non | Comptence numrique = A3 pur (capacit  faire les dmarches). |
| **E70** | Grer des dmarches dans l'urgence ? |  Non | Gestion d'urgence administrative = A3 pur (stress, dates limites). |
| **N6** | Une mesure de protection a-t-elle t mise en place ? |  **Dbattable** | Les mesures de protection (tutelle, curatelle, habilitation familiale) sont de la PROTECTION JURIDIQUE  thme A1. **Mais** : actuellement dans A3, ce qui se justifie moins bien. Candidat srieux pour un double rattachement ou un transfert vers A1. |

>  **Verdict A3** : Deux questions sont cliniquement dbattables :
> - **E61** (directives anticipes) : la dmarche est administrative ( A3) mais le sujet est la protection juridique ( A1). On conserve A3 mais on signale le lien.
> - **N6** (mesure de protection) : **fort candidat A1**  tutelle/curatelle/habilitation sont des protections juridiques pures.  Anomalie potentielle  discuter avec Dr. Monka.

#### Questions A4 (Situation scolaire/professionnelle et budget)

| Question | Libell | Pertinence A1 ? | Raisonnement |
|---|---|---|---|
| **E63** | Quelles dmarches vous proccupent le plus ? |  Non | Proccupation subjective sur les dmarches  A4 (proximit avec charge mentale, pas couverture sant). |
| **E64** | L'enfant peut-il frquenter une cole/structure adapte ? |  Non | Inclusion scolaire = A4 pur. |
| **E65** | Besoin d'un accompagnant spcialis (AESH, AVS) ? |  Non | Accompagnement scolaire/soins = A4 pur. |
| **E67** | Le proche a-t-il une activit adapte ? |  Non | Inclusion professionnelle du proche = A4 pur. |
| **N43** | Services d'accompagnement administratif dj utiliss ? |  Non | Historique de recours aux services sociaux  A4. |
| **N5** | Recours aux aides (rpit, formations, psy) ? |  Non | Recours aux services d'aide  A4. |
| **O61** | Moyens financiers suffisants ? |  Non | Viabilit financire = A4 pur. |

>  **Verdict A4** : Aucune question A4 ne devrait tre dans A1. A4 couvre l'**inclusion** et le **budget**, pas la couverture sant.

###  Synthse affiliation

| Question | MP actuel | Pertinence A1 ? | Confiance |
|---|---|---|---|
| E62, N29, N42, O53, O54 | A2 |  Non |  Haute |
| E66, E69, E70 | A3 |  Non |  Haute |
| E61 | A3 |  Dbattable (A3 justifi) |  Moyenne |
| **N6** | A3 |  **Fort candidat A1** |  Anomalie potentielle |
| E63, E64, E65, E67, N43, N5, O61 | A4 |  Non |  Haute |

> **Conclusion** : Les 4 questions de A1 (O23, O45, E68, E21) sont les bonnes. **N6 (mesure de protection)** est un candidat srieux pour A1 ou un double rattachement A1+A3. La question mrite une dcision Dr. Monka.
>
>  **Proposition** : Ajouter N6 comme question secondaire de A1 (double rattachement) sans la retirer de A3. La protection juridique (tutelle, curatelle) est le cur du thme "protections juridiques" de A1.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des questions et de la recommandation legacy (A1_RECO_01) montre 3 axes cliniques distincts :

1. **Vrification couverture sant**  O23 et O45 vrifient si aidant et proche sont couverts. L'action = identifier les lacunes de couverture et orienter vers une complmentaire ou la CMU si besoin.
2. **Anticipation du projet de vie**  E21 dtecte si la situation est viable. L'action = structurer la rflexion sur l'avenir (maintien  domicile, alternatives, dmarches prventives).
3. **Allgement de la charge administrative**  E68 mesure le temps admin. L'action = orienter vers un accompagnement pour rduire la charge.

>  **Observation** : La reco legacy A1_RECO_01 ("Favoriser la rflexion et l'anticipation du projet de vie") se concentre uniquement sur l'axe 2. Les axes 1 et 3 n'ont pas de reco legacy   crer.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | A1_CAT_01 | Scurisation de la couverture sant | Vrifier et complter la couverture sant de l'aidant et du proche |  Propos (bas sur O23, O45) |
| 2 | A1_CAT_02 | Anticipation du projet de vie | Structurer la rflexion sur le maintien de la situation et les alternatives | Legacy  (A1_RECO_01) |
| 3 | A1_CAT_03 | Accompagnement administratif | Orienter vers un accompagnement pour rduire la charge administrative |  Propos (bas sur E68) |

###  Pourquoi 3 catgories et pas 2 ou 4 ?

**Pas 2** : La couverture sant (CAT_01) et l'anticipation du projet de vie (CAT_02) sont cliniquement distincts. Un aidant peut avoir une bonne couverture mais une situation de vie non viable (E21 = "Non")  les deux actions sont indpendantes.

**Pas 4** : Ajouter une catgorie "Protection juridique" ddie  N6 serait prmatur tant que le rattachement de N6  A1 n'est pas valid. Et mme si N6 est ajout, la protection juridique peut tre une MT de CAT_02 (anticipation = inclut la mise en place de protections).

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

Les rgles legacy (V5_A1_*) utilisent E68 et E21 comme dclencheurs principaux. O23 et O45 ne dclenchent aucune rgle actuellement  **observation importante** (ces questions de couverture sant n'ont aucun impact sur les recommandations, elles servent uniquement  cartographier l'tat).

>  **Anomalie legacy** : Les IDs de rgles commencent par \`V5_A1_\` au lieu de \`V2_A1_\`. C'est un artefact de la migration. Les IDs corrects devraient tre \`V2_A1_\`.

### Rappel des questions A1 et de leurs options

> **O23**   Quelle couverture de sant protge la personne aide ? 
> -  Rgime gnral (ou spcial) et Mutuelle /  Rgime gnral (ou spcial) /  CMU

> **O45**   Quelle couverture de sant avez-vous ? 
> -  Rgime gnral (ou spcial) et Mutuelle /  Rgime gnral (ou spcial) /  CMU

> **E68**   Combien de temps consacrez-vous chaque mois aux dmarches administratives pour votre proche ? 
> -  Moins de 1h /  Entre 1h et 5h /  **Plus de 5h** (dclenchante)

> **E21**   Pensez-vous qu'il sera possible de maintenir cette situation de vie sans changement majeur dans les prochains mois ? 
> -  Oui, probablement /  Oui, mais cela risque d'tre difficile /  **Non, un changement sera ncessaire** /  **Je ne sais pas** (dclenchantes)

---

### Catgorie 1  Scurisation de la couverture sant

>  **Aucune rgle legacy pour cette catgorie.** O23 et O45 ne dclenchent actuellement aucune recommandation dans la DB  elles servent uniquement de cartographie.

####  Proposition de rgles  CAT_01

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V2_A1_STD_03 _(NOUVEAU)_ | O23 =  Rgime gnral (ou spcial)  **OU** O45 =  Rgime gnral (ou spcial)  | Recommander vrification couverture sant | Aidant ou proche sans mutuelle  accs aux soins potentiellement limit |  Propos |
|  CCC | V2_A1_CCC_02 _(NOUVEAU)_ | O23 =  CMU  **OU** O45 =  CMU  | Recommander scurisation couverture sant | CMU = prcarit. L'accs aux soins peut tre fragile  orientation AS |  Propos |
|  Critique | - | _(Aucune rgle critique propose)_ | - | La couverture sant seule ne justifie pas un niveau Critique si les soins de base sont assurs | - |

>  **Observation importante** : Ces rgles sont entirement nouvelles (aucun legacy). Elles exploitent des questions qui n'avaient AUCUNE action lie en DB.  valider cliniquement.

---

### Catgorie 2  Anticipation du projet de vie

####  Standard  \`V2_A1_STD_02\` _(legacy : V5_A1_STD_02)_

> **SI** l'aidant a rpondu  la question :
>  Pensez-vous qu'il sera possible de maintenir cette situation de vie sans changement majeur ? 
>  ** Non ** ou ** Je ne sais pas **
>
> **ALORS** : Recommander l'anticipation du projet de vie
>
> **Sens clinique** : L'aidant exprime une incertitude ou une impossibilit de maintien  besoin d'anticiper les changements  venir (hbergement, organisation, aides).

####  CCC  \`V2_A1_CCC_01\` _(legacy : V5_A1_CCC_01)_

> **SI** l'aidant a rpondu :
> 1.  Combien de temps consacrez-vous chaque mois aux dmarches administratives ?   ** Plus de 5h **
> 2. **ET**  Pensez-vous qu'il sera possible de maintenir cette situation ?   ** Non, un changement sera ncessaire ** ou ** Je ne sais pas **
>
> **ALORS** : Recommander l'anticipation du projet de vie  niveau CCC ( 30 jours)
>
> **Sens clinique** : Charge administrative excessive (>5h/mois) + incapacit  maintenir la situation = double signal de fragilit. Le projet de vie doit tre structur rapidement.

####  Critique  _aucune rgle legacy_

>  **Proposition CRIT pour CAT_02** : Pas de rgle Critique propose. La non-viabilit de la situation est grave mais ne constitue pas une urgence mdicale  7 jours. Le CCC (30 jours) est le niveau adapt.

---

### Catgorie 3  Accompagnement administratif

####  Standard  \`V2_A1_STD_01\` _(legacy : V5_A1_STD_01)_

> **SI** l'aidant a rpondu  la question :
>  Combien de temps consacrez-vous chaque mois aux dmarches administratives ? 
>  ** Entre 1h et 5h ** (GTE 1h)
>
> **ALORS** : Recommander un accompagnement administratif
>
> **Sens clinique** : Temps administratif mensuel  1h = signal de charge. Orienter vers un accompagnement pour optimiser les dmarches.

####  Critique  \`V2_A1_CRIT_01\` _(legacy : V5_A1_CRIT_01)_

> **SI** l'aidant a rpondu  la question :
>  Combien de temps consacrez-vous chaque mois aux dmarches administratives ? 
>  ** Plus de 5h **
>
> **ALORS** : Recommander un accompagnement administratif  niveau Critique ( 7 jours)
>
> **Sens clinique** : Plus de 5h/mois de dmarches administratives = charge incompatible avec le bien-tre de l'aidant. Urgence  dlguer.

>  **Observation K3** : CAT_03 n'a que 2 niveaux (Standard + Critique). Il manque un CCC. Le gap entre Standard (1h) et Critique (>5h) est important.

####  Proposition CCC  CAT_03

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V2_A1_CCC_03 _(NOUVEAU)_ | E68 =  Plus de 5h  **ET** E21 =  Oui, mais cela risque d'tre difficile  | Accompagnement administratif recommand ( 30j) | Charge >5h + risque de difficult  maintenir  le poids administratif fragilise une situation dj tendue |  Propos |

---

###  Dcisions Action 2

| # | Proposition | Dcision | Rgle concerne |
|---|---|---|---|
| 1 |  Standard CAT_01 (O23 ou O45 = Rgime gnral seul) |  Propos | \`V2_A1_STD_03\` |
| 2 |  CCC CAT_01 (O23 ou O45 = CMU) |  Propos | \`V2_A1_CCC_02\` |
| 3 |  CCC CAT_03 (E68 >5h + E21 difficile) |  Propos | \`V2_A1_CCC_03\` |

> **Contrle K3** :
> - CAT_01 :  Propos (STD + CCC = 2 niveaux)    valider
> - CAT_02 :  OK (STD + CCC = 2 niveaux)
> - CAT_03 :  legacy 2 niveaux (STD + CRIT), CCC propos  3 niveaux si valid
>
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** :  Aucune micro-tche n'existe en DB pour A1. La table \`micro_taches\` ne contient aucune MT lie aux questions E21, E68, O23, O45. Toutes les MT ci-dessous sont des **propositions nouvelles**.

### CAT_01  Scurisation de la couverture sant

> Legacy :  aucune MT. Propositions : **3 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A1_01 | Vrifier la couverture sant de l'aidant et du proche | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A1_02 | Informer sur les options de complmentaire sant (mutuelle, CSS) | INFO | IDEC |  | NOUVEAU  |
| MT_V2_A1_03 | Orienter vers la CPAM ou l'AS pour rgularisation si lacune identifie | SEC | IDEC |  | NOUVEAU  |

####  Pourquoi 3 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V2_A1_01 (vrifier)  on ne sait pas si la couverture est suffisante. L'IDEC recommande en aveugle.
- Sans MT_V2_A1_02 (informer)  l'aidant sait qu'il y a un problme mais ignore ses options. L'INFO est le pont entre le diagnostic et l'action.
- Sans MT_V2_A1_03 (orienter)  on diagnostique et on informe mais on ne scurise pas l'accs effectif. Le patient est laiss seul.

**Pourquoi pas 1 de plus ?**
- "Vrifier les droits AME"  trop spcifique, couvert par l'orientation CPAM (MT_V2_A1_03).
- "Contacter la mutuelle"  hors scope IDEC, c'est le rle de l'aidant aprs orientation.
- La chane est complte : ORGA (diagnostiquer)  INFO (informer)  SEC (scuriser).

### CAT_02  Anticipation du projet de vie

> Legacy : li  A1_RECO_01. Propositions : **4 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A1_04 | valuer la viabilit de la situation actuelle avec l'aidant | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A1_05 | Informer sur les options d'volution (maintien  domicile renforc, hbergement temporaire, EHPAD) | INFO | IDEC |  | NOUVEAU  |
| MT_V2_A1_06 | Structurer un plan d'anticipation avec l'aidant et les proches | STRUC | IDEC |  | NOUVEAU  |
| MT_V2_A1_07 | Orienter vers le service social ou le CLIC pour accompagnement projet de vie | SEC | IDEC/AS |  | Bas sur A1_RECO_01 Legacy |

####  Pourquoi 4 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V2_A1_04 (valuer viabilit)  comment anticiper si on n'a pas mesur la situation ? L'ORGA est le socle.
- Sans MT_V2_A1_05 (informer options)  l'aidant sait que a va mal mais ignore les alternatives. Blocage.
- Sans MT_V2_A1_06 (structurer plan)  on diagnostique et on informe mais pas de plan concret. L'aidant repart sans feuille de route.
- Sans MT_V2_A1_07 (orienter)  on a un plan mais pas de relais professionnel pour le mettre en uvre.

**Pourquoi pas 1 de plus ?**
- "Contacter l'EHPAD"  trop spcifique et prmatur au stade A1. L'orientation vers le service social (MT_V2_A1_07) couvre cette tape.
- "valuer les ressources financires"  couvert par A4 (O61). Pas de doublon inter-MP.

### CAT_03  Accompagnement administratif

> Legacy :  aucune MT. Propositions : **3 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A1_08 | Identifier les dmarches administratives en cours et  venir | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A1_09 | Informer sur les dispositifs d'aide aux dmarches (CCAS, MDPH, plateformes numriques) | INFO | IDEC |  | NOUVEAU  |
| MT_V2_A1_10 | Orienter vers un service d'accompagnement administratif (AS, CCAS, EAS) | SEC | IDEC |  | NOUVEAU  |

####  Pourquoi 3 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V2_A1_08 (identifier dmarches)  l'IDEC ne sait pas quelles dmarches psent sur l'aidant. Pas de ciblage.
- Sans MT_V2_A1_09 (informer dispositifs)  l'aidant ne connat pas les relais disponibles.
- Sans MT_V2_A1_10 (orienter)  on diagnostique et on informe mais on ne connecte pas  un service concret.

**Pourquoi pas 1 de plus ?**
- "Aide au remplissage de formulaires"  hors scope IDEC, c'est le rle de l'AS ou du CCAS une fois orient.
- "Crer un calendrier administratif"  trop spcifique, peut tre une sous-action de l'accompagnement (MT_V2_A1_10).

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | 3 MT pour CAT_01 (couverture sant) |  Propos | \`MT_V2_A1_01\`  \`MT_V2_A1_03\` |
| 2 | 4 MT pour CAT_02 (projet de vie) |  Propos | \`MT_V2_A1_04\`  \`MT_V2_A1_07\` |
| 3 | 3 MT pour CAT_03 (accompagnement admin) |  Propos | \`MT_V2_A1_08\`  \`MT_V2_A1_10\` |

> **Condition ASR par catgorie** :
> - CAT_01 :  1 (SEC)  ASR partielle
> - CAT_02 :  2 (STRUC + SEC)   ASR complte
> - CAT_03 :  1 (SEC)  ASR partielle
>
> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs existants dans la DB** : \`IDEC\`, \`MT\` (mdecin traitant), \`Aidant (autonome)\`, \`AS\` (assistante sociale)
> **Domaines** :  Mdical /  Mdico-social

### Tableau consolid des MT de A1 (final)

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V2_A1_01 | Vrifier couverture sant aidant et proche | ORGA | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A1_02 | Informer sur complmentaire sant / CSS | INFO | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A1_03 | Orienter vers CPAM/AS si lacune identifie | SEC | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A1_04 | valuer viabilit de la situation actuelle | ORGA | IDEC |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V2_A1_05 | Informer sur options d'volution | INFO | IDEC |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V2_A1_06 | Structurer plan d'anticipation | STRUC | IDEC |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V2_A1_07 | Orienter vers service social/CLIC | SEC | IDEC/AS |  Mdico-social |  | CAT_02 | Legacy  |
| MT_V2_A1_08 | Identifier dmarches en cours/ venir | ORGA | IDEC |  Mdico-social |  | CAT_03 | NOUVEAU  |
| MT_V2_A1_09 | Informer sur dispositifs d'aide aux dmarches | INFO | IDEC |  Mdico-social |  | CAT_03 | NOUVEAU  |
| MT_V2_A1_10 | Orienter vers accompagnement admin (AS/CCAS/EAS) | SEC | IDEC |  Mdico-social |  | CAT_03 | NOUVEAU  |

> **Rsum** :  
> - Total MT : **10** (1 legacy adapte + 9 nouvelles)  
> - Domaine  Mdical : **0 MT** / Domaine  Mdico-social : **10 MT**
> - Contributives () : **4**  SEC: 3, STRUC: 1  
> - Non-contributives () : **6**  INFO: 3, ORGA: 3

###  Observations

>  **Pas de MT mdicale (MED)** : A1 est un MP purement mdico-social. La couverture sant et les protections juridiques ne ncessitent pas d'acte mdical direct. C'est cohrent avec le primtre.

###  Propositions d'amlioration  Types, acteurs et domaine

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V2_A1_02  acteur Aidant (autonome)** | L'aidant peut se renseigner seul sur les complmentaires sant (comparateurs, CPAM en ligne). L'IDEC facilite mais l'aidant peut agir. |
| 2 | **MT_V2_A1_07  acteur AS** (au lieu de IDEC/AS) | L'AS est le professionnel lgitime pour l'accompagnement projet de vie. L'IDEC initie mais l'AS mne. |
| 3 | **Ajouter STRUC  CAT_01** | CAT_01 n'a pas de MT structurante. Proposition : ajouter une MT "tablir un bilan couverture sant" (STRUC) pour complter l'ASR. |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

> **Rgle de wording** :
> - **Reco** = conseil succinct. Pas une phrase, pas un verbe d'action. Un label court qui dit "quoi" sans dtailler "comment".
> - **MT** = action concrte. Verbe d'action des deux cts. L'aidant doit aussi tre pouss  agir.

#### Wording des 10 MT (IDEC + Utilisateur)

| MT_ID | CAT | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|---|
| MT_V2_A1_01 | CAT_01 | Vrifier couverture sant | Vrifier avec l'aidant la couverture sant (mutuelle, droit  la CSS) pour lui et son proche | Faites le point sur votre couverture sant et celle de votre proche |  |
| MT_V2_A1_02 | CAT_01 | Informer complmentaire | Informer sur les options de complmentaire sant (mutuelle, complmentaire sant solidaire) | Renseignez-vous sur les complmentaires sant adaptes  votre situation |  |
| MT_V2_A1_03 | CAT_01 | Orienter CPAM/AS | Orienter vers la CPAM ou l'assistante sociale si la couverture est insuffisante | Prenez contact avec la CPAM ou une assistante sociale pour rgulariser votre couverture |  |
| MT_V2_A1_04 | CAT_02 | valuer viabilit | valuer avec l'aidant la viabilit de sa situation de vie  moyen terme | Rflchissez  la prennit de votre organisation actuelle |  |
| MT_V2_A1_05 | CAT_02 | Informer options | Prsenter les alternatives d'organisation (maintien renforc, hbergement temporaire, accueil de jour) | Explorez les diffrentes options possibles pour l'avenir |  |
| MT_V2_A1_06 | CAT_02 | Structurer plan | Formaliser un plan d'anticipation avec l'aidant et les proches impliqus | laborez un plan d'anticipation avec vos proches |  |
| MT_V2_A1_07 | CAT_02 | Orienter service social | Organiser le contact avec le service social ou le CLIC pour accompagnement projet de vie | Prenez contact avec un service social pour tre accompagn dans votre projet de vie |  |
| MT_V2_A1_08 | CAT_03 | Identifier dmarches | Faire l'inventaire des dmarches administratives en cours et  planifier | Listez les dmarches administratives en cours et celles  prvoir |  |
| MT_V2_A1_09 | CAT_03 | Informer dispositifs | Informer sur les structures d'aide aux dmarches (CCAS, EAS, plateformes numriques) | Renseignez-vous sur les aides aux dmarches administratives prs de chez vous |  |
| MT_V2_A1_10 | CAT_03 | Orienter accompagnement | Orienter vers l'AS ou le CCAS pour accompagnement dans les dmarches | Prenez rendez-vous avec une assistante sociale ou le CCAS de votre commune |  |

#### Wording des 3 Recos de base

| CAT | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | / |
|---|---|---|---|
| CAT_01 | Vrification de votre couverture sant | Vrifier couverture sant aidant et proche |  |
| CAT_02 | Anticipation de votre projet de vie | Accompagner l'anticipation du projet de vie |  |
| CAT_03 | Accompagnement pour vos dmarches administratives | Orienter vers un accompagnement administratif |  |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit (Reco + MT)

#### CAT_01  Scurisation couverture sant

> Niveaux existants :  STD_03 /  CCC_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Vrification couverture sant conseille | Vrifier la couverture sant |
|  CCC ( 30j) | Couverture sant  scuriser | Scuriser la couverture sant sous 30 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |
|---|---|---|
| MT_V2_A1_01 | Faites le point sur votre couverture sant | Vrifiez rapidement votre couverture sant |
| MT_V2_A1_03 | Contactez la CPAM si besoin | Contactez la CPAM ou l'AS dans le mois |

#### CAT_02  Anticipation du projet de vie

> Niveaux existants :  STD_02 /  CCC_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Anticipation du projet de vie | Amorcer la rflexion sur le projet de vie |
|  CCC ( 30j) | Projet de vie  structurer rapidement | Structurer le projet de vie sous 30 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |
|---|---|---|
| MT_V2_A1_04 | Rflchissez  la prennit de votre organisation | valuez rapidement la viabilit de votre situation |
| MT_V2_A1_06 | laborez un plan avec vos proches | Formalisez un plan d'anticipation dans le mois |
| MT_V2_A1_07 | Prenez contact avec un service social si besoin | Contactez un service social rapidement |

#### CAT_03  Accompagnement administratif

> Niveaux existants :  STD_01 / ( CCC_03 propos) /  CRIT_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Aide aux dmarches disponible | Informer sur l'accompagnement administratif |
|  CCC ( 30j) | Accompagnement administratif recommand | Orienter vers un accompagnement admin sous 30 jours |
|  Critique ( 7j) | Accompagnement administratif urgent | Orienter en urgence vers un accompagnement admin |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V2_A1_08 | Listez vos dmarches en cours | Faites le point sur vos dmarches rapidement | Identifiez immdiatement les dmarches prioritaires |
| MT_V2_A1_10 | Prenez rendez-vous avec l'AS si besoin | Contactez l'AS ou le CCAS dans le mois | Contactez l'AS ou le CCAS cette semaine |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP A1 n'est PAS activ (aucune rgle ne s'est dclenche = couverture sant OK, situation viable, charge admin faible)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Votre couverture sant et votre situation semblent stables. Pensez  vrifier rgulirement vos droits et  anticiper les ventuels changements  venir.  |  Surveiller l'volution de la couverture sant et de la viabilit de la situation. Rvaluer au prochain suivi.  |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| _(NOUVELLE)_ | Rappeler l'importance de la couverture sant | INFO | Sensibiliser l'aidant  l'importance de maintenir une couverture sant complte | Vrifiez que votre mutuelle et celle de votre proche sont bien  jour |
| _(NOUVELLE)_ | Anticiper les changements de situation | ORGA | Aborder les perspectives d'volution lors du prochain suivi | Pensez aux changements qui pourraient survenir dans les prochains mois |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  |  | O23 et O45 : propositions nouvelles (). E21 et E68 :  legacy |
| 2 | Chaque rgle d'activation  1 version de reco |  |  | 7 rgles (4 legacy + 3 proposes)  toutes lies |
| 3 | Chaque catgorie de reco  ses MT assignes |  |  | CAT_01: 3 MT, CAT_02: 4 MT, CAT_03: 3 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | Chaque CAT a 2 niveaux (aprs propositions) |
| 5 | Aucune MT orpheline |  |  | 10 MT toutes rattaches |
| 6 | Reco prvention prsente |  |  | Propose, en attente validation |
| 7 | Wording reco = conseil, MT = verbe d'action |  |  | Phase 1 + Phase 2 proposes |
| 8 | Sens clinique renseign pour chaque rgle |  |  | 7 rgles documentes |

> **Score** : **4/8 valids**, 3 en attente validation, 1 partiel (O23/O45)

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 1 (projet de vie) | **3** (couverture sant, projet de vie, accompagnement admin) |
| Rgles d'activation | 4 (:2 :1 :1) | **7** (:3, :3, :1)  dont 3 proposes |
| MT totales | 0 | **10** (9 nouvelles + 1 legacy adapte) |
| MT contributives | 0 | **4** (STRUC:1, SEC:3) |
| Domaine  /  | - | 0  / 10  |
| ASR |  Vide | CAT_01 partielle + CAT_02  + CAT_03 partielle |
| Reco prvention |  |  Propose |
| Checks OK | 2/8 | 4/8 ( 8/8 aprs validations) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories identifies (couverture sant, projet de vie, accompagnement admin) |  Propos |
| 2 | N6 candidat pour double rattachement A1+A3 |  Propos   discuter |
| 3 | Nouvelles rgles CAT_01 (O23/O45) |  Propos |
| 4 | CCC CAT_03 (E68 >5h + E21 difficile) |  Propos |
| 5 | 10 MT cres avec chane ORGA  INFO  STRUC  SEC |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider les 3 catgories |  Haute |
| 2 | Valider le rattachement N6  A1 |  Haute |
| 3 | Valider les nouvelles rgles CAT_01 (couverture sant) |  Haute |
| 4 | Valider wording Phase 1 + Phase 2 |  Haute |
| 5 | Valider reco prvention |  Moyenne |
| 6 | Valider propositions types/acteurs |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,Q2=`#  Fiche de Validation MP  A2  Droits, aides et valuation dpendance

> **Vulnrabilit** : V2  Administrative  
> **ASR** :  Identifier et activer les droits mobilisables   
> **Signature** : A2-A : Aide financire active  
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## CONTEXTE  Big Picture V2

### Rpartition des 18 questions V2 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **A1** | Couverture sant et protections juridiques | 4 | E21, E68, O23, O45 | Couverture sant aidant/proche + anticipation projet de vie |
| **A2** | Droits, aides et valuation dpendance | 5 | E62, N29, N42, O53, O54 | Droits ouverts, aides en cours, valuation AGGIR |
| **A3** | Charge et complexit des dmarches | 5 | E61, E66, E69, E70, N6 | Charge administrative, complexit perue, urgences |
| **A4** | Situation scolaire/professionnelle et budget | 7 | E63, E64, E65, E67, N43, N5, O61 | Inclusion scolaire/pro, accompagnement, budget |

> **A2 se concentre sur les DROITS CONCRETS** : quelles aides ont t demandes (E62), lesquelles sont obtenues (N29), est-ce que l'ALD ouvre des prestations sociales (N42), et le niveau de dpendance est-il officiellement valu (O53, O54). Contrairement  A1 (couverture de BASE), A2 s'intresse au CATALOGUE DE DROITS mobiliss ou mobilisables. Contrairement  A3 (CHARGE des dmarches), A2 ne mesure pas la difficult mais l'TAT des droits. Et contrairement  A4 (INCLUSION + BUDGET), A2 ne couvre pas la viabilit financire globale mais les aides spcifiques.

---

## 0. DONNES FIGES  Questions rattaches  A2

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E62 | Pour quels droits/aides avez-vous effectu une demande qui est actuellement en cours ? | facteur | 23 options (APA, APL, MaPrimeAdapt', AAH, PCH, RQTH, etc.) + Aucun + Je ne sais pas |
| 2 | N29 | De quels droits/aides bnficiez-vous actuellement ? | facteur | 23 options (mme liste que E62) + Aucun + Je ne sais pas |
| 3 | N42 | Bnficie-t-elle dj d'une aide pour obtenir des prestations sociales en lien avec une ALD ? | facteur | Oui / Non / Je ne sais pas |
| 4 | O53 | La dpendance de la personne aide a-t-elle t value par les services sociaux ? (grille AGGIR) | facteur | Oui / Non / Je ne sais pas |
| 5 | O54 | Quel est son niveau de dpendance selon cette grille AGGIR ? | facteur | 1 / 2 / 3 / 4 / 5 / 6 / Je ne sais pas |

> Total : 5 questions rattaches  A2

###  Pourquoi ces 5 questions ?

**E62** et **N29** forment un duo symtrique qui cartographie l'tat des droits de l'aidant/proche :
- E62 = droits **en cours de demande** (processus actif)
- N29 = droits **dj obtenus** (acquis actif)

 Le croisement E62  N29 permet de calculer le **delta de droits** : ce qui est demand mais pas encore obtenu, et ce qui n'a mme pas t demand. C'est le cur du diagnostic A2.

**N42** ajoute une dimension spcifique : le lien entre ALD (Affection Longue Dure = maladie chronique) et prestations sociales. Un patient en ALD a potentiellement droit  l'AAH, la PCH, l'invalidit  N42 vrifie si ce lien a t exploit.

**O53** et **O54** forment un duo sur l'valuation officielle de la dpendance (grille AGGIR) :
- O53 = l'valuation a-t-elle t faite ? (oui/non)
- O54 = quel est le rsultat (GIR 1-6) ?

 L'valuation AGGIR est le ssame pour l'APA (Allocation Personnalise d'Autonomie). Sans elle, pas de financement de la dpendance.

###  Analyse des 13 autres questions V2  Pourraient-elles appartenir  A2 ?

#### Questions A1 (Couverture sant et protections juridiques)

| Question | Libell | Pertinence A2 ? | Raisonnement |
|---|---|---|---|
| **O23** | Couverture sant du proche |  Non | Couverture de base (Scu/mutuelle) = A1. Ce n'est pas un droit spcifique  mobiliser mais un socle de protection. |
| **O45** | Couverture sant de l'aidant |  Non | Mme logique. Couverture  droits spcifiques. |
| **E68** | Temps admin mensuel |  Non | Mesure la charge  A1/A3. A2 mesure l'tat des droits, pas le temps pass. |
| **E21** | Viabilit situation de vie |  Non | Projection  moyen terme  A1. A2 est factuel (droits oui/non), pas prospectif. |

>  **Verdict A1** : Aucune question A1 ne devrait tre dans A2.

#### Questions A3 (Charge et complexit des dmarches)

| Question | Libell | Pertinence A2 ? | Raisonnement |
|---|---|---|---|
| **E61** | Directives anticipes rdiges ? |  Non | Dmarche de protection juridique  A3/A1. Pas un droit financier. |
| **E66** | Complexit perue des dmarches |  Non | Ressenti  A3. A2 mesure des faits (droits obtenus), pas la perception. |
| **E69** | Aisance numrique |  Non | Comptence  A3. Pas li aux droits eux-mmes. |
| **E70** | Urgences administratives |  Non | Gestion de crise  A3. A2 = tat stable des droits. |
| **N6** | Mesure de protection en place ? |  **Dbattable** | Les mesures de protection (tutelle, curatelle) ouvrent des droits supplmentaires et impactent la gestion des aides. **Mais** : ces mesures sont des PROTECTIONS JURIDIQUES (A1 thmatiquement) et des DMARCHES (A3 par classement actuel), pas des aides financires (A2). On conserve A3. |

>  **Verdict A3** : Aucune question A3 ne devrait tre dans A2. N6 est dbattable mais reste mieux dans A3/A1.

#### Questions A4 (Situation scolaire/professionnelle et budget)

| Question | Libell | Pertinence A2 ? | Raisonnement |
|---|---|---|---|
| **E63** | Dmarches proccupantes |  Non | Proccupation subjective  A4. A2 = inventaire objectif des droits. |
| **E64** | Accs cole/structure adapte |  Non | Inclusion scolaire  A4. Pas un droit  mobiliser directement (mme si MDPH intervient, c'est A4 qui couvre l'inclusion). |
| **E65** | Besoin AESH/AVS ? |  Non | Accompagnement scolaire  A4. Le financement AESH passe par la MDPH mais la question porte sur le besoin, pas le droit. |
| **E67** | Activit adapte du proche |  Non | Inclusion professionnelle  A4. |
| **N43** | Services d'accompagnement admin utiliss ? |  **Dbattable** | Liste des services dj utiliss (MDPH, CCAS, AS). Proche de A2 (inventaire des ressources mobilises). **Mais** : N43 mesure l'HISTORIQUE DE RECOURS aux services, pas les droits obtenus. Ce sont les intermdiaires (qui aide), pas les rsultats (quels droits).  A4 reste cohrent. |
| **N5** | Aides utilises (rpit, formation, psy) |  Non | Utilisation de services  A4. Pas des droits au sens administratif. |
| **O61** | Moyens financiers suffisants ? |  Non | Budget global  A4. A2 = droits spcifiques, pas viabilit financire globale. |

>  **Verdict A4** : Aucune question A4 ne devrait tre dans A2. N43 est dbattable mais A4 reste plus cohrent (recours aux services  droits obtenus).

###  Synthse affiliation

| Questions | MP actuel | Pertinence A2 ? | Confiance |
|---|---|---|---|
| O23, O45, E68, E21 | A1 |  Non |  Haute |
| E61, E66, E69, E70 | A3 |  Non |  Haute |
| N6 | A3 |  Non (mais lien indirect via droits) |  Moyenne |
| E63, E64, E65, E67, N5, O61 | A4 |  Non |  Haute |
| N43 | A4 |  Dbattable (A4 justifi) |  Moyenne |

> **Conclusion** : Les 5 questions de A2 (E62, N29, N42, O53, O54) sont les bonnes. Aucune question V2 ne devrait tre ajoute  A2.
>
>  **Observation inter-MP** : Le croisement E62  N29 (A2) avec N43 (A4) et E66 (A3) permettrait une vue complte : quels droits sont ouverts (A2), par qui (A4), et est-ce que a pse (A3). Ce croisement est assur au niveau V2 global, pas au niveau MP individuel.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse de la recommandation legacy (A2_RECO_01) et des 5 questions montre 3 axes cliniques distincts :

1. **Activation des droits sociaux**  E62 et N29 permettent de dtecter les droits non demands ou non obtenus. L'action = identifier les lacunes et initier les dmarches manquantes. A2_RECO_01 legacy ("Demandez le financement de la perte d'autonomie via l'APA") s'inscrit dans cet axe.
2. **valuation de la dpendance (AGGIR)**  O53 et O54 dtectent si la dpendance a t officiellement value. L'valuation AGGIR est le prrequis pour l'APA et d'autres aides  c'est un axe distinct car sans elle, les droits du premier axe ne peuvent pas tre activs.
3. **Lien ALD et prestations sociales**  N42 dtecte si le lien entre la maladie chronique et les droits sociaux a t exploit. C'est un axe spcialis qui complte les deux premiers.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | A2_CAT_01 | Activation des droits et aides | Identifier les droits non mobiliss et initier les dmarches | Legacy  (A2_RECO_01) + E62/N29 |
| 2 | A2_CAT_02 | valuation de la dpendance (AGGIR) | Initier ou vrifier l'valuation officielle de la dpendance |  Propos (bas sur O53, O54) |
| 3 | A2_CAT_03 | Lien ALD et prestations sociales | Vrifier et activer le lien entre ALD et droits sociaux associs |  Propos (bas sur N42) |

###  Pourquoi 3 catgories et pas 2 ou 4 ?

**Pas 2 (fusionner CAT_02 et CAT_03 dans CAT_01)** : L'valuation AGGIR est un processus spcifique (intervention des services sociaux du dpartement, grille standardise, rsultat GIR 1-6). Elle mrite sa propre catgorie car les MT associes sont distinctes (demander l'valuation vs. demander une aide). De mme, le lien ALD-droits sociaux est un axe technique spcifique (AAH, invalidit, PCH lis  l'ALD) qui a ses propres MT.

**Pas 4 (sparer E62 et N29)** : Les droits "en cours" (E62) et "obtenus" (N29) sont grs par la mme catgorie CAT_01. Le delta (demand mais pas obtenu, ou pas encore demand) est calcul au sein de CAT_01. Pas besoin de deux catgories distinctes pour la mme action (activer les droits).

>  **T1  Cohrence inter-MP** : CAT_01 (activation droits) pourrait doublonner avec A1_CAT_03 (accompagnement administratif). La distinction est : A1_CAT_03 = orienter vers un accompagnement GLOBAL des dmarches. A2_CAT_01 = identifier et activer des DROITS SPCIFIQUES (APA, PCH, AAH). A1 oriente, A2 agit sur les droits.

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

Les rgles legacy (V5_A2_*) utilisent principalement E62 et O53 comme dclencheurs. N29 n'a aucune rgle legacy directe (elle sert  calculer le delta avec E62, pas  dclencher seule).

>  **Mme anomalie d'ID que A1** : Les IDs legacy sont \`V5_A2_*\` au lieu de \`V2_A2_*\`.

### Rappel des questions A2 et de leurs options

> **E62**   Pour quels droits/aides avez-vous effectu une demande actuellement en cours ?   
> - 23 options spcifiques (APA, APL, AAH, PCH, RQTH) / **Aucun** / **Je ne sais pas** (dclenchantes)

> **N29**   De quels droits/aides bnficiez-vous actuellement ?   
> - 23 options spcifiques (mme liste) / Aucun / Je ne sais pas

> **N42**   Bnficie-t-elle dj d'une aide pour obtenir des prestations sociales en lien avec une ALD ?   
> - Oui / **Non** / **Je ne sais pas** (dclenchantes)

> **O53**   La dpendance de la personne aide a-t-elle t value par les services sociaux ? (grille AGGIR)   
> - Oui / **Non** / **Je ne sais pas** (dclenchantes)

> **O54**   Quel est son niveau de dpendance selon cette grille AGGIR ?   
> - 1 / 2 / 3 / 4 / 5 / 6 / Je ne sais pas

---

### Catgorie 1  Activation des droits et aides

####  Standard  \`V2_A2_STD_01\` _(legacy : V5_A2_STD_01)_

> **SI** l'aidant a rpondu  la question :
>  Pour quels droits/aides avez-vous effectu une demande ? 
>  ** Aucun ** ou ** Je ne sais pas **
>
> **ALORS** : Recommander l'exploration des droits mobilisables
>
> **Sens clinique** : Aucun droit demand ou aidant ignorant de ses droits  besoin d'information et d'orientation pour activer les droits potentiels.

####  Critique  \`V2_A2_CRIT_01\` _(legacy : V5_A2_CRIT_01)_

> **SI** l'aidant a rpondu  la question :
>  Pour quels droits/aides avez-vous effectu une demande ? 
>  ** Aucun ** (pas "Je ne sais pas", mais explicitement "Aucun")
>
> **ALORS** : Recommander l'activation des droits  niveau Critique ( 7 jours)
>
> **Sens clinique** : Aucun droit engag malgr un besoin (le patient est valu dans V2)  risque de rupture financire et sociale. L'absence de toute dmarche est plus grave que l'ignorance ("Je ne sais pas").

####  CCC  \`V2_A2_CCC_01\` _(legacy : V5_A2_CCC_01)_

> **SI** l'aidant a rpondu :
> 1.  Pour quels droits/aides avez-vous effectu une demande ?   ** Aucun ** ou ** Je ne sais pas **
> 2. **ET**  La dpendance a-t-elle t value ? (AGGIR)   ** Non ** ou ** Je ne sais pas **
>
> **ALORS** : Recommander l'activation des droits  niveau CCC ( 30 jours)
>
> **Sens clinique** : Absence de droits ouverts + dpendance non value = double carence. Le patient est potentiellement en perte d'autonomie non reconnue officiellement  urgence  initier le processus complet (valuation + droits).

>  **Observation** : La rgle CCC est plus svre que la rgle Standard (2 conditions vs. 1) mais MOINS svre que la Critique (qui ne ncessite que "Aucun" explicite). La logique est :
> - Standard = aucun droit ou ignorance  informer
> - CCC = aucun droit + pas d'valuation  agir sous 30j (double carence)
> - Critique = aucun droit explicitement  agir sous 7j (refus ou mconnaissance totale)

####  Proposition  \`V2_A2_STD_04\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> E62 contient au moins 1 droit **ET** N29 =  Aucun  ou  Je ne sais pas 
>
> **ALORS** : Recommander le suivi des droits en cours
>
> **Sens clinique** : Des droits sont en cours de demande mais aucun n'est encore obtenu. L'aidant est dans une phase d'attente qui peut tre longue  besoin de suivi et de relance ventuelle.

---

### Catgorie 2  valuation de la dpendance (AGGIR)

####  Standard  \`V2_A2_STD_02\` _(legacy : V5_A2_STD_02)_

> **SI** l'aidant a rpondu  la question :
>  La dpendance a-t-elle t value par les services sociaux (AGGIR) ? 
>  ** Non ** ou ** Je ne sais pas **
>
> **ALORS** : Recommander l'valuation de la dpendance
>
> **Sens clinique** : valuation AGGIR non ralise  le niveau de dpendance du proche n'est pas officiellement reconnu. Sans cette valuation, pas d'APA possible (l'APA est conditionne au GIR 1-4).

####  Proposition CCC  \`V2_A2_CCC_02\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> 1.  La dpendance a-t-elle t value (AGGIR) ?   ** Non ** ou ** Je ne sais pas **
> 2. **ET** E62 contient  Allocation personnalise d'autonomie (APA) 
>
> **ALORS** : Recommander l'valuation AGGIR  niveau CCC ( 30 jours)
>
> **Sens clinique** : L'aidant a demand l'APA mais la dpendance n'a pas t value. L'APA ne peut pas tre accorde sans valuation AGGIR  incohrence administrative  rsoudre rapidement.

####  Proposition Critique  \`V2_A2_CRIT_02\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> 1. O53 = ** Non ** **ET** O54 = **non applicable** (pas de rponse GIR)
> 2. **ET** E62 = ** Aucun **
>
> **ALORS** : Recommander l'valuation AGGIR  niveau Critique ( 7 jours)
>
> **Sens clinique** : Aucune valuation ET aucun droit demand = situation de carence totale. Le proche est potentiellement dpendant sans aucune prise en charge administrative.

---

### Catgorie 3  Lien ALD et prestations sociales

####  Standard  \`V2_A2_STD_03\` _(NOUVEAU)_

> **SI** l'aidant a rpondu  la question :
>  Bnficie-t-elle dj d'une aide pour prestations sociales lies  une ALD ? 
>  ** Non ** ou ** Je ne sais pas **
>
> **ALORS** : Recommander l'exploration du lien ALD-prestations
>
> **Sens clinique** : Le proche a une ALD mais le lien avec les prestations sociales (AAH, invalidit, PCH) n'a pas t exploit ou est inconnu  besoin d'information.

>  **Observation** : N42 est une question conditionnelle (elle n'apparat que si N41 = rponse 1, c'est--dire si le proche a bien une ALD). Donc si N42 est  Non  ou  Je ne sais pas , c'est que l'ALD est confirme mais les droits associs ne sont pas activs.

####  Proposition CCC  \`V2_A2_CCC_03\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> 1. N42 = ** Non ** ou ** Je ne sais pas **
> 2. **ET** E62 = ** Aucun ** (aucune demande en cours)
>
> **ALORS** : Recommander l'activation du lien ALD-prestations  niveau CCC ( 30 jours)
>
> **Sens clinique** : ALD confirme + aucun droit demand = le patient passe  ct de prestations auxquelles il a potentiellement droit (AAH, PCH). Urgence modre  orienter vers la MDPH ou l'AS.

---

###  Dcisions Action 2

| # | Proposition | Dcision | Rgle concerne |
|---|---|---|---|
| 1 |  Standard Delta droits (E62 en cours + N29 = Aucun) |  Propos | \`V2_A2_STD_04\` |
| 2 |  CCC CAT_02 (O53 Non + APA demande) |  Propos | \`V2_A2_CCC_02\` |
| 3 |  Critique CAT_02 (O53 Non + E62 Aucun) |  Propos | \`V2_A2_CRIT_02\` |
| 4 |  Standard CAT_03 (N42 Non/NSP) |  Propos | \`V2_A2_STD_03\` |
| 5 |  CCC CAT_03 (N42 Non/NSP + E62 Aucun) |  Propos | \`V2_A2_CCC_03\` |

> **Contrle K3** :
> - CAT_01 :  OK (STD + CCC + CRIT = 3 niveaux legacy + 1 propos)
> - CAT_02 :  OK si propositions valides (STD legacy + CCC + CRIT proposs = 3 niveaux)
> - CAT_03 :  OK si propositions valides (STD + CCC proposs = 2 niveaux)
>
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** :  Aucune micro-tche n'existe en DB pour les questions de A2 (E62, N29, N42, O53, O54). Toutes les MT ci-dessous sont des **propositions nouvelles**.

### CAT_01  Activation des droits et aides

> Legacy :  aucune MT. Propositions : **4 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A2_01 | Raliser un bilan des droits ouverts et manquants | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A2_02 | Informer sur les droits mobilisables selon la situation | INFO | IDEC |  | NOUVEAU  |
| MT_V2_A2_03 | Prparer un dossier de demande pour les droits prioritaires | STRUC | IDEC/AS |  | NOUVEAU  |
| MT_V2_A2_04 | Orienter vers l'AS ou la MDPH pour le montage du dossier | SEC | IDEC |  | Bas sur A2_RECO_01 Legacy |

####  Pourquoi 4 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V2_A2_01 (bilan droits)  on ne sait pas quels droits manquent. L'IDEC agit en aveugle.
- Sans MT_V2_A2_02 (informer)  l'aidant sait qu'il manque des droits mais ignore lesquels. L'INFO est indispensable.
- Sans MT_V2_A2_03 (prparer dossier)  on identifie et on informe mais rien n'est structur. L'aidant repart sans document concret.
- Sans MT_V2_A2_04 (orienter)  le dossier est prt mais personne ne scurise le dpt. Risque d'abandon.

**Pourquoi pas 1 de plus ?**
- "Suivre l'avancement des demandes"  c'est du suivi post-action, pas une MT d'activation. Couvert par la question de suivi (D_suivi).
- "Informer sur les recours en cas de refus"  trop spcifique et prmatur au stade de la demande initiale.
- La chane est complte : ORGA (diagnostiquer)  INFO (informer)  STRUC (prparer)  SEC (orienter).

### CAT_02  valuation de la dpendance (AGGIR)

> Legacy :  aucune MT. Propositions : **3 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A2_05 | Vrifier si l'valuation AGGIR a t ralise | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A2_06 | Informer sur le processus d'valuation AGGIR et ses implications (APA) | INFO | IDEC |  | NOUVEAU  |
| MT_V2_A2_07 | Initier la demande d'valuation auprs du Conseil Dpartemental | SEC | IDEC/AS |  | NOUVEAU  (bas sur A2_RECO_01 : "Variable selon les dpartements") |

####  Pourquoi 3 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V2_A2_05 (vrifier)  la rponse O53 peut tre imprcise. L'IDEC doit confirmer.
- Sans MT_V2_A2_06 (informer AGGIR)  l'aidant ne comprend pas l'enjeu de l'valuation. L'INFO motive la dmarche.
- Sans MT_V2_A2_07 (initier demande)  on sait que c'est  faire mais personne ne scurise la demande.

**Pourquoi pas 1 de plus ?**
- "Prparer le domicile pour la visite AGGIR"  trop spcifique, peut tre une sous-action de MT_V2_A2_07.
- "Contester le rsultat GIR"  action de recours, hors scope de l'activation initiale.
- La chane est complte : ORGA (vrifier)  INFO (informer)  SEC (scuriser).

>  **Observation** : Pas de MT STRUC dans CAT_02. L'valuation AGGIR est un processus externe (le Conseil Dpartemental envoie un valuateur). L'IDEC n'a pas de document  "structurer" mais un processus  "scuriser" (initier la demande).

### CAT_03  Lien ALD et prestations sociales

> Legacy :  aucune MT. Propositions : **3 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A2_08 | Vrifier l'existence d'une ALD et les prestations sociales lies | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A2_09 | Informer sur les droits ouverts par l'ALD (AAH, invalidit, PCH) | INFO | IDEC |  | NOUVEAU  |
| MT_V2_A2_10 | Orienter vers la MDPH ou l'AS pour activation des prestations ALD | SEC | IDEC |  | NOUVEAU  |

####  Pourquoi 3 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V2_A2_08 (vrifier ALD)  on ne sait pas si l'ALD est confirme. N42 est conditionnelle  N41.
- Sans MT_V2_A2_09 (informer droits ALD)  l'aidant ignore les droits spcifiques ouverts par l'ALD. Le lien ALD  AAH/PCH n'est pas vident.
- Sans MT_V2_A2_10 (orienter MDPH)  on identifie les droits mais personne ne scurise l'accs.

**Pourquoi pas 1 de plus ?**
- "Prparer le dossier MDPH"  couvert par CAT_01 (MT_V2_A2_03 = prparer dossier). T1 : pas de doublon inter-CAT.
- La chane est complte : ORGA (vrifier)  INFO (informer)  SEC (orienter).

###  Dcisions Action 3

| # | Proposition | Dcision | MT cres |
|---|---|---|---|
| 1 | 4 MT pour CAT_01 (activation droits) |  Propos | \`MT_V2_A2_01\`  \`MT_V2_A2_04\` |
| 2 | 3 MT pour CAT_02 (valuation AGGIR) |  Propos | \`MT_V2_A2_05\`  \`MT_V2_A2_07\` |
| 3 | 3 MT pour CAT_03 (lien ALD) |  Propos | \`MT_V2_A2_08\`  \`MT_V2_A2_10\` |

> **Condition ASR par catgorie** :
> - CAT_01 :  2 (STRUC + SEC)   ASR complte
> - CAT_02 :  1 (SEC)  ASR partielle (pas de STRUC)
> - CAT_03 :  1 (SEC)  ASR partielle (pas de STRUC)
>
> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs existants dans la DB** : \`IDEC\`, \`MT\` (mdecin traitant), \`Aidant (autonome)\`, \`AS\` (assistante sociale)
> **Nouveaux acteurs potentiels** : \`Conseil Dpartemental\`, \`MDPH\`
> **Domaines** :  Mdical /  Mdico-social

### Tableau consolid des MT de A2 (final)

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V2_A2_01 | Bilan des droits ouverts et manquants | ORGA | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A2_02 | Informer sur les droits mobilisables | INFO | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A2_03 | Prparer dossier de demande droits prioritaires | STRUC | IDEC/AS |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A2_04 | Orienter vers AS/MDPH pour montage dossier | SEC | IDEC |  Mdico-social |  | CAT_01 | Legacy  |
| MT_V2_A2_05 | Vrifier si valuation AGGIR ralise | ORGA | IDEC |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V2_A2_06 | Informer sur processus AGGIR et implications APA | INFO | IDEC |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V2_A2_07 | Initier demande d'valuation auprs Conseil Dpartemental | SEC | IDEC/AS |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V2_A2_08 | Vrifier existence ALD et prestations lies | ORGA | IDEC |  Mdico-social |  | CAT_03 | NOUVEAU  |
| MT_V2_A2_09 | Informer sur droits ouverts par l'ALD | INFO | IDEC |  Mdico-social |  | CAT_03 | NOUVEAU  |
| MT_V2_A2_10 | Orienter vers MDPH/AS pour activation prestations ALD | SEC | IDEC |  Mdico-social |  | CAT_03 | NOUVEAU  |

> **Rsum** :  
> - Total MT : **10** (1 legacy adapte + 9 nouvelles)  
> - Domaine  Mdical : **0 MT** / Domaine  Mdico-social : **10 MT**
> - Contributives () : **4**  SEC: 3, STRUC: 1  
> - Non-contributives () : **6**  INFO: 3, ORGA: 3

###  Observations

>  **100% Mdico-social** : Comme A1, A2 est un MP purement administratif/mdico-social. Aucun acte mdical n'est requis. La seule MT qui touche au mdical est indirecte : MT_V2_A2_08 (vrifier ALD) qui ncessite une information mdicale mais qui est ralise par l'IDEC, pas le MT.

###  Propositions d'amlioration

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V2_A2_03  acteur AS** (principal) | La prparation d'un dossier MDPH est une comptence AS. L'IDEC initie mais l'AS mne techniquement. |
| 2 | **MT_V2_A2_07  acteur Conseil Dpartemental** _(nouvel acteur)_ | La demande d'valuation AGGIR est une comptence du Conseil Dpartemental. L'IDEC facilite mais le CD value. |
| 3 | **Ajouter STRUC  CAT_02** | CAT_02 n'a pas de MT structurante. Proposition : "Prparer les documents ncessaires  l'valuation AGGIR" (STRUC). |
| 4 | **Ajouter STRUC  CAT_03** | CAT_03 n'a pas de MT structurante. Proposition : "Compiler les justificatifs ALD pour le dossier MDPH" (STRUC). |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording des 10 MT (IDEC + Utilisateur)

| MT_ID | CAT | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|---|
| MT_V2_A2_01 | CAT_01 | Bilan des droits | Raliser un bilan des droits ouverts et des droits potentiellement mobilisables pour l'aidant et le proche | Faites le point sur les aides et droits dont vous bnficiez et ceux que vous pourriez demander |  |
| MT_V2_A2_02 | CAT_01 | Informer droits | Informer l'aidant sur les droits mobilisables selon sa situation (APA, PCH, AAH, RQTH, CMI) | Renseignez-vous sur les aides auxquelles vous pourriez avoir droit |  |
| MT_V2_A2_03 | CAT_01 | Prparer dossier | Prparer le dossier de demande pour le ou les droits prioritaires identifis lors du bilan | Commencez  rassembler les documents ncessaires pour votre demande d'aide |  |
| MT_V2_A2_04 | CAT_01 | Orienter AS/MDPH | Organiser le contact avec l'assistante sociale ou la MDPH pour le montage du dossier | Prenez contact avec une assistante sociale ou la MDPH pour tre accompagn |  |
| MT_V2_A2_05 | CAT_02 | Vrifier AGGIR | Confirmer avec l'aidant si une valuation officielle de la dpendance (grille AGGIR) a bien t ralise | Vrifiez si le niveau de dpendance de votre proche a t officiellement valu |  |
| MT_V2_A2_06 | CAT_02 | Informer AGGIR | Expliquer l'importance de l'valuation AGGIR : c'est le prrequis pour l'APA et d'autres aides | Comprenez pourquoi l'valuation de dpendance est importante pour accder aux aides |  |
| MT_V2_A2_07 | CAT_02 | Initier valuation | Contacter le Conseil Dpartemental pour initier une demande d'valuation AGGIR. Procdures variables selon les dpartements. | Demandez au Conseil Dpartemental d'valuer le niveau de dpendance de votre proche |  |
| MT_V2_A2_08 | CAT_03 | Vrifier ALD | Vrifier si le proche est reconnu en ALD et si les prestations sociales associes ont t actives | Vrifiez si la maladie chronique de votre proche ouvre des droits sociaux supplmentaires |  |
| MT_V2_A2_09 | CAT_03 | Informer ALD-droits | Informer sur les droits spcifiques ouverts par une ALD (AAH, invalidit, PCH, exonration ticket modrateur) | Renseignez-vous sur les aides spcifiques lies  la maladie chronique de votre proche |  |
| MT_V2_A2_10 | CAT_03 | Orienter MDPH/AS | Orienter vers la MDPH ou l'AS pour activer les prestations sociales lies  l'ALD | Contactez la MDPH ou une assistante sociale pour faire valoir les droits lis  l'ALD |  |

#### Wording des 3 Recos de base

| CAT | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | / |
|---|---|---|---|
| CAT_01 | Activation de vos droits et aides | Raliser un bilan des droits et orienter |  |
| CAT_02 | valuation de la dpendance de votre proche | Initier l'valuation AGGIR |  |
| CAT_03 | Droits lis  la maladie chronique | Activer le lien ALD-prestations sociales |  |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit

#### CAT_01  Activation des droits et aides

> Niveaux existants :  STD_01 (+STD_04 propos) /  CCC_01 /  CRIT_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Droits et aides  explorer | Informer sur les droits mobilisables |
|  CCC ( 30j) | Activation des droits recommande | Orienter vers activation des droits sous 30 jours |
|  Critique ( 7j) | Activation des droits urgente | Activer les droits en urgence sous 7 jours |

**MT versionnes (exemples cls) :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V2_A2_01 | Faites le point sur vos droits | valuez rapidement vos droits | Identifiez ds maintenant les droits  activer |
| MT_V2_A2_03 | Rassemblez les documents ncessaires | Prparez votre dossier rapidement | Constituez votre dossier cette semaine |
| MT_V2_A2_04 | Prenez contact avec l'AS si besoin | Contactez l'AS ou la MDPH dans le mois | Contactez l'AS ou la MDPH cette semaine |

#### CAT_02  valuation de la dpendance (AGGIR)

> Niveaux existants :  STD_02 / ( CCC_02 propos) / ( CRIT_02 propos)

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | valuation de dpendance conseille | Vrifier si valuation AGGIR ralise |
|  CCC ( 30j) | valuation de dpendance  initier | Initier l'valuation AGGIR sous 30 jours |
|  Critique ( 7j) | valuation de dpendance urgente | Initier l'valuation AGGIR en urgence |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V2_A2_05 | Vrifiez si l'valuation a t faite | Vrifiez rapidement le statut de l'valuation | Vrifiez ds maintenant si l'valuation est faite |
| MT_V2_A2_07 | Demandez une valuation si besoin | Demandez une valuation dans le mois | Demandez une valuation cette semaine |

#### CAT_03  Lien ALD et prestations sociales

> Niveaux existants :  STD_03 / ( CCC_03 propos)

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Droits lis  la maladie chronique  explorer | Vrifier le lien ALD-prestations |
|  CCC ( 30j) | Droits ALD  activer | Activer les prestations ALD sous 30 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |
|---|---|---|
| MT_V2_A2_08 | Vrifiez les droits lis  la maladie de votre proche | valuez rapidement les droits lis  la maladie |
| MT_V2_A2_10 | Contactez la MDPH si besoin | Contactez la MDPH ou l'AS dans le mois |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP A2 n'est PAS activ (aucune rgle ne s'est dclenche = droits en place, valuation faite, ALD gre)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Vos droits et aides semblent en place. Pensez  vrifier rgulirement que vos droits sont  jour et  signaler tout changement de situation.  |  Surveiller l'volution des droits et de la situation administrative. Vrifier les renouvellements d'aides  chaque suivi.  |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| _(NOUVELLE)_ | Rappeler les dates de renouvellement des aides | ORGA | Vrifier les dates de renouvellement des droits ouverts (APA, AAH, CMI) | Pensez  vrifier les dates de renouvellement de vos aides |
| _(NOUVELLE)_ | Sensibiliser aux changements ouvrant de nouveaux droits | INFO | Informer l'aidant que tout changement de situation (aggravation, dmnagement) peut ouvrir de nouveaux droits | Sachez que tout changement de situation peut vous ouvrir de nouveaux droits  n'hsitez pas  en parler |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  |  | E62: , N29: via delta STD_04 , N42: STD_03 , O53: STD_02 , O54: indirecte via AGGIR |
| 2 | Chaque rgle d'activation  1 version de reco |  |  | 8 rgles (3 legacy + 5 proposes)  toutes lies |
| 3 | Chaque catgorie de reco  ses MT assignes |  |  | CAT_01: 4 MT, CAT_02: 3 MT, CAT_03: 3 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | Chaque CAT a 2 niveaux (aprs propositions) |
| 5 | Aucune MT orpheline |  |  | 10 MT toutes rattaches |
| 6 | Reco prvention prsente |  |  | Propose, en attente validation |
| 7 | Wording reco = conseil, MT = verbe d'action |  |  | Phase 1 + Phase 2 proposes |
| 8 | Sens clinique renseign pour chaque rgle |  |  | 8 rgles documentes |

> **Score** : **4/8 valids**, 3 en attente validation, 1 partiel (O54 indirect)

>  **Point d'attention O54** : O54 (niveau GIR) ne dclenche aucune rgle directement. Elle est utilise comme INFORMATION contextuelle (GIR 1-2 = grande dpendance, GIR 5-6 = faible). Si on voulait la rendre dclenchante, on pourrait crer une rgle :  Si GIR 1-2 et aucun droit demand  Critique . **Proposition  discuter**.

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 1 (activation droits via APA) | **3** (activation droits, valuation AGGIR, lien ALD) |
| Rgles d'activation | 3 (:1 :1 :1) | **8** (:3, :3, :2)  dont 5 proposes |
| MT totales | 0 | **10** (1 legacy adapte + 9 nouvelles) |
| MT contributives | 0 | **4** (STRUC:1, SEC:3) |
| Domaine  /  | - | 0  / 10  |
| ASR |  Vide | CAT_01  + CAT_02 partielle + CAT_03 partielle |
| Reco prvention |  |  Propose |
| Checks OK | 2/8 | 4/8 ( 8/8 aprs validations) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories identifies (activation droits, valuation AGGIR, lien ALD) |  Propos |
| 2 | Nouvelles rgles CCC/CRIT pour CAT_02 (AGGIR) |  Propos |
| 3 | Standard pour CAT_03 (N42 Non/NSP) |  Propos |
| 4 | CCC pour CAT_03 (N42 + E62 Aucun) |  Propos |
| 5 | Delta droits STD_04 (E62 en cours + N29 Aucun) |  Propos |
| 6 | 10 MT cres avec chane ORGA  INFO  STRUC  SEC |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider les 3 catgories |  Haute |
| 2 | Valider les nouvelles rgles (5 proposes) |  Haute |
| 3 | Dcider si O54 (GIR) doit dclencher une rgle |  Haute |
| 4 | Valider wording Phase 1 + Phase 2 |  Haute |
| 5 | Valider reco prvention |  Moyenne |
| 6 | Valider propositions types/acteurs |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,K2=`#  Fiche de Validation MP  A3  Charge et complexit des dmarches

> **Vulnrabilit** : V2  Administrative  
> **ASR** :  Rduire la charge mentale administrative   
> **Signature** : A3-A : Aide extrieure  la gestion  
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## CONTEXTE  Big Picture V2

### Rpartition des 18 questions V2 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **A1** | Couverture sant et protections juridiques | 4 | E21, E68, O23, O45 | Couverture sant aidant/proche + anticipation projet de vie |
| **A2** | Droits, aides et valuation dpendance | 5 | E62, N29, N42, O53, O54 | Droits ouverts, aides en cours, valuation AGGIR |
| **A3** | Charge et complexit des dmarches | 5 | E61, E66, E69, E70, N6 | Charge administrative, complexit perue, protections juridiques |
| **A4** | Situation scolaire/professionnelle et budget | 7 | E63, E64, E65, E67, N43, N5, O61 | Inclusion scolaire/pro, accompagnement, budget |

> **A3 se concentre sur la CHARGE et la COMPLEXIT** des dmarches administratives. Contrairement  A1 (COUVERTURE de base), A3 mesure le POIDS ressenti des dmarches. Contrairement  A2 (DROITS concrets), A3 ne s'intresse pas  quels droits sont ouverts mais  combien a cote en nergie mentale. Contrairement  A4 (INCLUSION et BUDGET), A3 ne couvre pas les aspects financiers ou scolaires mais les aspects de complexit et de gestion quotidienne.
>
> **Particularit** : A3 contient deux sous-thmes htrognes :
> - **Sous-thme 1** : Complexit administrative perue (E66, E69, E70)  "est-ce que les dmarches m'accablent ?"
> - **Sous-thme 2** : Anticipation juridique (E61, N6)  protections juridiques et directives anticipes
>
>  **Point d'attention** : \`E61\` (directives anticipes) et \`N6\` (mesure de protection) relvent thmatiquement de la PROTECTION JURIDIQUE. Leur prsence dans A3 plutt que dans A1 est un choix de classification legacy qui mrite discussion (voir analyse ci-dessous).

---

## 0. DONNES FIGES  Questions rattaches  A3

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E61 | Votre proche a-t-il dj rdig des directives anticipes concernant ses souhaits de soins en cas de situation grave ? | facteur | Oui / Non / Je ne sais pas |
| 2 | E66 | Les dmarches administratives lies  votre proche vous paraissent-elles complexes ? | tat | Pas du tout / Un peu / Oui |
| 3 | E69 | Vous sentez-vous  l'aise avec les dmarches administratives en ligne ? | tat | Oui, tout  fait / Oui, mais a prend beaucoup de temps / Non, je suis souvent perdue / Je n'ai pas facilement accs  un ordinateur/internet |
| 4 | E70 | Vous arrive-t-il de devoir grer des dmarches dans l'urgence ? | tat | Non, jamais / Parfois / Souvent, je suis toujours en retard / Je ne sais pas |
| 5 | N6 | Une mesure de protection a-t-elle t mise en place ? | facteur | Non / Habilitation familiale / Tutelle / Curatelle simple / Curatelle renforce / Sauvegarde de justice / Mandat de protection future |

> Total : 5 questions rattaches  A3

###  Pourquoi ces 5 questions ?

**E66**, **E69** et **E70** forment un trio cohrent mesurant la CHARGE ADMINISTRATIVE sous 3 angles complmentaires :
- E66 = **complexit perue** globale (ressenti subjectif)
- E69 = **comptence numrique** (capacit  faire les dmarches en ligne)
- E70 = **gestion de l'urgence** (les dmarches dpassent-elles l'aidant ?)

 Ces 3 questions sont clairement A3 : elles mesurent le POIDS des dmarches, pas les droits eux-mmes (A2) ni la couverture de base (A1).

**E61** (directives anticipes) et **N6** (mesure de protection) sont thmatiquement lis  la PROTECTION JURIDIQUE plutt qu' la charge administrative :

>  **Analyse E61** : Les directives anticipes sont un document juridique qui exprime les souhaits de soins du proche. Ce n'est pas une "dmarche administrative" au sens de la charge mentale  c'est un ACTE D'ANTICIPATION JURIDIQUE. Thmatiquement, E61 serait mieux dans A1 ( protections juridiques  est dans le titre de A1). Cependant, son placement dans A3 se comprend si on considre que la RDACTION des directives est une DMARCHE que l'aidant doit grer  le  cot  de cette dmarche fait partie de la charge administrative.

>  **Analyse N6** : Les mesures de protection (tutelle, curatelle, habilitation familiale, mandat de protection future, sauvegarde de justice) sont des dispositifs JURIDIQUES purs. Leur placement dans A3 est discutable  elles seraient naturellement dans A1 ( protections juridiques ). **Argument pour A3** : la mise en place d'une mesure de protection est une dmarche administrative lourde et complexe  a contribue  la charge. **Argument pour A1** : la protection juridique EST le cur du titre de A1.  Candidat fort pour double rattachement A1+A3 (voir A1.md).
>
> La reco legacy de N6 ( Anticipez et renseignez-vous sur les diffrentes protections juridiques possibles ) est explicitement rattache  A3 avec l'AS comme acteur. Cela confirme le choix legacy : la mise en place de protections = une DMARCHE  accompagner.

###  Analyse des 13 autres questions V2  Pourraient-elles appartenir  A3 ?

#### Questions A1 (Couverture sant et protections juridiques)

| Question | Libell | Pertinence A3 ? | Raisonnement |
|---|---|---|---|
| **O23** | Couverture sant du proche |  Non | Facteur de protection, pas de charge. |
| **O45** | Couverture sant de l'aidant |  Non | Idem. |
| **E68** | Temps admin mensuel |  **Dbattable** | Le temps consacr aux dmarches est une mesure DIRECTE de la charge administrative  A3 serait lgitime. **Mais** : E68 est le dclencheur principal des rgles CCC/Critique de A1 (combo E68 + E21). Le retirer de A1 viderait A1 de son signal de gravit.  Conserv dans A1 pour les rgles d'activation. |
| **E21** | Viabilit situation de vie |  Non | Projection  A1. |

>  **Verdict A1** : E68 est le seul dbattable mais son rle de dclencheur dans A1 justifie son placement actuel. La CHARGE (heures) est mesure par E68 dans A1, la COMPLEXIT (ressenti) par E66 dans A3.

#### Questions A2 (Droits, aides, valuation dpendance)

| Question | Libell | Pertinence A3 ? | Raisonnement |
|---|---|---|---|
| **E62** | Droits en cours de demande |  Non | Inventaire de droits = A2. La complexit de ces demandes serait A3, mais E62 mesure le QUOI, pas le COMMENT. |
| **N29** | Droits obtenus |  Non | Idem. |
| **N42** | Aide ALD/prestations sociales |  Non | Droit spcifique = A2. |
| **O53** | valuation AGGIR faite ? |  Non | Processus d'valuation = A2. |
| **O54** | Niveau GIR |  Non | Rsultat = A2. |

>  **Verdict A2** : Aucune question A2 dans A3.

#### Questions A4 (Situation scolaire/professionnelle et budget)

| Question | Libell | Pertinence A3 ? | Raisonnement |
|---|---|---|---|
| **E63** | Dmarches proccupantes |  **Dbattable** | Les proccupations lies aux dmarches SONT de la charge mentale  A3 serait lgitime. **Mais** : E63 est dans A4 car elle sert  identifier les TYPES de dmarches qui proccupent (dossier dpendance, MDPH, retraite)  c'est un inventaire, pas une mesure de complexit. |
| **E64-E67** | Inclusion scolaire/professionnelle |  Non | Inclusion = A4 pur. |
| **N43** | Services d'accompagnement utiliss |  Non | Historique de recours aux services = A4. |
| **N5** | Aides utilises |  Non | Services de rpit/psy = A4. |
| **O61** | Moyens financiers |  Non | Budget = A4 pur. |

>  **Verdict A4** : E63 est dbattable (charge mentale vs. inventaire) mais A4 reste cohrent.

###  Synthse affiliation

| Questions | MP actuel | Pertinence A3 ? | Confiance |
|---|---|---|---|
| O23, O45, E21 | A1 |  Non |  Haute |
| **E68** | A1 |  Dbattable (charge horaire = A3 smantiquement) |  Moyenne |
| E62, N29, N42, O53, O54 | A2 |  Non |  Haute |
| **E63** | A4 |  Dbattable (proccupation = charge mentale) |  Moyenne |
| E64, E65, E67, N43, N5, O61 | A4 |  Non |  Haute |

> **Conclusion** : Les 5 questions de A3 sont les bonnes. E68 (temps admin, A1) et E63 (proccupations, A4) sont dbattables mais leur placement actuel est dfendable. L'htrognit interne d'A3 (complexit + protection juridique) est le point d'attention principal.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des questions et de la recommandation legacy (A3_RECO_01) rvle **2 axes cliniques distincts**, correspondant aux 2 sous-thmes identifis dans le contexte :

1. **Accompagnement  la complexit administrative**  E66, E69, E70 mesurent la difficult perue, la comptence numrique et la gestion d'urgence. L'action = simplifier, accompagner, former aux outils numriques.
2. **Anticipation et protection juridique**  E61 et N6 mesurent les protections en place. L'action = informer, anticiper les directives/mesures de protection. A3_RECO_01 legacy ("Anticipez et renseignez-vous sur les protections juridiques") s'inscrit dans cet axe.

>  **Pourquoi pas 3 catgories ?** On pourrait sparer E61 (directives anticipes) et N6 (mesures de protection) car ce sont 2 dispositifs juridiques diffrents. **Mais** : ils partagent le mme objectif (protger le proche en cas de dgradation), le mme acteur (AS), et le mme processus (anticipation juridique). Les fusionner en 1 catgorie est proportionnel (T4)  2 questions = 1 catgorie suffit.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | A3_CAT_01 | Accompagnement  la complexit administrative | valuer la charge, former aux outils numriques, simplifier les dmarches |  Propos (bas sur E66, E69, E70) |
| 2 | A3_CAT_02 | Anticipation et protection juridique | Anticiper les directives anticipes et les mesures de protection | Legacy  (A3_RECO_01 + N6) |

###  Pourquoi 2 catgories et pas 1 ou 3 ?

**Pas 1 (fusionner les deux)** : L'accompagnement aux dmarches (complexit, numrique, urgences) et l'anticipation juridique (directives, tutelle) sont fondamentalement diffrents. L'un concerne le QUOTIDIEN (comment grer ?), l'autre le FUTUR (comment protger ?). Les MT sont distinctes, les acteurs aussi (IDEC pour CAT_01, AS pour CAT_02 principalement).

**Pas 3 (sparer directives et mesures de protection)** : Proportionnalit (T4). Directives anticipes (E61) et mesures de protection (N6) = 2 questions pour 1 objectif commun. Crer 2 catgories pour 1 question chacune serait disproportionn.

> **Dcision Dr. Monka** :  Valid 2 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

Les 3 rgles legacy (V5_A3_*) sont TOUTES lies  E61 (directives anticipes) et E21 (viabilit). Les questions E66, E69, E70 n'ont **aucune rgle d'activation** en legacy  c'est une lacune majeure. La complexit administrative perue ne dclenche actuellement aucune recommandation.

>  **Anomalie critique** : E66 ("Les dmarches vous paraissent-elles complexes ?") avec rponse "Oui" ne dclenche RIEN en legacy. E69 ("Je suis souvent perdue") idem. E70 ("Souvent en retard") idem. Ces 3 signaux de surcharge sont ignors par le moteur. C'est le cur de CAT_01  toutes les rgles CAT_01 sont  crer.
>
> **Autre anomalie** : N6 (mesure de protection) a une reco legacy (pour "Non") mais n'a pas de rgle d'activation en \`activation_rules\`. La reco est lie dans \`recommendations_legacy\` uniquement.   crer.

### Rappel des questions A3 et de leurs options

> **E61**   Votre proche a-t-il dj rdig des directives anticipes ? 
> -  Oui /  **Non** /  **Je ne sais pas** (dclenchantes)

> **E66**   Les dmarches administratives vous paraissent-elles complexes ? 
> -  Pas du tout /  Un peu /  **Oui** (dclenchante)

> **E69**   Vous sentez-vous  l'aise avec les dmarches en ligne ? 
> -  Oui, tout  fait /  Oui, mais a prend beaucoup de temps /  **Non, je suis souvent perdue** /  **Je n'ai pas accs  un ordinateur/internet** (dclenchantes)

> **E70**   Grer des dmarches dans l'urgence ? 
> -  Non, jamais /  Parfois /  **Souvent, je suis toujours en retard** /  Je ne sais pas

> **N6**   Une mesure de protection a-t-elle t mise en place ? 
> -  **Non** (dclenchante) /  Habilitation familiale /  Tutelle /  Curatelle simple /  Curatelle renforce /  Sauvegarde de justice /  Mandat de protection future

---

### Catgorie 1  Accompagnement  la complexit administrative

>  **Aucune rgle legacy pour cette catgorie.** Toutes les rgles ci-dessous sont NOUVELLES.

####  Standard  \`V2_A3_STD_02\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  Les dmarches administratives vous paraissent-elles complexes ? 
>  ** Un peu ** ou ** Oui **
>
> **ALORS** : Recommander un accompagnement  la complexit administrative
>
> **Sens clinique** : L'aidant ressent une difficult, mme partielle, dans la gestion des dmarches. Signal prcoce de surcharge  informer sur les aides et simplifier.

####  Standard  \`V2_A3_STD_03\` _(NOUVEAU )_

> **SI** l'aidant a rpondu  la question :
>  Vous sentez-vous  l'aise avec les dmarches en ligne ? 
>  ** Oui, mais a prend beaucoup de temps ** ou ** Non, je suis souvent perdue ** ou ** Pas d'accs ordinateur/internet **
>
> **ALORS** : Recommander un accompagnement numrique ou un accompagnement prsenciel
>
> **Sens clinique** : Le frein numrique est un facteur aggravant de la charge administrative. Si l'aidant n'est pas  l'aise en ligne, la complexit perue est amplifie  adapter l'accompagnement (accs en mairie, CCAS, permanences).

####  CCC  \`V2_A3_CCC_02\` _(NOUVEAU )_

> **SI** l'aidant a rpondu :
> 1.  Les dmarches vous paraissent-elles complexes ?   ** Oui **
> 2. **ET**  Grer des dmarches dans l'urgence ?   ** Souvent, je suis toujours en retard **
>
> **ALORS** : Recommander un accompagnement administratif  niveau CCC ( 30 jours)
>
> **Sens clinique** : Complexit maximale perue + gestion systmatique dans l'urgence = l'aidant est submerg. Les dlais sont dpasss, les droits sont en danger de suspension  besoin d'aide concrte sous 30 jours.

####  Critique  \`V2_A3_CRIT_02\` _(NOUVEAU )_

> **SI** l'aidant a rpondu :
> 1.  Les dmarches vous paraissent-elles complexes ?   ** Oui **
> 2. **ET**  Vous sentez-vous  l'aise avec les dmarches en ligne ?   ** Non, je suis souvent perdue ** ou ** Pas d'accs **
> 3. **ET**  Grer des dmarches dans l'urgence ?   ** Souvent, je suis toujours en retard **
>
> **ALORS** : Recommander un accompagnement administratif  niveau Critique ( 7 jours)
>
> **Sens clinique** : Triple signal de dtresse administrative : complexit maximale + exclusion numrique + urgences permanentes. L'aidant n'a plus aucune capacit  grer ses dmarches seul  urgence  connecter avec un service d'accompagnement.

---

### Catgorie 2  Anticipation et protection juridique

####  Standard  \`V2_A3_STD_01\` _(legacy : V5_A3_STD_01)_

> **SI** l'aidant a rpondu  la question :
>  Votre proche a-t-il rdig des directives anticipes ? 
>  ** Non ** ou ** Je ne sais pas **
>
> **ALORS** : Recommander l'anticipation juridique (directives anticipes + protections)
>
> **Sens clinique** : Directives anticipes non rdiges  en cas de dgradation soudaine, les souhaits de soins du proche ne seront pas connus. Risque dcisionnel pour l'aidant et l'quipe soignante.

####  Standard  \`V2_A3_STD_04\` _(NOUVEAU  bas sur N6 legacy reco)_

> **SI** l'aidant a rpondu  la question :
>  Une mesure de protection a-t-elle t mise en place ? 
>  ** Non **
>
> **ALORS** : Recommander l'information sur les protections juridiques
>
> **Sens clinique** : Aucune mesure de protection en place  le proche vulnrable n'est pas protg juridiquement. Risque d'exploitation financire, de dcisions non autorises, d'absence de reprsentant lgal.
>
> **Source** : Reco legacy N6 = "Non"   Anticipez et renseignez-vous sur les diffrentes protections juridiques possibles  (acteur : AS).

####  CCC  \`V2_A3_CCC_01\` _(legacy : V5_A3_CCC_01)_

> **SI** l'aidant a rpondu :
> 1.  Votre proche a-t-il rdig des directives anticipes ?   ** Non ** ou ** Je ne sais pas **
> 2. **ET**  Pensez-vous qu'il sera possible de maintenir cette situation ?  (E21, de A1)  ** Non, un changement sera ncessaire ** ou ** Je ne sais pas **
>
> **ALORS** : Recommander l'anticipation juridique  niveau CCC ( 30 jours)
>
> **Sens clinique** : Pas de directives anticipes + situation de vie non viable = dcisions futures  risque. En cas de dgradation, personne ne saura les souhaits du proche  urgence  rdiger.
>
>  **Rgle inter-MP** : Utilise E21 qui appartient  A1. C'est un croisement inter-MP lgitime  la viabilit (A1) conditionne l'urgence de l'anticipation juridique (A3).

####  Critique  \`V2_A3_CRIT_01\` _(legacy : V5_A3_CRIT_01)_

> **SI** l'aidant a rpondu  la question :
>  Votre proche a-t-il rdig des directives anticipes ? 
>  ** Non ** (explicitement, pas "Je ne sais pas")
>
> **ALORS** : Recommander l'anticipation juridique  niveau Critique ( 7 jours)
>
> **Sens clinique** : Refus ou absence explicite de directives anticipes + situation instable  risque dcisionnel majeur. L'aidant sait que ce n'est pas fait et la situation est critique.
>
>  **Point de dbat** : Le sens clinique legacy mentionne "situation instable" mais la rgle ne vrifie que E61 = "Non". Est-ce que la Critique devrait exiger E21 = "Non" en plus ? Actuellement n'exiger que E61 = "Non" pour un niveau Critique semble **excessif**  le simple fait de ne pas avoir rdig de directives ne constitue pas une urgence  7 jours SI la situation est stable.  **Proposition : reclasser en CCC, ou ajouter la condition E21 pour le Critique.**

####  Proposition  \`V2_A3_CCC_03\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> 1. N6 = ** Non ** (aucune mesure de protection)
> 2. **ET** E21 (A1) = ** Non, un changement sera ncessaire ** ou ** Je ne sais pas **
>
> **ALORS** : Recommander la mise en place d'une mesure de protection  CCC ( 30 jours)
>
> **Sens clinique** : Aucune protection juridique + situation non viable = le proche est doublement expos. En cas de dgradation, personne ne pourra agir lgalement pour lui  urgence  initier une mesure.

---

###  Dcisions Action 2

| # | Proposition | Dcision | Rgle concerne |
|---|---|---|---|
| 1 |  Standard CAT_01 (E66 complexit) |  Propos | \`V2_A3_STD_02\` |
| 2 |  Standard CAT_01 (E69 numrique) |  Propos | \`V2_A3_STD_03\` |
| 3 |  CCC CAT_01 (E66 Oui + E70 Souvent) |  Propos | \`V2_A3_CCC_02\` |
| 4 |  Critique CAT_01 (E66 + E69 + E70) |  Propos | \`V2_A3_CRIT_02\` |
| 5 |  Standard CAT_02 (N6 = Non) |  Propos | \`V2_A3_STD_04\` |
| 6 |  CCC CAT_02 (N6 Non + E21 Non/NSP) |  Propos | \`V2_A3_CCC_03\` |
| 7 |  Reclasser CRIT_01 en CCC (E61=Non trop souple pour Critique) |  Propos | \`V2_A3_CRIT_01\` |

> **Contrle K3** :
> - CAT_01 :  OK (STD  2 + CCC + CRIT = 4 niveaux proposs)
> - CAT_02 :  OK (STD  2 + CCC  2 + CRIT legacy = 5 niveaux, mais CRIT  discuter)
>
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** :  Aucune micro-tche pour les questions A3 dans la DB. Toutes les MT sont des **propositions nouvelles**.

### CAT_01  Accompagnement  la complexit administrative

> Legacy :  aucune MT. Propositions : **4 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A3_01 | valuer le niveau de complexit perue et les freins spcifiques | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A3_02 | Informer sur les aides  la simplification (permanences, crivains publics, CCAS) | INFO | IDEC |  | NOUVEAU  |
| MT_V2_A3_03 | Proposer un plan de simplification des dmarches prioritaires | STRUC | IDEC |  | NOUVEAU  |
| MT_V2_A3_04 | Orienter vers un service d'accompagnement adapt (CCAS, EAS, France Services) | SEC | IDEC |  | NOUVEAU  |

####  Pourquoi 4 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V2_A3_01 (valuer complexit)  l'IDEC ne sait pas o se situe le frein (numrique ? formulaires ? comprhension ?). Pas de ciblage.
- Sans MT_V2_A3_02 (informer aides)  l'aidant ignore que des services gratuits de simplification existent (France Services, crivains publics, PIMMS).
- Sans MT_V2_A3_03 (plan de simplification)  on diagnostique et on informe mais pas de feuille de route concrte. L'aidant repart avec des infos mais sans mthode.
- Sans MT_V2_A3_04 (orienter)  on a un plan mais pas de relais professionnel pour l'excuter.

**Pourquoi pas 1 de plus ?**
- "Former l'aidant aux outils numriques"  trop spcifique, couvert par l'orientation vers France Services (MT_V2_A3_04) qui propose des ateliers numriques.
- "Crer un calendrier des chances"  sous-action du plan de simplification (MT_V2_A3_03), pas une MT autonome.
- La chane est complte : ORGA (diagnostiquer)  INFO (informer)  STRUC (structurer)  SEC (scuriser).

### CAT_02  Anticipation et protection juridique

> Legacy : 1 reco (A3_RECO_01) mais pas de MT. Propositions : **4 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A3_05 | valuer le niveau de protection juridique actuel du proche | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A3_06 | Informer sur les directives anticipes et les mesures de protection | INFO | IDEC |  | Bas sur A3_RECO_01 Legacy |
| MT_V2_A3_07 | Accompagner la rdaction des directives anticipes ou la dmarche de protection | STRUC | IDEC/AS |  | NOUVEAU  |
| MT_V2_A3_08 | Orienter vers l'AS ou le juge des tutelles pour initier une mesure de protection | SEC | AS |  | Legacy  (A3_RECO_01 : "contacter l'AS pour demande de protection") |

####  Pourquoi 4 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Sans MT_V2_A3_05 (valuer protection)  l'IDEC ne sait pas quelles protections sont en place ou manquantes. N6 donne un premier indice mais l'IDEC doit confirmer et dtailler.
- Sans MT_V2_A3_06 (informer)  l'aidant ne comprend pas la diffrence entre tutelle, curatelle, habilitation familiale, mandat de protection future. L'INFO est le socle.
- Sans MT_V2_A3_07 (accompagner rdaction/dmarche)  on diagnostique et on informe mais on n'aide pas concrtement  faire. La rdaction de directives anticipes est un acte qui ncessite un accompagnement.
- Sans MT_V2_A3_08 (orienter AS/juge)  on prpare le terrain mais on ne connecte pas au professionnel comptent.

**Pourquoi pas 1 de plus ?**
- "Contacter le notaire"  trop spcifique, le notaire n'est ncessaire que pour le mandat de protection future. Couvert par l'orientation AS (MT_V2_A3_08) qui identifie le bon professionnel.
- "Vrifier la validit des directives existantes"  sous-action de MT_V2_A3_05, pas une MT autonome.
- La chane est complte : ORGA (valuer)  INFO (informer)  STRUC (accompagner)  SEC (orienter).

###  Dcisions Action 3

| # | Proposition | Dcision | MT cres |
|---|---|---|---|
| 1 | 4 MT pour CAT_01 (complexit administrative) |  Propos | \`MT_V2_A3_01\`  \`MT_V2_A3_04\` |
| 2 | 4 MT pour CAT_02 (anticipation juridique) |  Propos | \`MT_V2_A3_05\`  \`MT_V2_A3_08\` |

> **Condition ASR par catgorie** :
> - CAT_01 :  2 (STRUC + SEC)   ASR complte
> - CAT_02 :  2 (STRUC + SEC)   ASR complte
>
> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs existants dans la DB** : \`IDEC\`, \`MT\` (mdecin traitant), \`Aidant (autonome)\`, \`AS\` (assistante sociale)
> **Nouveaux acteurs potentiels** : \`Juge des tutelles\`, \`France Services\`
> **Domaines** :  Mdical /  Mdico-social

### Tableau consolid des MT de A3 (final)

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V2_A3_01 | valuer complexit perue et freins spcifiques | ORGA | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A3_02 | Informer sur aides  la simplification | INFO | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A3_03 | Proposer plan de simplification | STRUC | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A3_04 | Orienter vers France Services / CCAS / EAS | SEC | IDEC |  Mdico-social |  | CAT_01 | NOUVEAU  |
| MT_V2_A3_05 | valuer protection juridique actuelle | ORGA | IDEC |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V2_A3_06 | Informer sur directives anticipes et mesures de protection | INFO | IDEC |  Mdico-social |  | CAT_02 | Legacy  |
| MT_V2_A3_07 | Accompagner rdaction directives / dmarche de protection | STRUC | IDEC/AS |  Mdico-social |  | CAT_02 | NOUVEAU  |
| MT_V2_A3_08 | Orienter vers AS ou juge des tutelles | SEC | AS |  Mdico-social |  | CAT_02 | Legacy  |

> **Rsum** :  
> - Total MT : **8** (2 legacy adaptes + 6 nouvelles)  
> - Domaine  Mdical : **0 MT** / Domaine  Mdico-social : **8 MT**  
> - Contributives () : **4**  STRUC: 2, SEC: 2  
> - Non-contributives () : **4**  INFO: 2, ORGA: 2  
> -  ASR complte pour les 2 catgories

###  Propositions d'amlioration

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V2_A3_02  acteur Aidant (autonome)** | L'aidant peut chercher seul les permanences et services de simplification (France Services est accessible  tous). L'IDEC facilite mais l'aidant peut agir. |
| 2 | **MT_V2_A3_07  double acteur AS + MT** | Les directives anticipes concernent les souhaits de SOINS  le mdecin traitant devrait tre impliqu dans la discussion clinique, mme si la rdaction est accompagne par l'AS. |
| 3 | **MT_V2_A3_08  prciser : AS pour mesures simples, Juge des tutelles pour tutelle/curatelle** | L'AS initie toutes les mesures SAUF la tutelle/curatelle qui ncessite une requte auprs du juge. Prciser l'aiguillage. |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording des 8 MT (IDEC + Utilisateur)

| MT_ID | CAT | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|---|
| MT_V2_A3_01 | CAT_01 | valuer complexit | valuer avec l'aidant la nature de ses difficults administratives (complexit, numrique, urgences) | Identifiez ce qui vous pose le plus de difficults dans vos dmarches administratives |  |
| MT_V2_A3_02 | CAT_01 | Informer simplification | Informer sur les services d'aide gratuits : France Services, crivains publics, permanences CCAS | Renseignez-vous sur les services gratuits qui peuvent vous aider dans vos dmarches |  |
| MT_V2_A3_03 | CAT_01 | Plan de simplification | tablir un plan de simplification : lister les dmarches prioritaires, identifier les aides disponibles, fixer un calendrier | tablissez un plan pour simplifier vos dmarches les plus urgentes |  |
| MT_V2_A3_04 | CAT_01 | Orienter accompagnement | Orienter vers un point d'accueil (France Services, CCAS, EAS) adapt  la situation gographique et aux besoins de l'aidant | Rendez-vous dans un point France Services ou au CCAS de votre commune pour tre accompagn |  |
| MT_V2_A3_05 | CAT_02 | valuer protection | valuer le niveau actuel de protection juridique du proche (directives anticipes, personne de confiance, mesure de protection) | Faites le point sur les protections juridiques en place pour votre proche |  |
| MT_V2_A3_06 | CAT_02 | Informer protections | Expliquer les diffrentes options de protection : directives anticipes, personne de confiance, habilitation familiale, tutelle, curatelle, mandat de protection future | Renseignez-vous sur les protections juridiques adaptes  la situation de votre proche |  |
| MT_V2_A3_07 | CAT_02 | Accompagner dmarche | Accompagner la rdaction des directives anticipes avec le proche et/ou la prparation d'une demande de mesure de protection | Prparez les directives anticipes de votre proche ou une demande de protection avec une assistante sociale |  |
| MT_V2_A3_08 | CAT_02 | Orienter AS/juge | Orienter vers l'assistante sociale du secteur pour les mesures simples, ou vers le juge des tutelles pour les mesures contraignantes (tutelle, curatelle) | Prenez contact avec une assistante sociale pour mettre en place la protection adapte |  |

#### Wording des 2 Recos de base

| CAT | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | / |
|---|---|---|---|
| CAT_01 | Aide pour simplifier vos dmarches | Accompagner la simplification administrative |  |
| CAT_02 | Anticipation des protections juridiques | Accompagner l'anticipation juridique |  |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit

#### CAT_01  Accompagnement  la complexit administrative

> Niveaux existants :  STD_02 + STD_03 /  CCC_02 /  CRIT_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Accompagnement administratif disponible | Informer sur les aides  la simplification |
|  CCC ( 30j) | Accompagnement administratif recommand | Organiser un accompagnement sous 30 jours |
|  Critique ( 7j) | Accompagnement administratif urgent | Connecter avec un service d'aide sous 7 jours |

**MT versionnes (exemples cls) :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V2_A3_01 | Identifiez vos difficults administratives | Faites le point rapidement sur vos difficults | Identifiez ds maintenant vos blocages administratifs |
| MT_V2_A3_04 | Renseignez-vous sur France Services | Rendez-vous  France Services dans le mois | Rendez-vous  France Services cette semaine |

#### CAT_02  Anticipation et protection juridique

> Niveaux existants :  STD_01 + STD_04 /  CCC_01 + CCC_03 /  CRIT_01 ( discuter)

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Anticipation juridique conseille | Informer sur les protections juridiques |
|  CCC ( 30j) | Anticipation juridique recommande | Initier les dmarches de protection sous 30 jours |
|  Critique ( 7j) | Anticipation juridique urgente | Initier les dmarches de protection en urgence |

**MT versionnes (exemples cls) :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V2_A3_06 | Renseignez-vous sur les protections possibles | Informez-vous rapidement sur les protections | Informez-vous ds maintenant sur les protections |
| MT_V2_A3_08 | Contactez une AS si besoin | Contactez une AS dans le mois | Contactez une AS cette semaine |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP A3 n'est PAS activ (dmarches non perues comme complexes,  l'aise en ligne, pas d'urgences, directives anticipes faites, protection juridique en place)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Vos dmarches administratives semblent bien gres et les protections juridiques de votre proche sont en place. Pensez  consulter rgulirement pour vrifier que tout reste  jour.  |  Situation administrative stable. Vrifier les renouvellements et l'actualisation des protections lors du prochain suivi.  |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| _(NOUVELLE)_ | Sensibiliser aux volutions administratives | INFO | Alerter l'aidant sur les changements rglementaires pouvant impacter ses droits | Restez inform des volutions de vos droits et dmarches |
| _(NOUVELLE)_ | Vrifier l'actualit des protections juridiques | ORGA | Vrifier la validit et la pertinence des mesures de protection en place | Vrifiez que les protections juridiques de votre proche sont toujours adaptes |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  |  | E61: , E66: , E69: , E70:  (via CCC_02), N6:  (STD_04) |
| 2 | Chaque rgle d'activation  1 version de reco |  |  | 9 rgles (3 legacy + 6 proposes)  toutes lies |
| 3 | Chaque catgorie de reco  ses MT assignes |  |  | CAT_01: 4 MT, CAT_02: 4 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | CAT_01: 3 niveaux, CAT_02: 3+ niveaux |
| 5 | Aucune MT orpheline |  |  | 8 MT toutes rattaches |
| 6 | Reco prvention prsente |  |  | Propose |
| 7 | Wording reco = conseil, MT = verbe d'action |  |  | Phase 1 + Phase 2 proposes |
| 8 | Sens clinique renseign pour chaque rgle |  |  | 9 rgles documentes |

> **Score** : **4/8 valids**, 3 en attente validation, 1 partiel

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 1 (anticipation juridique) | **2** (complexit admin, anticipation juridique) |
| Rgles d'activation | 3 (:1 :1 :1) | **9** (:4, :3, :2)  dont 6 proposes |
| MT totales | 0 | **8** (2 legacy adaptes + 6 nouvelles) |
| MT contributives | 0 | **4** (STRUC:2, SEC:2) |
| Domaine  /  | - | 0  / 8  |
| ASR |  Vide | CAT_01  + CAT_02  |
| Reco prvention |  |  Propose |
| Checks OK | 2/8 | 4/8 ( 8/8 aprs validations) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 2 catgories identifies (complexit admin, anticipation juridique) |  Propos |
| 2 | 4 nouvelles rgles CAT_01 (E66, E69, E70  jamais exploites legacy) |  Propos |
| 3 | 2 nouvelles rgles CAT_02 (N6=Non + CCC N6+E21) |  Propos |
| 4 |  Reclassement CRIT_01 (E61=Non seul  Critique trop svre ?) |  Propos  discuter |
| 5 | Htrognit A3 signale (complexit + protection = 2 thmes distincts) |  Observation |
| 6 | 8 MT cres  chane complte pour les 2 catgories |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider les 2 catgories |  Haute |
| 2 | Valider les 6 nouvelles rgles (complexit + protection) |  Haute |
| 3 | Dcider si CRIT_01 (E61=Non seul) reste Critique |  Haute |
| 4 | Confirmer ou non le double rattachement N6  A1+A3 |  Haute |
| 5 | Valider wording Phase 1 + Phase 2 |  Haute |
| 6 | Valider reco prvention |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,$2=`#  Fiche de Validation MP  A4  Situation scolaire/professionnelle et budget

> **Vulnrabilit** : V2  Administrative  
> **ASR** :  Clarifier situation d'inclusion et impacts budget   
> **Signature** : A4-A : Ajustement professionnel effectif  
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## CONTEXTE  Big Picture V2

### Rpartition des 18 questions V2 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **A1** | Couverture sant et protections juridiques | 4 | E21, E68, O23, O45 | Couverture sant aidant/proche + anticipation |
| **A2** | Droits, aides et valuation dpendance | 5 | E62, N29, N42, O53, O54 | Droits ouverts, aides, AGGIR |
| **A3** | Charge et complexit des dmarches | 5 | E61, E66, E69, E70, N6 | Charge admin, complexit, protection juridique |
| **A4** | Situation scolaire/professionnelle et budget | 7 | E63, E64, E65, E67, N43, N5, O61 | Inclusion, accompagnement, budget |

> **A4 est le plus grand MP de V2** (7 questions) et couvre les aspects d'**INCLUSION SOCIALE** du proche et de l'aidant, ainsi que la **VIABILIT FINANCIRE**.
>
> A4 se distingue des autres MPs V2 :
> - **vs A1** (couverture) : A1 = avoir une mutuelle ; A4 = avoir les moyens de vivre dignement
> - **vs A2** (droits) : A2 = quels droits sont ouverts ; A4 = quel est l'impact concret sur le quotidien (cole, travail, budget)
> - **vs A3** (charge) : A3 = les dmarches m'puisent ; A4 = la situation scolaire/pro/financire est-elle tenable
>
> **Particularit** : A4 contient 3 sous-thmes distincts :
> - **Sous-thme 1** : Inclusion scolaire/structure du proche (E64, E65)  "le proche a-t-il accs  une structure adapte ?"
> - **Sous-thme 2** : Activit professionnelle du proche + proccupations + accompagnement (E67, E63, N43, N5)  "le proche a-t-il une activit ? L'aidant est-il accompagn ?"
> - **Sous-thme 3** : Budget (O61)  "les moyens financiers suffisent-ils ?"

---

## 0. DONNES FIGES  Questions rattaches  A4

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E63 | En ce moment, quelles dmarches vous proccupent le plus ? | facteur | 8 options (dpendance, MDPH, retraite, logement, aides ponctuelles, renouvellement droits, autre, aucune) |
| 2 | E64 | L'enfant/adolescent frquente-t-il une cole ou une structure ducative/occupationnelle adapte ? | facteur | Oui sans difficult / Oui avec amnagements / Trs difficile / Non |
| 3 | E65 | L'enfant/adolescent bnficie-t-il d'un accompagnement par un AESH ou un AVS ? | facteur | Non / Oui, dj en place / Oui, besoin identifi mais pas encore en place |
| 4 | E67 | La personne accompagne bnficie-t-elle actuellement d'une activit professionnelle ou occupationnelle adapte ? | facteur | Oui, adapte / Oui, mais difficile / Non, sans problme / Non, avec difficults |
| 5 | N43 | De quels services d'aide et d'accompagnement dans les dmarches administratives avez-vous dj bnfici ? | facteur | 10 options (AS, MDPH, MDA, CCAS, mutuelles, associations, PFR, assurance maladie, EAS, aucun) |
| 6 | N5 | De quelles aides avez-vous dj bnfici ? | facteur | Solutions de rpit / Formations aidants / Accompagnement psy / Aucune / Autre |
| 7 | O61 | Les moyens financiers dont vous disposez permettent-ils de faire face  la situation ? | tat | Oui / Non |

> Total : 7 questions rattaches  A4  le plus gros MP de V2

###  Pourquoi ces 7 questions ?

**E64** et **E65** forment un duo sur l'INCLUSION SCOLAIRE :
- E64 = accs  une cole/structure adapte (oui/non/difficile)
- E65 = accompagnement AESH/AVS (en place/besoin/non)

 Ce duo cible les ENFANTS/ADOLESCENTS aids. C'est un angle spcifique de V2 : la dimension ADMINISTRATIVE de l'inclusion (dossier MDPH pour l'AESH, notification MDPH pour la structure). La difficult d'accs ou l'absence d'AESH = carence administrative majeure.

**E67** couvre l'INCLUSION PROFESSIONNELLE/OCCUPATIONNELLE du proche adulte :
- Activit adapte, difficile, ou absente  signal d'inclusion ou d'isolement

**E63** = les PROCCUPATIONS de l'aidant concernant les dmarches spcifiques. Ce n'est pas la charge (A3) mais l'INVENTAIRE des proccupations (quels types de dossiers psent : MDPH, dpendance, logement).

**N43** = le RECOURS aux services d'accompagnement (AS, MDPH, CCAS). Ce n'est pas les droits obtenus (A2) mais les SERVICES UTILISS pour obtenir ces droits.

**N5** = les AIDES utilises par l'aidant (rpit, formation, psy). Ce sont des ressources de soutien, pas des droits administratifs.

**O61** = la VIABILIT FINANCIRE globale. C'est la question de clture de V2 : aprs tout (couverture, droits, charge, inclusion), est-ce que les MOYENS FINANCIERS permettent de tenir ?

###  Analyse des 11 autres questions V2  Pourraient-elles appartenir  A4 ?

| Question | MP actuel | Pertinence A4 ? | Raisonnement |
|---|---|---|---|
| O23, O45 | A1 |  Non | Couverture sant = A1 |
| E68, E21 | A1 |  Non | Temps admin + viabilit = A1 |
| E62, N29 | A2 |  Non | Droits ouverts/demands = A2. N29 pourrait croiser avec O61 mais A2 = inventaire, A4 = impact financier |
| N42, O53, O54 | A2 |  Non | ALD/AGGIR = A2 |
| E61, N6 | A3 |  Non | Protection juridique = A3 |
| E66, E69, E70 | A3 |  Non | Complexit admin = A3. E63 (proccupations) est dans A4 car c'est un inventaire, pas une mesure de complexit |

>  **Verdict** : Les 7 questions de A4 sont les bonnes. Pas de candidat  migration. L'htrognit (scolaire + pro + budget + accompagnement) est gre par 3 catgories distinctes.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des 7 questions, des 2 recos legacy (A4_RECO_01 = guidage dmarches, A4_RECO_02 = financements complmentaires) et des donnes idec_actions en legacy (E64/E65/E67 ont des actions IDEC pour certaines rponses) rvle **3 axes cliniques** :

1. **Inclusion scolaire et professionnelle**  E64, E65, E67 dtectent si le proche a accs  une structure adapte et un accompagnement. C'est le cur de A4 : garantir que le proche est inclus dans la socit.
2. **Accompagnement et ressources pour l'aidant**  N43, N5, E63 mesurent les services utiliss, les aides reues, et les proccupations. L'action = complter le recours aux services, orienter vers les aides manquantes. A4_RECO_01 legacy s'inscrit ici.
3. **Viabilit financire**  O61 est la question de clture : les moyens suffisent-ils ? A4_RECO_02 legacy (financements complmentaires via mutuelle) s'inscrit ici.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | A4_CAT_01 | Inclusion scolaire et professionnelle | Assurer l'accs du proche  une structure adapte et accompagenment AESH |  Propos (E64, E65, E67 + actions IDEC legacy) |
| 2 | A4_CAT_02 | Accompagnement et ressources aidant | Complter le recours aux services et orienter vers les aides manquantes | Legacy  (A4_RECO_01) + E63, N43, N5 |
| 3 | A4_CAT_03 | Viabilit financire | valuer et scuriser les moyens financiers | Legacy  (A4_RECO_02) + O61 |

###  Pourquoi 3 catgories et pas 2 ou 4 ?

**Pas 2 (fusionner CAT_02 et CAT_03)** : L'accompagnement aidant (services, aides, proccupations) et la viabilit financire sont complmentaires mais distincts. Un aidant peut tre bien accompagn (N43 rempli) mais en difficult financire (O61 = Non). Ou inversement. Les MT sont diffrentes.

**Pas 4 (sparer scolaire et professionnel)** : E64+E65 (scolaire) et E67 (professionnel) partagent le mme objectif (inclusion du proche) et les mmes acteurs (MDPH, structures adaptes). Proportionnalit (T4) : 3 questions  1 catgorie suffit. Et les rponses de E64 et E65 sont souvent lies (pas d'AESH  pas d'cole).

> **T1  Cohrence inter-MP** :
> - CAT_02 (accompagnement aidant) pourrait doublonner avec A2_CAT_01 (activation droits) ou A3_CAT_01 (accompagnement complexit). La distinction : A2 = quels droits demander, A3 = comment simplifier les dmarches, A4 = quels services utiliser pour tre soutenu.
> - CAT_03 (viabilit financire) pourrait doublonner avec A2_CAT_01 (activer les droits financiers). La distinction : A2 = activer les droits (APA, AAH) ; A4 = valuer si les MOYENS globaux (y compris les droits A2) suffisent.

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

>  **Aucune rgle d'activation en DB pour A4.** Les 2 recos legacy (A4_RECO_01, A4_RECO_02) n'ont pas de \`activation_rule_id\`. Les actions IDEC dans \`recommendations_legacy\` pour E64, E65, O61 existent mais ne sont pas structures en rgles. **TOUT est  crer.**

### Rappel des questions A4 et options dclenchantes

> **E63**   Quelles dmarches vous proccupent le plus ? 
>  Toute option SAUF  Aucune en particulier  = pertinent

> **E64**   L'enfant frquente-t-il une cole/structure adapte ? 
>  ** Trs difficile ** ou ** Non ** = dclenchant

> **E65**   Bnficie-t-il d'un AESH/AVS ? 
>  ** Non ** ou ** Oui, besoin identifi mais pas en place ** = dclenchant

> **E67**   Activit professionnelle/occupationnelle adapte ? 
>  ** Oui mais difficile ** ou ** Non, avec difficults ** = dclenchant

> **N43**   Services d'accompagnement utiliss ? 
>  ** Aucun ** = dclenchant

> **N5**   Aides utilises ? 
>  ** Aucune ** = dclenchant

> **O61**   Les moyens financiers suffisent-ils ? 
>  ** Non ** = dclenchant

---

### Catgorie 1  Inclusion scolaire et professionnelle

####  Standard  \`V2_A4_STD_01\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> E64 = ** Oui, mais avec amnagements ou accompagnement **
> **OU** E67 = ** Oui, mais elle devient difficile  tenir **
>
> **ALORS** : Recommander un suivi de l'inclusion
>
> **Sens clinique** : L'inclusion est effective mais fragile. Les amnagements peuvent ne plus suffire  suivi recommand pour anticiper une dgradation.

####  CCC  \`V2_A4_CCC_01\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> 1. E64 = ** Trs difficile, il manque souvent / structure pas adapte ** ou ** Non, il ne frquente pas **
> **OU**
> 2. E65 = ** Oui, besoin identifi mais pas encore en place **
>
> **ALORS** : Recommander l'action pour l'inclusion  CCC ( 30 jours)
>
> **Sens clinique** : L'enfant n'a pas accs  une structure adapte ou l'AESH identifi n'est pas en place  dscolarisation/exclusion en cours. Urgence administrative  rsoudre sous 30 jours (dossier MDPH, notification).
>
> **Source legacy** : "valuer les difficults rencontres avec la famille" (E64), "Accompagner la constitution d'un dossier MDPH" (E65).

####  Critique  \`V2_A4_CRIT_01\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> 1. E64 = ** Non, il ne frquente pas d'cole ou de structure adapte ** **OU** ** Trs difficile **
> 2. **ET** E65 = ** Non ** (pas d'AESH, pas de besoin identifi)
> 3. **ET** E67 = ** Non, et cela cre des difficults (isolement, repli, perte de repres) **
>
> **ALORS** : Action urgente pour l'inclusion  Critique ( 7 jours)
>
> **Sens clinique** : Triple exclusion : pas de structure scolaire + pas d'accompagnement + pas d'activit avec difficults = le proche est en rupture sociale totale. Risque d'isolement grave, de repli et de dgradation rapide.

---

### Catgorie 2  Accompagnement et ressources aidant

####  Standard  \`V2_A4_STD_02\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> N43 = ** Aucun ** (aucun service d'accompagnement utilis)
> **OU** N5 = ** Aucune ** (aucune aide utilise)
>
> **ALORS** : Recommander l'orientation vers des services d'accompagnement
>
> **Sens clinique** : L'aidant n'utilise aucun service d'aide. Il gre tout seul  besoin d'informer sur les ressources existantes (AS, MDPH, CCAS, rpit, formation).
>
> **Source legacy** : A4_RECO_01 =  Demandez  tre guid dans vos dmarches et  accder aux aides et ressources disponibles .

####  CCC  \`V2_A4_CCC_02\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> 1. N43 = ** Aucun ** **ET** N5 = ** Aucune **
> 2. **ET** E63 contient au moins 2 proccupations (multiselect  2)
>
> **ALORS** : Orienter l'aidant vers des services d'accompagnement  CCC ( 30 jours)
>
> **Sens clinique** : L'aidant n'utilise aucun service, n'a reu aucune aide, et est proccup par plusieurs dmarches simultanment  signe de surcharge non accompagne. Urgence  connecter avec un AS ou CCAS.

####  Critique  \`V2_A4_CRIT_02\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> 1. N43 = ** Aucun ** **ET** N5 = ** Aucune **
> 2. **ET** O61 = ** Non ** (moyens financiers insuffisants)
>
> **ALORS** : Accompagnement urgent de l'aidant  Critique ( 7 jours)
>
> **Sens clinique** : Aucun service utilis + aucune aide reue + moyens financiers insuffisants = l'aidant est en situation de prcarit non accompagne. Triple absence de soutien  risque de rupture.

---

### Catgorie 3  Viabilit financire

####  Standard  \`V2_A4_STD_03\` _(NOUVEAU  bas sur A4_RECO_02)_

> **SI** l'aidant a rpondu :
> O61 = ** Non ** (moyens financiers insuffisants)
>
> **ALORS** : Recommander l'accs  des financements complmentaires
>
> **Sens clinique** : Les moyens financiers ne suffisent pas  besoin d'information sur les aides financires mobilisables (mutuelle, fonds sociaux, aides exceptionnelles).
>
> **Source legacy** : A4_RECO_02 =  Accdez  des financements complmentaires  (acteurs : AS + Mutuelle).

####  CCC  \`V2_A4_CCC_03\` _(NOUVEAU)_

> **SI** l'aidant a rpondu :
> 1. O61 = ** Non ** (moyens financiers insuffisants)
> 2. **ET** N43 = ** Aucun ** (aucun service d'accompagnement)
>
> **ALORS** : Orienter vers des financements et l'AS  CCC ( 30 jours)
>
> **Sens clinique** : Difficults financires + aucun recours aux services  l'aidant est en difficult financire et ne sait pas  qui s'adresser. Urgence  connecter avec l'AS pour un bilan social.

---

###  Dcisions Action 2

| # | Proposition | Dcision | Rgle |
|---|---|---|---|
| 1 |  STD CAT_01 (inclusion fragile) |  Propos | \`V2_A4_STD_01\` |
| 2 |  CCC CAT_01 (exclusion en cours) |  Propos | \`V2_A4_CCC_01\` |
| 3 |  CRIT CAT_01 (triple exclusion) |  Propos | \`V2_A4_CRIT_01\` |
| 4 |  STD CAT_02 (aucun service) |  Propos | \`V2_A4_STD_02\` |
| 5 |  CCC CAT_02 (aucun + proccupations) |  Propos | \`V2_A4_CCC_02\` |
| 6 |  CRIT CAT_02 (aucun + O61 Non) |  Propos | \`V2_A4_CRIT_02\` |
| 7 |  STD CAT_03 (O61 Non) |  Propos | \`V2_A4_STD_03\` |
| 8 |  CCC CAT_03 (O61 Non + N43 Aucun) |  Propos | \`V2_A4_CCC_03\` |

> **Contrle K3** :
> - CAT_01 :  OK (STD + CCC + CRIT = 3 niveaux)
> - CAT_02 :  OK (STD + CCC + CRIT = 3 niveaux)
> - CAT_03 :  2 niveaux seulement (STD + CCC). **Pas de Critique.** Le Critique pour O61 = Non est couvert par CAT_02 CRIT (O61 + N43 = Aucun). Un Critique CAT_03 pur ncessiterait un croisement inter-MP (ex. O61 Non + E62 Aucun de A2) qui serait trop complexe.
>
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** :  Aucune micro-tche pour les questions A4 en DB. Mais plusieurs \`idec_actions\` dans \`recommendations_legacy\` pour E64, E65, O61. Actions IDEC legacy :
> - E64 rponse 3 (trs difficile)   valuer les difficults rencontres avec la famille 
> - E64 rponse 4 (non)   Informer la famille sur les dmarches possibles 
> - E65 rponse 3 (besoin non en place)   Accompagner la constitution d'un dossier MDPH 
> - O61 rponse Non   Rappeler  l'aidant de contacter l'AS  +  Informer sur financements via mutuelle 

### CAT_01  Inclusion scolaire et professionnelle

> Legacy : actions IDEC pour E64/E65. Propositions : **4 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A4_01 | valuer les freins  l'inclusion du proche (scolaire, structure, activit) | ORGA | IDEC |  | Legacy  (E64 action IDEC) |
| MT_V2_A4_02 | Informer sur les dispositifs d'inclusion (MDPH, AESH, ESAT, accueil de jour) | INFO | IDEC |  | Legacy  (E64 action IDEC) |
| MT_V2_A4_03 | Accompagner la constitution d'un dossier MDPH pour l'inclusion | STRUC | IDEC/AS |  | Legacy  (E65 action IDEC) |
| MT_V2_A4_04 | Orienter vers la structure adapte identifie | SEC | IDEC |  | NOUVEAU  |

### CAT_02  Accompagnement et ressources aidant

> Legacy : A4_RECO_01. Propositions : **4 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A4_05 | Inventorier les services d'accompagnement mobiliss et manquants | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A4_06 | Informer sur les services disponibles (AS, CCAS, PFR, EAS, associations) | INFO | IDEC |  | Legacy  (A4_RECO_01) |
| MT_V2_A4_07 | Structurer un plan d'accompagnement individuel | STRUC | IDEC |  | NOUVEAU  |
| MT_V2_A4_08 | Orienter vers l'AS ou le CLIC pour un suivi coordonn | SEC | IDEC |  | Legacy  (A4_RECO_01 : "Orienter vers l'AS ou le CLIC") |

### CAT_03  Viabilit financire

> Legacy : A4_RECO_02. Propositions : **3 MT**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V2_A4_09 | valuer les besoins financiers non couverts | ORGA | IDEC |  | NOUVEAU  |
| MT_V2_A4_10 | Informer sur les financements complmentaires (mutuelle, fonds solidarit, aides exceptionnelles) | INFO | IDEC |  | Legacy  (A4_RECO_02) |
| MT_V2_A4_11 | Orienter vers l'AS pour un bilan social et financier | SEC | AS |  | Legacy  (O61 action IDEC) |

>  **Observation CAT_03** : Pas de MT STRUC. La viabilit financire ne produit pas un "document" (comme un dossier MDPH) mais un "aiguillage" vers les bons professionnels. L'AS ralise le bilan social  c'est elle qui structure. L'IDEC diagnostique et oriente.

###  Dcisions Action 3

| # | Proposition | Dcision | MT cres |
|---|---|---|---|
| 1 | 4 MT pour CAT_01 (inclusion) |  Propos | \`MT_V2_A4_01\`  \`MT_V2_A4_04\` |
| 2 | 4 MT pour CAT_02 (accompagnement) |  Propos | \`MT_V2_A4_05\`  \`MT_V2_A4_08\` |
| 3 | 3 MT pour CAT_03 (viabilit financire) |  Propos | \`MT_V2_A4_09\`  \`MT_V2_A4_11\` |

> **Condition ASR par catgorie** :
> - CAT_01 :  2 (STRUC + SEC)   ASR complte
> - CAT_02 :  2 (STRUC + SEC)   ASR complte
> - CAT_03 :  1 (SEC)  ASR partielle (pas de STRUC  justifi ci-dessus)
>
> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

### Tableau consolid des MT de A4 (final)

| MT_ID | Libell | Type | Acteur | Domaine | / | CAT | Source |
|---|---|---|---|---|---|---|---|
| MT_V2_A4_01 | valuer freins inclusion | ORGA | IDEC |  M-S |  | CAT_01 | Legacy  |
| MT_V2_A4_02 | Informer dispositifs inclusion | INFO | IDEC |  M-S |  | CAT_01 | Legacy  |
| MT_V2_A4_03 | Dossier MDPH inclusion | STRUC | IDEC/AS |  M-S |  | CAT_01 | Legacy  |
| MT_V2_A4_04 | Orienter structure adapte | SEC | IDEC |  M-S |  | CAT_01 | NOUVEAU  |
| MT_V2_A4_05 | Inventaire services mobiliss/manquants | ORGA | IDEC |  M-S |  | CAT_02 | NOUVEAU  |
| MT_V2_A4_06 | Informer services disponibles | INFO | IDEC |  M-S |  | CAT_02 | Legacy  |
| MT_V2_A4_07 | Plan d'accompagnement individuel | STRUC | IDEC |  M-S |  | CAT_02 | NOUVEAU  |
| MT_V2_A4_08 | Orienter AS/CLIC suivi coordonn | SEC | IDEC |  M-S |  | CAT_02 | Legacy  |
| MT_V2_A4_09 | valuer besoins financiers | ORGA | IDEC |  M-S |  | CAT_03 | NOUVEAU  |
| MT_V2_A4_10 | Informer financements complmentaires | INFO | IDEC |  M-S |  | CAT_03 | Legacy  |
| MT_V2_A4_11 | Orienter AS bilan social | SEC | AS |  M-S |  | CAT_03 | Legacy  |

> **Rsum** :  
> - Total MT : **11** (6 legacy adaptes + 5 nouvelles)  
> - 100%  Mdico-social  
> - Contributives () : **5**  STRUC: 2, SEC: 3  
> - Non-contributives () : **6**  INFO: 3, ORGA: 3

###  Propositions d'amlioration

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V2_A4_03  acteur principal AS** | Le dossier MDPH est une expertise AS. L'IDEC repre, l'AS constitue. |
| 2 | **MT_V2_A4_02  inclure ESAT et accueil de jour dans les dispositifs** | E67 mesure l'activit pro/occupationnelle  ESAT et accueil de jour sont les structures cls pour les adultes. |
| 3 | **Ajouter STRUC  CAT_03** |  Constituer un dossier de demande d'aide financire exceptionnelle   rend l'ASR complte pour CAT_03. |

> **Dcision Dr. Monka** :  Valid |  Modifications

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base

#### Wording des 11 MT (IDEC + Utilisateur)

| MT_ID | CAT | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|
| MT_V2_A4_01 | 01 | valuer avec la famille les freins  l'inclusion du proche (accs cole/structure, AESH, activit adapte) | Identifiez ce qui empche votre proche d'accder  une structure ou activit adapte |  |
| MT_V2_A4_02 | 01 | Informer sur les dispositifs d'inclusion : MDPH, notification AESH/AVS, ESAT, accueil de jour | Renseignez-vous sur les dispositifs d'inclusion adapts (MDPH, AESH, structures) |  |
| MT_V2_A4_03 | 01 | Accompagner la constitution d'un dossier MDPH pour notification d'inclusion | Prparez un dossier MDPH pour obtenir l'accompagnement adapt |  |
| MT_V2_A4_04 | 01 | Organiser l'orientation vers la structure adapte identifie (cole, ESAT, accueil de jour) | Prenez contact avec la structure adapte identifie pour votre proche |  |
| MT_V2_A4_05 | 02 | Inventorier les services d'accompagnement dj utiliss et identifier les manques | Faites le point sur les services qui vous aident et ceux qui pourraient vous tre utiles |  |
| MT_V2_A4_06 | 02 | Informer sur les services disponibles localement : AS, CCAS, PFR, EAS, associations de patients | Renseignez-vous sur les services d'aide disponibles prs de chez vous |  |
| MT_V2_A4_07 | 02 | Structurer un plan d'accompagnement individuel intgrant les services identifis | Mettez en place un plan d'accompagnement avec les services adapts  votre situation |  |
| MT_V2_A4_08 | 02 | Orienter vers l'AS du secteur ou le CLIC pour un suivi coordonn des aides | Prenez contact avec une assistante sociale pour coordonner votre accompagnement |  |
| MT_V2_A4_09 | 03 | valuer les besoins financiers non couverts et identifier les postes de dpense critiques | Identifiez les dpenses lies  l'aide que vous ne pouvez plus assumer |  |
| MT_V2_A4_10 | 03 | Informer sur les financements complmentaires : mutuelle, fonds de solidarit, aides exceptionnelles CPAM/CAF | Renseignez-vous sur les aides financires complmentaires disponibles |  |
| MT_V2_A4_11 | 03 | Orienter vers l'AS pour raliser un bilan social complet et identifier les aides financires mobilisables | Prenez rendez-vous avec une assistante sociale pour un bilan de votre situation financire |  |

#### Wording des 3 Recos de base

| CAT | Reco Utilisateur | Reco IDEC | / |
|---|---|---|---|
| CAT_01 | Inclusion de votre proche | Accompagner l'accs  une structure adapte |  |
| CAT_02 | Aide et accompagnement pour vous | Orienter vers les services d'accompagnement |  |
| CAT_03 | Financements complmentaires | Scuriser la situation financire |  |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections

---

### Phase 2  Versioning par criticit

#### CAT_01  Inclusion scolaire et professionnelle

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Suivi de l'inclusion conseill | Surveiller la fragilit de l'inclusion |
|  CCC ( 30j) | Inclusion  rtablir | Agir pour l'inclusion sous 30 jours |
|  Critique ( 7j) | Rupture d'inclusion  action urgente | Intervention urgente pour l'inclusion |

| MT_ID |  Standard |  CCC |  Critique |
|---|---|---|---|
| MT_V2_A4_01 | Vrifiez que l'inclusion reste adapte | valuez rapidement les freins | Identifiez ds maintenant les blocages |
| MT_V2_A4_03 | Prparez un dossier MDPH si besoin | Constituez le dossier MDPH dans le mois | Constituez le dossier MDPH cette semaine |

#### CAT_02  Accompagnement aidant

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Services d'aide  explorer | Informer sur les services disponibles |
|  CCC ( 30j) | Accompagnement recommand | Organiser l'accompagnement sous 30 jours |
|  Critique ( 7j) | Accompagnement urgent | Connecter avec l'AS sous 7 jours |

| MT_ID |  Standard |  CCC |  Critique |
|---|---|---|---|
| MT_V2_A4_08 | Contactez une AS si besoin | Contactez une AS dans le mois | Contactez une AS cette semaine |

#### CAT_03  Viabilit financire

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Financements complmentaires  explorer | Informer sur les aides financires |
|  CCC ( 30j) | Aide financire recommande | Orienter vers l'AS pour bilan financier sous 30 jours |

| MT_ID |  Standard |  CCC |
|---|---|---|
| MT_V2_A4_11 | Contactez une AS pour un bilan | Contactez une AS dans le mois pour un bilan urgent |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP A4 n'est PAS activ (inclusion effective, aidant bien accompagn, moyens financiers suffisants)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  La situation d'inclusion et les moyens financiers semblent stables. Restez vigilant aux changements de situation (fin de droits, volution des besoins).  |  Situation d'inclusion et financire stable. Vrifier les renouvellements MDPH, les amnagements scolaires/pro et les droits financiers  chaque suivi.  |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| _(NOUVELLE)_ | Vrifier le renouvellement des notifications MDPH | ORGA | Vrifier les dates de renouvellement MDPH (AESH, orientation, AAH) | Pensez  vrifier les dates de renouvellement de vos notifications MDPH |
| _(NOUVELLE)_ | Anticiper les transitions de vie (cole  collge, emploi) | INFO | Prparer l'aidant aux transitions de vie qui ncessitent de nouvelles dmarches | Anticipez les grands changements (passage au collge, recherche d'emploi) |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question  1 rgle d'activation |  |  | E63: via CCC_02 (2 proccupations), E64: , E65: , E67: , N43: , N5: , O61:  |
| 2 | Chaque rgle  1 version de reco |  |  | 8 rgles  toutes lies |
| 3 | Chaque catgorie  MT assignes |  |  | CAT_01: 4 MT, CAT_02: 4 MT, CAT_03: 3 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | CAT_01: 3, CAT_02: 3, CAT_03: 2 |
| 5 | Aucune MT orpheline |  |  | 11 MT rattaches |
| 6 | Reco prvention |  |  | Propose |
| 7 | Wording reco = conseil, MT = verbe |  |  | Phase 1 + Phase 2 proposes |
| 8 | Sens clinique document |  |  | 8 rgles documentes |

> **Score** : **4/8 valids**, 3 en attente validation, 1 partiel (E63 indirect)

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories | 2 (guidage + financements) | **3** (inclusion, accompagnement, viabilit financire) |
| Rgles d'activation | 0 | **8** (:3, :3, :2)  toutes proposes |
| MT totales | 0 | **11** (6 legacy adaptes + 5 nouvelles) |
| MT contributives | 0 | **5** (STRUC:2, SEC:3) |
| Domaine  /  | - | 0  / 11  |
| ASR |  Vide | CAT_01  + CAT_02  + CAT_03 partielle |
| Reco prvention |  |  Propose |
| Checks OK | 0/8 | 4/8 ( 8/8 aprs validations) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories (inclusion + accompagnement + budget) |  Propos |
| 2 | 8 rgles d'activation cres from scratch (aucune legacy) |  Propos |
| 3 | 11 MT cres (plus gros MP de V2) |  Propos |
| 4 | CAT_03 sans CRIT (couvert par CAT_02 CRIT) |  Observation |
| 5 | CAT_03 sans STRUC (AS fait le bilan  SEC suffit) |  Observation |
| 6 | E63 dclencheur indirect (2 proccupations) |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider les 3 catgories |  Haute |
| 2 | Valider les 8 rgles (toutes nouvelles) |  Haute |
| 3 | Dcider si CAT_03 a besoin d'un CRIT propre |  Moyenne |
| 4 | Dcider si STRUC ajout  CAT_03 (dossier aide financire) |  Moyenne |
| 5 | Valider wording Phase 1 + Phase 2 |  Haute |
| 6 | Valider reco prvention |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,J2=`#  Fiche de Validation MP  S1  Charge, fatigue et risque d'puisement

> **Vulnrabilit** : V3  Sant de l'Aidant  
> **ASR** :  Reprer la surcharge et prvenir l'puisement   
> **Signature A** : S1-A  Relais rduisant la charge  
> **Signature B** : S1-B  Organisation allgeant le quotidien  
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## CONTEXTE  Big Picture V3

### Rpartition des 26 questions V3 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **S1** | Charge, fatigue et risque d'puisement | 9 | E7, E10, E11, E14, N8, O29, O32, O33, O50 | Surcharge physique et psychologique de l'aidant, risque d'puisement |
| **S2** | Inquitudes pour la scurit | 4 | E8, E9, E12, E13 | Isolement motionnel, temps pour soi, inquitudes scuritaires |
| **S3** | Sant physique et renoncement aux soins | 9 | E18, O37, O38, O39, O40, O41, O42, O43, O44 | Suivi mdical, accs aux soins, tat de sant peru |
| **S4** | Hygine de vie (activit et sommeil) | 4 | E15, E16, E17, E19 | Accs aux soins pour soi, activit physique, sommeil |

> **S1 se concentre sur la CHARGE ET L'PUISEMENT** (la consquence de l'aidance sur la sant globale de l'aidant) alors que S2 parle des INQUITUDES SCURITAIRES (risques pour le proche et isolement motionnel), S3 de la SANT PHYSIQUE OBJECTIVE (suivi mdical, renoncement aux soins), et S4 de l'HYGINE DE VIE (accs aux RDV, activit, sommeil). La frontire est clinique : S1 = "est-ce que la charge m'crase ?", S2 = "est-ce que je suis seule et inquiete ?", S3 = "est-ce que je me soigne encore ?", S4 = "est-ce que mon mode de vie me prserve ?".

---

## 0. DONNES FIGES  Questions rattaches  S1

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E7 |  quel point vous sentez-vous puise par votre rle d'aidant actuellement | etat | Pas du tout fatigue / Un peu fatigue / Trs fatigue / puise ou au bord de craquer |
| 2 | E10 | Sur le plan moral (stress, inquitude), o vous situez-vous en ce moment ? | etat | a va globalement / Je suis parfois tendue ou inquiette / Je suis souvent tendue ou inquiette / Je me sens dborde ou au bord de craquer |
| 3 | E11 | Si rien ne change, pensez-vous pouvoir continuer  vous occuper de votre proche dans les 6 prochains mois ? | etat | Oui, sans difficult particulire / Oui, mais ce sera difficile / Je ne suis pas sre / Non, je risque de ne plus y arriver |
| 4 | E14 | Et au cours des 30 derniers jours ? (jours d'arrt) | facteur | Moins de 3 jours / Entre 4 et 7 jours / Plus de 7 jours |
| 5 | N8 | Votre rle d'aidant vous a-t-il conduit  tre en arrt de travail (maladie) lors des 12 derniers mois ? | facteur | Non / J'ai d m'arrter moins de 5 jours / J'ai d m'arrter entre 5 jours et 1 mois / J'ai d m'arrter entre 1 mois et 3 mois / J'ai d m'arrter entre 3 mois et 6 mois / J'ai d m'arrter plus de 6 mois |
| 6 | O29 | Vous occuper de la personne aide a-t-il un retentissement sur votre sant (physique et/ou psychique) ? | etat | Pas du tout / Un peu / Oui |
| 7 | O32 | Souhaitez-vous tre davantage aid(e) pour vous en occuper ? | etat | Pas du tout / Un peu / Oui |
| 8 | O33 | Ressentez-vous une charge en vous occupant de cette personne ? | etat | Pas du tout / Un peu / Oui |
| 9 | O50 | Combien de temps lui consacrez-vous ? | facteur | Je n'ai malheureusement pas le temps / Entre 1h et 5h par semaine / Entre 6h et 10h par semaine / Plus de 10h par semaine |

> Total : 9 questions rattaches  S1

###  Pourquoi ces 9 questions ?

**E7** et **O33** forment un duo qui mesure l'puisement et la charge perue :
- E7 = intensit de la fatigue ressentie (gradient 4 niveaux)
- O33 = perception de la charge globale (gradient 3 niveaux)

 Elles sont dans S1 et pas S2 car elles mesurent l'TAT D'PUISEMENT (consquence), pas l'ISOLEMENT MOTIONNEL (S2) ni la SANT PHYSIQUE (S3).

**E10** mesure le moral (stress, inquitude). C'est un marqueur psychologique qui s'inscrit dans la trilogie charge-fatigue-moral  S1.

**E11** mesure la capacit de projection  6 mois. C'est un indicateur prdictif de rupture du rle d'aidant  lment central de S1 "prvenir l'puisement".

**O29** mesure le retentissement de l'aidance sur la sant de l'aidant. C'est un auto-diagnostic global  S1 (impact global) et pas S3 (qui cible le suivi mdical objectif).

**O32** mesure le souhait d'tre davantage aid. C'est un signal d'appel ("j'ai besoin d'aide")  S1 car c'est un marqueur de surcharge, pas un besoin de scurisation (S2).

**E14** et **N8** forment un duo qui mesure l'impact professionnel :
- N8 = arrt de travail sur 12 mois (fait pass)
- E14 = jours d'arrt sur 30 jours (contexte conditionnel si N8  Non)

**O50** mesure le temps d'aide hebdomadaire consacr au proche. C'est un facteur quantitatif de charge  S1.

###  Analyse des 17 autres questions V3  Pourraient-elles appartenir  S1 ?

> Les questions et leurs options sont **figes**. L'objectif est uniquement de vrifier si l'affiliation actuelle est correcte.

#### Questions S2 (Inquitudes pour la scurit)

| Question | Libell | Pertinence S1 ? | Raisonnement |
|---|---|---|---|
| **E8** | Sentiment d'tre seul(e) motionnellement |  Non | Mesure l'**isolement motionnel**. C'est un facteur de risque psycho-social  S2. S1 mesure la charge, pas la solitude. |
| **E9** | Temps pour soi dans la semaine |  **Dbattable** | L'absence de temps pour soi pourrait contribuer  l'puisement (S1). **Mais** : E9 est dans S2 car elle mesure un facteur de rcupration li  l'isolement, pas la charge elle-mme. L'aidant peut tre puis (S1) tout en ayant du temps pour soi. |
| **E12** | Inquiet que le proche se fasse du mal |  Non | Concerne la SCURIT DU PROCHE, pas l'tat de charge de l'aidant  S2 pur.  **Cependant** : E12 active V3_S1_CRIT_01 (rgle critique de S1). C'est un cas de dclenchement cross-MP : E12  appartient   S2 mais peut activer S1 via rgle critique. |
| **E13** | Inquiet que le proche mette autrui en danger |  Non | Mme logique que E12  S2 pur.  E13 active V3_S1_CRIT_02 (cross-MP). |

>  **Verdict S2** : Aucune question S2 ne devrait tre transfre dans S1. **E12** et **E13** activent S1 via des rgles critiques cross-MP (urgence vitale immdiate), mais restent rataches  S2 thmatiquement. **E9** est dbattable mais le choix de S2 est justifi (rcupration  charge).

#### Questions S3 (Sant physique et renoncement aux soins)

| Question | Libell | Pertinence S1 ? | Raisonnement |
|---|---|---|---|
| **E18** | Qualit du sommeil |  **Dbattable** | Le sommeil est un marqueur d'puisement  pourrait tre S1. **Mais** : E18 est dans S3 car elle mesure un paramtre de SANT PHYSIQUE objective (qualit du repos). S1 mesure la charge subjective. |
| **O37** | Mdecin traitant ? |  Non | Accs aux soins = S3 pur. |
| **O38** | Spcialistes qui vous suivent ? |  Non | Suivi mdical = S3 pur. |
| **O39-O44** | Dtails spcialistes, RDV, maladies, mdicaments, sant perue |  Non | Suivi mdical dtaill = S3 pur. |

>  **Verdict S3** : Aucune question S3 ne devrait tre dans S1. **E18** est le seul candidat dbattable (sommeil li  l'puisement), mais le choix S3 est justifi car E18 mesure un paramtre physiologique, pas une perception de charge.

#### Questions S4 (Hygine de vie)

| Question | Libell | Pertinence S1 ? | Raisonnement |
|---|---|---|---|
| **E15** | Difficults  obtenir des RDV mdicaux |  Non | Accs aux soins pour soi = S4 pur. Pas un marqueur de charge. |
| **E16** | Vos propres RDV mdicaux depuis que vous tes aidant |  Non | Comportement face aux soins = S4 pur. |
| **E17** | Activit physique rgulire |  Non | Hygine de vie = S4 pur. |
| **E19** | Principaux soucis de sant actuels |  Non | tat de sant dclar = S4 pur. |

>  **Verdict S4** : Aucune question S4 ne devrait tre dans S1. S4 concerne l'hygine de vie et l'accs aux soins de l'aidant, pas la charge d'aidance.

#### Question transversale (trigger)

| Question | Libell | Pertinence S1 ? | Raisonnement |
|---|---|---|---|
| **O49** | Depuis combien de temps l'aidez-vous ? |  **Cross-MP** | O49 n'est mappe  aucun MP en DB (trigger transversal). Cependant, elle active V3_S1_STD_01 : dure d'aidance > 2 ans  risque d'puisement chronique. La question reste transversale mais son impact principal est sur S1. |

###  Synthse affiliation

| Question | MP actuel | Pertinence S1 ? | Confiance |
|---|---|---|---|
| E8, E9, E12, E13 | S2 |  Non (E9 dbattable) |  Haute |
| E18, O37-O44 | S3 |  Non (E18 dbattable) |  Haute |
| E15, E16, E17, E19 | S4 |  Non |  Haute |
| O49 | Trigger transversal |  Cross-MP (active S1) |  Correcte |

> **Conclusion** : Les 9 questions de S1 sont les bonnes. **O49** (dure d'aidance) est un trigger transversal qui active S1 mais n'est pas "proprit" de S1. **E12** et **E13** (S2) activent S1 via des rgles critiques cross-MP (urgence vitale). **E9** (S2) et **E18** (S3) sont les seuls candidats dbattables  les choix actuels sont cliniquement justifis.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des questions et des recommandations legacy montre 3 axes cliniques distincts :

1. **valuation et soutien psychologique**  E7, E10, O29, O33 mesurent l'tat d'puisement. Les recommandations legacy S1_RECO_01 et S1_RECO_04 couvrent cet axe (discussion avec IDEC, plateforme de rpit).
2. **Relais et aide  domicile**  E11, E14, N8 mesurent la capacit  tenir et l'impact professionnel. La recommandation legacy S1_RECO_02 couvre cet axe (service d'aide  domicile = SAD).
3. **Accs aux aides sociales**  O32 mesure le besoin d'aide. La recommandation legacy S1_RECO_03 couvre cet axe (contacter l'AS).

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | S1_CAT_01 | valuation et soutien face  l'puisement | valuer l'tat d'puisement et proposer un soutien psychologique | Legacy  (S1_RECO_01, S1_RECO_04) |
| 2 | S1_CAT_02 | Mise en place de relais (aide  domicile) | Organiser un relais concret via service d'aide  domicile | Legacy  (S1_RECO_02) |
| 3 | S1_CAT_03 | Accs aux aides et ajustement | Orienter vers les aides sociales pour ajuster les demandes | Legacy  (S1_RECO_03) |

###  Pourquoi 3 catgories et pas 2 ou 4 ?

**Pas 2** : L'valuation psychologique (CAT_01) et la mise en place de relais (CAT_02) sont cliniquement distincts. Un aidant peut tre puis sans avoir besoin d'un SAD (il a peut-tre besoin d'un soutien psychologique seul).  les deux actions sont indpendantes.

**Pas 4** : Ajouter une catgorie "Rpit" ddie serait redondant avec CAT_01 (la plateforme de rpit fait partie du soutien face  l'puisement). Le rpit est une modalit d'action de CAT_01, pas un axe clinique distinct.

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

Les rgles legacy V3 sont entirement certifies (100% legacy). S1 a 7 rgles d'activation rparties sur 3 niveaux : 2 Critiques (E12, E13 = risque vital), 1 CCC (E7+E11 = rupture imminente), 4 Standard (O49, N8, E14, O32).

>  **Observation cross-MP** : Les rgles critiques V3_S1_CRIT_01 (E12) et V3_S1_CRIT_02 (E13) utilisent des questions qui appartiennent  **S2**, pas  S1. C'est un cas de dclenchement cross-MP : l'inquitude scuritaire (S2) active l'urgence d'puisement (S1) car la charge motionnelle lie aux risques est un facteur majeur d'puisement.

### Rappel des questions S1 et de leurs options dclenchantes

> **E7**    quel point vous sentez-vous puise par votre rle d'aidant ? 
> -  Pas du tout fatigue /  Un peu fatigue /  **Trs fatigue** (CCC) /  **puise / au bord de craquer** (CCC)

> **E11**   Si rien ne change, pensez-vous pouvoir continuer dans les 6 prochains mois ? 
> -  Oui, sans difficult /  Oui, mais ce sera difficile /  **Je ne suis pas sre** (CCC) /  **Non, je risque de ne plus y arriver** (CCC)

> **E12**   tes-vous inquiette  l'ide que votre proche puisse se faire du mal ?  _(S2  cross-MP)_
> -  Non /  Parfois, selon les priodes /  **Oui, souvent** (Critique)

> **E13**   tes-vous inquiette  l'ide que votre proche puisse mettre d'autres en danger ?  _(S2  cross-MP)_
> -  Non /  Parfois /  **Oui** (Critique)

> **O49**   Depuis combien de temps l'aidez-vous ?  _(trigger transversal)_
> -  Moins de 6 mois /  Entre 6 mois et 2 ans /  **Depuis plus de 2 ans** (Standard)

> **N8**   Votre rle d'aidant vous a-t-il conduit  tre en arrt de travail ? 
> -  Non /  **Tout sauf  Non ** (Standard)

> **E14**   Au cours des 30 derniers jours ? (jours d'arrt) 
> -  Moins de 3 jours /  **Entre 4 et 7 jours** (Standard) /  **Plus de 7 jours** (Standard)

> **O32**   Souhaitez-vous tre davantage aid(e) pour vous en occuper ? 
> -  Pas du tout /  Un peu /  **Oui** (Standard)

---

### Catgorie 1  valuation et soutien face  l'puisement

####  Critique  \`V3_S1_CRIT_01\` + \`V3_S1_CRIT_02\`

> **SI** E12 =  Oui, souvent   **V3_S1_CRIT_01**
> Risque pour la personne aide  risque vital immdiat. Source : Legacy 
>
> **SI** E13 =  Oui   **V3_S1_CRIT_02**
> Risque pour autrui  risque vital immdiat. Source : Legacy 

####  CCC  \`V3_S1_CCC_01\`

> **SI** E7  {Trs fatigue, puise / au bord de craquer} **ET** E11  {Non, je risque de ne plus y arriver, Je ne suis pas sre}
>
> **ALORS** : valuation urgente et soutien face  l'puisement ( 30 jours)
>
> **Sens clinique** : Risque de rupture imminente du rle d'aidant. L'aidant est trs fatigu ET incertain de pouvoir continuer  ncessite un soutien rapide. Source : Legacy 

####  Standard  \`V3_S1_STD_01\` + \`V3_S1_STD_04\`

> **SI** O49 =  Depuis plus de 2 ans   **V3_S1_STD_01**
> Dure d'aidance > 2 ans  risque d'puisement chronique. Source : Legacy 
>
> **SI** O32 =  Oui   **V3_S1_STD_04**
> Souhait d'tre davantage aid  signal de surcharge. Source : Legacy 

---

### Catgorie 2  Mise en place de relais (aide  domicile)

####  CCC  _(mme CCC_01 que CAT_01  double activation)_

> Le CCC V3_S1_CCC_01 active aussi CAT_02. Quand l'aidant est en rupture imminente, le relais par SAD est une rponse concrte.

####  Standard  \`V3_S1_STD_02\` + \`V3_S1_STD_03\`

> **SI** N8   Non   **V3_S1_STD_02**
> Arrt de travail li au rle d'aidant  ncessit de relais. Source : Legacy 
>
> **SI** E14  {Entre 4 et 7 jours, Plus de 7 jours}  **V3_S1_STD_03**
> Jours d'arrt frquents sur 30 jours  incapacit  tenir sans relais. Source : Legacy 

---

### Catgorie 3  Accs aux aides et ajustement

####  Standard  \`V3_S1_STD_02\`

> Le mme signal N8 (arrt de travail) justifie aussi l'orientation vers les aides sociales pour ajustement des aides existantes.

---

###  Dcisions Action 2

| # | Rgle | Niveau | Catgorie(s) | Source |
|---|---|---|---|---|
| 1 | V3_S1_CRIT_01 (E12 = Oui) |  Critique | CAT_01 | Legacy  |
| 2 | V3_S1_CRIT_02 (E13 = Oui) |  Critique | CAT_01 | Legacy  |
| 3 | V3_S1_CCC_01 (E7 fatigue + E11 incertitude) |  CCC | CAT_01, CAT_02 | Legacy  |
| 4 | V3_S1_STD_01 (O49 > 2 ans) |  Standard | CAT_01 | Legacy  |
| 5 | V3_S1_STD_02 (N8  Non) |  Standard | CAT_02, CAT_03 | Legacy  |
| 6 | V3_S1_STD_03 (E14  4 jours) |  Standard | CAT_02 | Legacy  |
| 7 | V3_S1_STD_04 (O32 = Oui) |  Standard | CAT_01 | Legacy  |

> **Contrle K3** :
> - CAT_01 :  3 niveaux (Critique + CCC + Standard)
> - CAT_02 :  2 niveaux (CCC + Standard)
> - CAT_03 :  1 seul niveau (Standard)  pas de CCC ni Critique pour les aides sociales
>
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** : 4 MT legacy existent en DB pour S1 (1 contributive + 3 non-contributives). Les libells et types sont 100% legacy. Les acteurs/domaines sont proposs par l'IA .

### CAT_01  valuation et soutien face  l'puisement

> Legacy : MT_V3_004, MT_V3_032, MT_V3_014

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V3_004 | Proposer un change avec l'aidant pour valuer le vcu motionnel | SEC | IDEC  |  | Legacy  |
| MT_V3_032 | Contacter l'aidant pour valuer la charge mentale | INFO | IDEC  |  | Legacy  |
| MT_V3_014 | changer sur les difficults d'organisation | ORGA | IDEC  |  | Legacy  |

####  Analyse des MT  CAT_01

**Chane d'action** : INFO (MT_V3_032 : valuer)  SEC (MT_V3_004 : soutien)  ORGA (MT_V3_014 : organiser). La squence est cohrente : on value d'abord, puis on soutient, puis on organise.

**Condition de validation** : 1 MT contributive (MT_V3_004 SEC)  ASR partielle via CAT_01.

### CAT_02  Mise en place de relais (aide  domicile)

>  **Aucune MT legacy ddie  CAT_02 dans S1.** La reco S1_RECO_02 (SAD) existe mais n'a pas de MT spcifique dans S1. Les MT du SAD sont dans S2 (MT_V3_005).

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| _(Aucune MT legacy)_ | | | | | |

>  **Observation** : S1_RECO_02 (solliciter un SAD) est une reco CCC qui existe en DB. L'action IDEC associe est "Confirmer avec l'aidant le nombre d'heures envisages pour l'intervention du SAD". Cependant, aucune MT formelle n'est rattache  S1 pour cette action  les MT SAD sont dans S2.  valuer si des MT CAT_02 doivent tre cres pour S1.

### CAT_03  Accs aux aides et ajustement

> Legacy : MT_V3_031

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V3_031 | Rappeler  l'aidant de contacter l'AS | INFO | IDEC  |  | Legacy  |

####  Analyse des MT  CAT_03

**Observation** : 1 seule MT, non-contributive (INFO). L'aidant est orient vers l'AS mais aucune MT de scurisation (SEC) ni de structuration (STRUC) n'existe.

---

###  Synthse MT  S1

| Mtrique | Valeur |
|---|---|
| MT totales legacy | **4** |
| MT contributives () | **1** (SEC : MT_V3_004) |
| MT non-contributives () | **3** (INFO : MT_V3_031, MT_V3_032 / ORGA : MT_V3_014) |
| ASR validation | 1 MT contributive  100% = **ASR valide**  |

> **Dcision Dr. Monka** :  Valid |  Ajout MT pour CAT_02 |  Modifications

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs legacy** : \`IDEC\` (seul acteur prsent dans les MT S1)
> **Domaines proposs** :  Mdico-social 

### Tableau consolid des MT de S1 (tat actuel)

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Reco | Source |
|---|---|---|---|---|---|---|---|---|
| MT_V3_004 | Proposer un change pour valuer le vcu motionnel | SEC | IDEC  |  Mdico-social  |  | CAT_01 | S1_RECO_01 | Legacy  |
| MT_V3_032 | Contacter l'aidant pour valuer la charge mentale | INFO | IDEC  |  Mdico-social  |  | CAT_01 | S1_RECO_01 | Legacy  |
| MT_V3_014 | changer sur les difficults d'organisation | ORGA | IDEC  |  Mdico-social  |  | CAT_01 | S1_RECO_01 | Legacy  |
| MT_V3_031 | Rappeler  l'aidant de contacter l'AS | INFO | IDEC  |  Mdico-social  |  | CAT_03 | S1_RECO_03 | Legacy  |

> **Rsum** :
> - Total MT : **4** (toutes legacy)
> - Domaine  Mdical : **0 MT** / Domaine  Mdico-social : **4 MT**
> - Contributives () : **1**  SEC : 1
> - Non-contributives () : **3**  INFO : 2, ORGA : 1

###  Observations

>  **Pas de MT mdicale (MED)** : S1 est un MP mdico-social. L'puisement de l'aidant ne ncessite pas d'acte mdical direct en premire intention. L'IDEC value et oriente. C'est cohrent avec le primtre.
>
>  **Acteur unique IDEC** : Les 4 MT sont assignes  l'IDEC. Aucun autre acteur n'est mobilis (pas d'AS, pas de mdecin traitant, pas de psychologue en MT formelle). Le volet "rpit" (S1_RECO_04) n'a pas de MT associe.

###  Propositions d'amlioration

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V3_032  acteur Aidant (autonome)** | L'aidant pourrait identifier sa propre charge mentale via un outil d'auto-valuation. L'IDEC facilite mais l'aidant peut amorcer. |
| 2 | **Ajouter des MT pour S1_RECO_04 (rpit)** | La reco legacy "Contactez la plateforme de rpit" n'a aucune MT associe. Proposition : 1 MT ORGA "Rechercher la plateforme de rpit du territoire" + 1 MT SEC "Mettre en lien avec la plateforme". |

> **Dcision Dr. Monka** :  Valid |  Modifier les acteurs |  Ajouter MT rpit

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

> **Rgle de wording** :
> - **Reco** = conseil succinct. Pas une phrase, pas un verbe d'action. Un label court qui dit "quoi" sans dtailler "comment".
> - **MT** = action concrte. Verbe d'action des deux cts.

#### Wording des 4 Recos legacy

| Reco ID | Niveau | Texte utilisateur | Actions IDEC | Source |
|---|---|---|---|---|
| S1_RECO_01 |  Standard | Discutez des difficults d'tre aidant avec l'IDEC | Contacter l'aidant pour valuer la charge mentale | ia_reformul |
| S1_RECO_02 |  CCC | Sollicit un service d'aide  domicile pour prendre le relais | Confirmer avec l'aidant le nombre d'heures envisages pour le SAD | Legacy  |
| S1_RECO_03 |  Standard | Demandez  ajuster les demandes d'aide | Rappeler  l'aidant de contacter l'AS | ia_reformul |
| S1_RECO_04 |  Standard | Contactez la plateforme de rpit de votre territoire | Mettre en lien avec la plateforme de rpit locale. valuer le besoin de relais | Legacy  |

#### Wording des 4 MT (IDEC + Utilisateur)

| MT_ID | CAT | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|---|
| MT_V3_004 | CAT_01 | change vcu motionnel | Proposer un change avec l'aidant pour valuer le vcu motionnel et le niveau de fatigue | Parlez de votre vcu avec un professionnel |  |
| MT_V3_032 | CAT_01 | valuer charge mentale | Contacter l'aidant pour valuer la charge mentale et les facteurs d'puisement | Faites le point sur votre niveau de charge et de fatigue |  |
| MT_V3_014 | CAT_01 | Difficults organisation | changer avec l'aidant sur les difficults d'organisation du quotidien | Identifiez les points de friction dans votre organisation quotidienne |  |
| MT_V3_031 | CAT_03 | Contacter l'AS | Rappeler  l'aidant de contacter l'assistante sociale pour ajuster les aides | Contactez votre assistante sociale pour ajuster vos aides |  |

> **Dcision Dr. Monka** :  Wording valid |  Corrections

---

### Phase 2  Versioning par criticit (Reco + MT)

#### CAT_01  valuation et soutien face  l'puisement

> Niveaux existants :  CRIT_01/02 /  CCC_01 /  STD_01, STD_04

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Discutez de votre vcu d'aidant avec l'IDEC | valuer la charge mentale de l'aidant |
|  CCC ( 30j) | Un soutien urgent est recommand face  l'puisement | Organiser un soutien face  l'puisement sous 30 jours |
|  Critique ( 7j) | Intervention immdiate ncessaire  risque identifi | Dclencher une intervention de scurisation en urgence ( 7 jours) |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |  Critique (Utilisateur) |
|---|---|---|---|
| MT_V3_004 | Parlez de votre vcu avec un professionnel | Prenez rendez-vous rapidement pour un soutien | Contactez immdiatement un professionnel |
| MT_V3_032 | Faites le point sur votre charge | valuez rapidement votre niveau d'puisement | Alertez votre entourage et un professionnel |

#### CAT_02  Mise en place de relais

> Niveaux existants :  CCC_01 /  STD_02, STD_03

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Envisagez un service d'aide  domicile | Informer sur les options de relais  domicile |
|  CCC ( 30j) | Sollicitez un service d'aide  domicile pour prendre le relais | Confirmer le nombre d'heures pour l'intervention du SAD dans le mois |

#### CAT_03  Accs aux aides et ajustement

> Niveaux existants :  STD_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Demandez  ajuster vos aides | Rappeler  l'aidant de contacter l'AS |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |
|---|---|
| MT_V3_031 | Contactez votre assistante sociale pour ajuster vos aides |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP S1 n'est PAS activ (aucune rgle ne s'est dclenche = pas d'puisement dtect, capacit de continuer intacte, pas d'arrt de travail)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Votre niveau d'nergie et votre capacit  tenir le rle d'aidant semblent prservs. Restez attentifve aux signaux de fatigue et n'hsitez pas  demander de l'aide si besoin.  |  Surveiller l'volution de la charge et de la fatigue. Sensibiliser l'aidant aux signes d'puisement. Rvaluer au prochain suivi.  |

### 6.2  Checklist de cohrence

| # | Vrification | Rsultat | Dtail |
|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  | E7 (via CCC_01), E11 (via CCC_01), E14 (STD_03), N8 (STD_02), O32 (STD_04) : . **E10, O29, O33, O50** :  pas de rgle d'activation directe  questions de contexte/scoring uniquement |
| 2 | Chaque rgle d'activation  1 version de reco |  | 7 rgles  toutes lies  au moins 1 reco |
| 3 | Chaque catgorie de reco  ses MT assignes |  | CAT_01 : 3 MT . CAT_02 : **0 MT** . CAT_03 : 1 MT  |
| 4 | K3 respect (2 niveaux par catgorie) |  | CAT_01 : 3 niveaux . CAT_02 : 2 niveaux . CAT_03 : 1 niveau  |
| 5 | Aucune MT orpheline |  | 4 MT toutes rattaches |
| 6 | Reco prvention prsente |  | Propose |
| 7 | Wording reco = conseil, MT = verbe d'action |  | Propos |
| 8 | Sens clinique renseign pour chaque rgle |  | 7 rgles documentes |

> **Score** : **4/8 valids**, 2 proposs, 2 partiels

---

## SUIVI DYNAMIQUE  S1

### Question de suivi N3

| Champ | Valeur |
|---|---|
| **Question N3 ID** | S_S1 |
| **Libell** | Y a-t-il eu des changements concernant : charge, fatigue et risque d'puisement ? |
| **Rponses** | Oui / Non |
| **Source** | Legacy  |

**Si Oui  Rouverture :**

| # | Question ID | Libell | Classification |
|---|---|---|---|
| 1 | E7 |  quel point vous sentez-vous puise par votre rle d'aidant ? | etat |
| 2 | E10 | Sur le plan moral (stress, inquitude), o vous situez-vous ? | etat |
| 3 | E11 | Pensez-vous pouvoir continuer dans les 6 prochains mois ? | etat |
| 4 | E14 | Et au cours des 30 derniers jours ? (jours d'arrt) | facteur |
| 5 | N8 | Arrt de travail li au rle d'aidant ? | facteur |
| 6 | O29 | Retentissement sur votre sant ? | etat |
| 7 | O32 | Souhaitez-vous tre davantage aid(e) ? | etat |
| 8 | O33 | Ressentez-vous une charge ? | etat |
| 9 | O50 | Combien de temps lui consacrez-vous ? | facteur |

---

## SCORING  Questions S1 contribuant au score V3

| Question | Score max | Barme |
|---|---|---|
| E7 | 2 | Pas du tout = 0 / Un peu = +1 / Trs fatigue ou puise = +2 |
| E10 | 2 | a va = 0 / Parfois = +1 / Souvent ou dborde = +2 |
| E11 | 2 | Oui, sans difficult = 0 / Difficile ou incertain = +1 / Non = +2 |
| O29 | 2 | Pas du tout = 0 / Un peu = +1 / Oui = +2 |
| O33 | 2 | Pas du tout = 0 / Un peu = +1 / Oui = +2 |

> **Score S1 contribue au score global V3** (max 20 points sur 10 questions). Les questions E14, N8, O32, O50 sont **non-scorantes** (facteurs/descriptives).

---

## SYNTHSE FINALE

| Mtrique | Valeur |
|---|---|
| Catgories de reco | **3** (soutien puisement, relais SAD, aides sociales) |
| Rgles d'activation | **7** (:2, :1, :4)  100% legacy |
| MT totales | **4** (toutes legacy) |
| MT contributives | **1** (SEC : MT_V3_004) |
| Domaine  /  | 0  / 4  |
| ASR |  1 MT contributive = 100%  ASR valide |
| Reco prvention |  Propose |
| Checks OK | 4/8 |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories (soutien, relais, aides sociales) | Legacy  |
| 2 | 7 rgles d'activation (100% legacy) | Legacy  |
| 3 | 4 MT existantes (100% legacy) | Legacy  |
| 4 | Acteurs/domaines MT : propositions IA |   valider |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider les 3 catgories |  Haute |
| 2 | Ajouter des MT pour CAT_02 (relais SAD) ? |  Haute |
| 3 | Ajouter des MT pour S1_RECO_04 (rpit) ? |  Haute |
| 4 | Valider les acteurs/domaines proposs IA |  Moyenne |
| 5 | Valider wording Phase 1 + Phase 2 |  Moyenne |
| 6 | Valider reco prvention |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,W2=`#  Fiche de Validation MP  S2  Inquitudes pour la scurit

> **Vulnrabilit** : V3  Sant de l'Aidant  
> **ASR** :  Rduire les risques graves   
> **Signature A** : S2-A  Soutien par l'entourage  
> **Signature B** : S2-B  Accompagnement professionnel engag  
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## CONTEXTE  Big Picture V3

### Rpartition des 26 questions V3 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **S1** | Charge, fatigue et risque d'puisement | 9 | E7, E10, E11, E14, N8, O29, O32, O33, O50 | Surcharge physique et psychologique de l'aidant |
| **S2** | Inquitudes pour la scurit | 4 | E8, E9, E12, E13 | Isolement motionnel, temps pour soi, inquitudes scuritaires |
| **S3** | Sant physique et renoncement aux soins | 9 | E18, O37, O38, O39, O40, O41, O42, O43, O44 | Suivi mdical, accs aux soins |
| **S4** | Hygine de vie (activit et sommeil) | 4 | E15, E16, E17, E19 | Accs aux RDV, activit physique, sommeil |

> **S2 se concentre sur les INQUITUDES SCURITAIRES et l'ISOLEMENT MOTIONNEL** : l'aidant se sent-il seul motionnellement ? A-t-il du temps pour rcuprer ? Est-il inquiet pour la scurit de son proche ? La frontire avec S1 est clinique : S1 = "je suis puise par la charge", S2 = "je suis seule face aux risques". S2 cible la dimension RELATIONNELLE et SCURITAIRE de la dtresse, S1 la dimension CHARGE et FATIGUE.

---

## 0. DONNES FIGES  Questions rattaches  S2

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E8 | Avez-vous le sentiment d'tre seul(e) motionnellement face  votre rle d'aidant ? | etat | Jamais / Parfois / Souvent / Tout le temps |
| 2 | E9 | Parvenez-vous  avoir du temps pour vous au cours d'une semaine habituelle ? | etat | Oui / Non |
| 3 | E12 | tes-vous inquiette  l'ide que votre proche puisse se faire du mal (parole, geste, ngligence grave de sa sant) ? | etat | Non / Parfois, selon les priodes / Oui, souvent |
| 4 | E13 | tes-vous inquiette  l'ide que votre proche puisse mettre d'autres personnes en danger (comportements agressifs, imprvisibles, conduite  risques) ? | etat | Non / Parfois / Oui |

> Total : 4 questions rattaches  S2

###  Pourquoi ces 4 questions ?

**E8** mesure le **sentiment de solitude motionnelle** face au rle d'aidant (gradient 4 niveaux : jamais  tout le temps). C'est un marqueur d'isolement psycho-social.  S2 et pas S1 car ce n'est pas la charge qui est mesure mais l'isolement. Un aidant peut tre peu charg mais motionnellement seul.

**E9** mesure la **disponibilit de temps pour soi** (binaire : oui/non). C'est un indicateur de rcupration.  S2 car l'absence de temps pour soi traduit un enfermement dans le rle d'aidant (isolement) plutt qu'une charge quantitative (S1).

>  **E9 = candidat dbattable S1 vs S2** : L'absence de temps pour soi contribue aussi  l'puisement (S1). Le choix de S2 se justifie car E9 mesure un facteur de **rcupration/isolement** (dimension relationnelle), pas un facteur de **charge** (dimension quantitative). De plus, E9 forme un CCC avec E8 (V3_S2_CCC_01)  la combinaison isolement + absence de rcupration est cliniquement cohrente dans un mme MP.

**E12** mesure l'**inquitude pour la scurit du proche** (risque de se faire du mal). C'est un marqueur de risque vital.  S2 car c'est une INQUITUDE SCURITAIRE, pas un tat de charge (S1).

>  **Cross-MP** : E12 active V3_S1_CRIT_01 (rgle critique de S1). L'inquitude scuritaire est si grave qu'elle dclenche aussi le MP charge/puisement en urgence.

**E13** mesure l'**inquitude pour le danger envers autrui** (comportements agressifs, conduite  risques). Mme logique que E12.  S2 pur.

>  **Cross-MP** : E13 active V3_S1_CRIT_02 (rgle critique de S1).

###  Analyse des 22 autres questions V3  Pourraient-elles appartenir  S2 ?

> Les questions et leurs options sont **figes**. L'objectif est uniquement de vrifier si l'affiliation actuelle est correcte.

#### Questions S1 (Charge, fatigue et risque d'puisement)

| Question | Libell | Pertinence S2 ? | Raisonnement |
|---|---|---|---|
| **E7** | puisement par le rle d'aidant |  Non | Mesure la **fatigue/charge**  S1 pur. L'puisement n'est pas de l'isolement. |
| **E10** | Moral (stress, inquitude) |  **Dbattable** | Le stress et l'inquitude pourraient tre lis  l'isolement (S2). **Mais** : E10 est dans S1 car il mesure le MORAL GLOBAL dans un contexte de charge, pas un isolement spcifique. |
| **E11** | Capacit  continuer 6 mois |  Non | Projection de capacit = S1 pur (charge  long terme). |
| **E14** | Jours d'arrt sur 30 jours |  Non | Impact professionnel = S1 pur. |
| **N8** | Arrt de travail li au rle |  Non | Impact professionnel = S1 pur. |
| **O29** | Retentissement sur la sant |  Non | Impact global sur la sant = S1 pur. |
| **O32** | Souhait d'tre davantage aid |  Non | Signal de surcharge = S1 pur. |
| **O33** | Charge ressentie |  Non | Perception de charge = S1 pur. |
| **O50** | Temps consacr au proche |  Non | Volume d'aide = S1 pur. |

>  **Verdict S1** : Aucune question S1 ne devrait tre dans S2. **E10** est le seul candidat dbattable (stress/inquitude pourrait tre isolement), mais le choix S1 est justifi car E10 mesure le moral dans un contexte de charge, pas la solitude.

#### Questions S3 (Sant physique)

| Question | Libell | Pertinence S2 ? | Raisonnement |
|---|---|---|---|
| **E18** | Qualit du sommeil |  Non | Paramtre physiologique = S3 pur. |
| **O37-O44** | Suivi mdical, spcialistes, maladies |  Non | Sant objective = S3 pur. |

>  **Verdict S3** : Aucune question S3 ne devrait tre dans S2.

#### Questions S4 (Hygine de vie)

| Question | Libell | Pertinence S2 ? | Raisonnement |
|---|---|---|---|
| **E15** | Difficults  obtenir des RDV |  Non | Accs aux soins = S4 pur. |
| **E16** | Vos propres RDV mdicaux |  Non | Comportement face aux soins = S4 pur. |
| **E17** | Activit physique |  Non | Hygine de vie = S4 pur. |
| **E19** | Soucis de sant actuels |  Non | tat dclar = S4 pur. |

>  **Verdict S4** : Aucune question S4 ne devrait tre dans S2.

###  Synthse affiliation

| Question | MP actuel | Pertinence S2 ? | Confiance |
|---|---|---|---|
| E7, E11, E14, N8, O29, O32, O33, O50 | S1 |  Non |  Haute |
| E10 | S1 |  Dbattable |  Moyenne |
| E18, O37-O44 | S3 |  Non |  Haute |
| E15, E16, E17, E19 | S4 |  Non |  Haute |

> **Conclusion** : Les 4 questions de S2 sont les bonnes. **E10** (S1) est le seul candidat dbattable  le choix actuel est cliniquement justifi (moral = charge, pas isolement).
>
>  **Observation structurelle** : S2 a seulement 4 questions, c'est le plus petit MP de V3 ex quo avec S4. C'est cohrent avec le fait que S2 couvre un thme cibl (isolement + scurit) vs S1 et S3 qui couvrent des dimensions plus larges.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des questions et des recommandations legacy montre 3 axes cliniques distincts :

1. **Scurisation par aide  domicile**  E12/E13 (inquitudes scuritaires)  S2_RECO_01 et S2_RECO_04 (service d'aide  domicile pour assurer la scurit du proche).
2. **Intervention mdico-sociale renforce**  E13 (danger pour autrui)  S2_RECO_02 (CMP pour prise de contact et RDV infirmier). C'est l'escalade clinique quand la situation dpasse le SAD.
3. **Soutien psychologique**  E8 (solitude motionnelle)  S2_RECO_03 (soutien psychologique pour l'aidant isol).

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | S2_CAT_01 | Scurisation par aide  domicile | Mettre en place un SAD pour assurer la scurit du proche et soulager l'aidant | Legacy  (S2_RECO_01, S2_RECO_04) |
| 2 | S2_CAT_02 | Intervention mdico-sociale renforce | Mobiliser les dispositifs mdico-sociaux (CMP) pour un suivi rapproch | Legacy  (S2_RECO_02) |
| 3 | S2_CAT_03 | Soutien psychologique | Orienter vers un soutien psychologique face  l'isolement motionnel | Legacy  (S2_RECO_03) |

###  Pourquoi 3 catgories et pas 2 ou 4 ?

**Pas 2** : La scurisation par SAD (CAT_01) et l'intervention CMP (CAT_02) sont cliniquement distincts. Le SAD assure une prsence physique pour la scurit. Le CMP assure un suivi psychiatrique/infirmier rapproch.  deux niveaux d'intervention diffrents.

**Pas 4** : Ajouter une catgorie "Soutien entourage" serait pertinent (la Signature A = "Soutien par l'entourage") mais aucune reco legacy ne cible explicitement l'entourage dans S2. Pas d'ajout sans base legacy.

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

Les rgles legacy V3 pour S2 sont simples : 1 CCC (E8+E9) et 1 Standard (E9 seul). Aucune rgle Critique propre  S2. Les questions scuritaires E12/E13 dclenchent S1 (urgence vitale) en cross-MP, pas S2.

>  **Observation** : S2 n'a aucune rgle Critique alors que E12 et E13 (ses propres questions) dclenchent des Critiques dans S1. C'est un choix clinique : le risque vital (CRIT) est trait par S1 (urgence de scurisation globale), S2 traite le versant psycho-social (isolement + rcupration).

### Rappel des questions S2 et de leurs options dclenchantes

> **E8**   Avez-vous le sentiment d'tre seul(e) motionnellement face  votre rle d'aidant ? 
> -  Jamais /  Parfois /  **Souvent** (CCC) /  **Tout le temps** (CCC)

> **E9**   Parvenez-vous  avoir du temps pour vous au cours d'une semaine habituelle ? 
> -  Oui /  **Non** (Standard + CCC)

> **E12**   tes-vous inquiette  l'ide que votre proche puisse se faire du mal ? 
> -  Non /  Parfois, selon les priodes /  Oui, souvent
> -  Aucune rgle d'activation S2  active S1 en cross-MP (V3_S1_CRIT_01)

> **E13**   tes-vous inquiette  l'ide que votre proche puisse mettre d'autres en danger ? 
> -  Non /  Parfois /  Oui
> -  Aucune rgle d'activation S2  active S1 en cross-MP (V3_S1_CRIT_02)

---

### Catgorie 1  Scurisation par aide  domicile

####  CCC  _(activ par V3_S2_CCC_01)_

> **SI** le CCC de S2 est activ (isolement + absence de rcupration), la mise en place d'un SAD est une rponse de scurisation concrte  CAT_01.

####  Standard  \`V3_S2_STD_01\`

> **SI** E9 =  Non   **V3_S2_STD_01**
>
> **ALORS** : Recommander un relais  domicile pour dgager du temps  l'aidant
>
> **Sens clinique** : Absence de temps pour soi  besoin de relais physique pour rcuprer. Source : Legacy 

---

### Catgorie 2  Intervention mdico-sociale renforce

####  Standard  _(activ par STD_01)_

> L'absence de temps pour soi (E9 = Non) peut aussi justifier une intervention mdico-sociale renforce si la situation est complexe  CAT_02 active en Standard.

---

### Catgorie 3  Soutien psychologique

####  CCC  \`V3_S2_CCC_01\`

> **SI** E8  {Souvent, Tout le temps} **ET** E9 =  Non 
>
> **ALORS** : Recommander un soutien psychologique en priorit ( 30 jours)
>
> **Sens clinique** : Isolement affectif avec absence de rcupration. L'aidant est motionnellement seul ET n'a pas de temps pour lui  combinaison  risque psychologique lev. Source : Legacy 

####  Standard  \`V3_S2_STD_01\`

> Le mme signal E9 (absence de temps pour soi) justifie aussi une orientation vers un soutien psychologique en Standard.

---

###  Dcisions Action 2

| # | Rgle | Niveau | Catgorie(s) | Source |
|---|---|---|---|---|
| 1 | V3_S2_CCC_01 (E8 souvent/tout le temps + E9 Non) |  CCC | CAT_01, CAT_03 | Legacy  |
| 2 | V3_S2_STD_01 (E9 = Non) |  Standard | CAT_01, CAT_02, CAT_03 | Legacy  |

> **Contrle K3** :
> - CAT_01 :  2 niveaux (CCC + Standard)
> - CAT_02 :  1 seul niveau (Standard)
> - CAT_03 :  2 niveaux (CCC + Standard)
>
>  **Observation K3** : CAT_02 n'a que 1 niveau. C'est cohrent car l'intervention mdico-sociale renforce (CMP) est une escalade qui se justifie surtout en situation de crise  et les crises (E12, E13) sont traites par S1 en cross-MP.
>
>  **Questions E12 et E13 sans activation S2** : Les 2 questions scuritaires de S2 ne dclenchent aucune rgle propre  S2. Elles activent S1 en cross-MP. C'est un cas indit : des questions "proprit" de S2 activent un autre MP.
>
> **Dcision Dr. Monka** :  Valid |  Ajouter des rgles spcifiques S2 pour E12/E13 |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** : 8 MT legacy existent en DB pour S2 (5 contributives + 3 non-contributives). C'est le MP avec le plus de MT contributives de V3. Tous les libells et types sont 100% legacy. Les acteurs/domaines sont proposs IA .

### CAT_01  Scurisation par aide  domicile

> Legacy : MT_V3_005

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V3_005 | Confirmer avec l'aidant le nombre d'heures envisages pour le SAD | SEC | IDEC  |  | Legacy  |

####  Analyse  CAT_01

**1 seule MT contributive (SEC)** : La confirmation des heures SAD est l'action concrte de scurisation. C'est suffisant pour CAT_01 car le SAD est un dispositif externe  l'IDEC confirme, le SAD excute.

### CAT_02  Intervention mdico-sociale renforce

> Legacy : MT_V3_002, MT_V3_003, MT_V3_006, MT_V3_011, MT_V3_012

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V3_002 | Suivi IDEC de la mise en place de l'intervention (via chat/mail) | SEC | IDEC  |  | Legacy  |
| MT_V3_003 | Contacter le CMP de secteur pour prise de contact et RDV infirmier | SEC | IDEC  |  | Legacy  |
| MT_V3_006 | Proposer un temps d'change pour faire le point | SEC | IDEC  |  | Legacy  |
| MT_V3_011 | Tracer la situation comme stable dans le dossier (CRM) | ORGA | IDEC  |  | Legacy  |
| MT_V3_012 | Identifier les situations ou contextes dclenchants | ORGA | Aidant  |  | Legacy  |

####  Analyse  CAT_02

**Chane d'action** : SEC (MT_V3_003 : contacter CMP)  SEC (MT_V3_006 : changer)  SEC (MT_V3_002 : suivi)  ORGA (MT_V3_011 : tracer)  ORGA (MT_V3_012 : identifier dclencheurs). La squence est logique : mobilisation  change  suivi  documentation.

**3 MT contributives (SEC)** : Reprsente la chane complte de mobilisation mdico-sociale. C'est cohrent avec la complexit de l'intervention CMP.

### CAT_03  Soutien psychologique

> Legacy : MT_V3_001, MT_V3_010

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V3_001 | Orienter vers un soutien psychologique | SEC | Psychologue  |  | Legacy  |
| MT_V3_010 | Noter un isolement ponctuel | ORGA | IDEC  |  | Legacy  |

####  Analyse  CAT_03

**1 MT contributive (SEC)** : L'orientation vers un psychologue est l'action de scurisation. La MT ORGA (noter l'isolement) est un suivi documentaire.

---

###  Synthse MT  S2

| Mtrique | Valeur |
|---|---|
| MT totales legacy | **8** |
| MT contributives () | **5** (SEC : MT_V3_001, MT_V3_002, MT_V3_003, MT_V3_005, MT_V3_006) |
| MT non-contributives () | **3** (ORGA : MT_V3_010, MT_V3_011, MT_V3_012) |
| ASR validation | 5 MT contributives  100% = **ASR valide**  |

> **Condition de validation ASR** : Les 5 MT contributives de S2 doivent TOUTES tre compltes pour que l'ASR  Rduire les risques graves  soit valide (K11).
>
> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs legacy** : \`IDEC\`, \`Psychologue\` (proposs IA), \`Aidant\` (propos IA)
> **Domaines proposs** :  Mdico-social,  Mdical (pour CMP)

### Tableau consolid des MT de S2 (tat actuel)

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Reco | Source |
|---|---|---|---|---|---|---|---|---|
| MT_V3_005 | Confirmer heures envisages pour le SAD | SEC | IDEC  |  Mdico-social  |  | CAT_01 | S2_RECO_01 | Legacy  |
| MT_V3_002 | Suivi mise en place de l'intervention | SEC | IDEC  |  Mdico-social  |  | CAT_02 | S2_RECO_02 | Legacy  |
| MT_V3_003 | Contacter le CMP pour RDV infirmier | SEC | IDEC  |  Mdical  |  | CAT_02 | S2_RECO_02 | Legacy  |
| MT_V3_006 | Proposer un temps d'change | SEC | IDEC  |  Mdico-social  |  | CAT_02 | S2_RECO_02 | Legacy  |
| MT_V3_011 | Tracer la situation dans le CRM | ORGA | IDEC  |  Mdico-social  |  | CAT_02 | S2_RECO_02 | Legacy  |
| MT_V3_012 | Identifier les contextes dclenchants | ORGA | Aidant  |  Mdico-social  |  | CAT_02 | S2_RECO_02 | Legacy  |
| MT_V3_001 | Orienter vers un soutien psychologique | SEC | Psychologue  |  Mdical  |  | CAT_03 | S2_RECO_03 | Legacy  |
| MT_V3_010 | Noter un isolement ponctuel | ORGA | IDEC  |  Mdico-social  |  | CAT_03 | S2_RECO_03 | Legacy  |

> **Rsum** :
> - Total MT : **8** (toutes legacy)
> - Domaine  Mdical : **2 MT** (CMP + psychologue) / Domaine  Mdico-social : **6 MT**
> - Contributives () : **5**  SEC : 5
> - Non-contributives () : **3**  ORGA : 3
> - Types utiliss : SEC (5), ORGA (3). **Aucun INFO, STRUC, MED**.

###  Observations

>  **Toutes les MT contributives sont de type SEC** : S2 est un MP de scurisation pure. Aucune MT structurante (STRUC) ni mdicale (MED). C'est cohrent avec la nature du MP : rduire les risques graves via des interventions de scurisation.
>
>  **MT_V3_012 assigne  l'Aidant** : C'est la seule MT assigne directement  l'aidant (et pas  l'IDEC). L'aidant identifie ses propres situations dclenchantes  c'est un acte d'auto-observation cohrent avec K7 (autonomie par dfaut).
>
>  **MT_V3_003  domaine  Mdical** : Le CMP est un dispositif mdical. L'IDEC coordonne mais le CMP est l'acteur clinique  le domaine mdical est justifi.

###  Propositions d'amlioration

| # | Proposition | Justification |
|---|---|---|
| 1 | **MT_V3_001  acteur IDEC** (au lieu de Psychologue) | C'est l'IDEC qui ORIENTE vers le psychologue, pas le psychologue qui s'auto-saisit. L'acteur devrait reflter qui initie l'action. |
| 2 | **Ajouter INFO pour CAT_03** | CAT_03 n'a aucune MT INFO. Proposition : "Informer l'aidant sur les dispositifs de soutien psychologique disponibles" (INFO). |

> **Dcision Dr. Monka** :  Valid |  Modifier les acteurs |  Ajouter MT

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording des 4 Recos legacy

| Reco ID | Niveau | Texte utilisateur | Actions IDEC | Source |
|---|---|---|---|---|
| S2_RECO_01 |  Standard | Sollicit un SAD pour assurer la scurit de votre proche | Confirmer le nombre d'heures pour l'intervention du SAD | Legacy  |
| S2_RECO_02 |  Standard | Demandez une intervention mdico-sociale renforce | Contacter le CMP de secteur pour prise de contact et RDV infirmier | ia_reformul |
| S2_RECO_03 |  CCC | Envisager un soutien psychologique | Noter un isolement ponctuel | ia_reformul |
| S2_RECO_04 |  CCC | Sollicit un service d'aide  domicile pour prendre le relais | Confirmer le nombre d'heures pour l'intervention du SAD | Legacy  |

#### Wording des 8 MT (IDEC + Utilisateur)

| MT_ID | CAT | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|---|
| MT_V3_005 | CAT_01 | Confirmer heures SAD | Confirmer avec l'aidant le nombre d'heures envisages pour l'intervention du service  domicile | changez avec l'IDEC sur les heures d'aide  domicile envisages |  |
| MT_V3_002 | CAT_02 | Suivi intervention | Assurer le suivi de la mise en place de l'intervention mdico-sociale (chat/mail) | Suivez avec votre IDEC la mise en place de l'aide |  |
| MT_V3_003 | CAT_02 | Contacter CMP | Contacter le CMP de secteur pour prise de contact et RDV infirmier | Un rendez-vous avec un infirmier du CMP va tre organis |  |
| MT_V3_006 | CAT_02 | change point | Proposer un temps d'change pour faire le point sur la situation et les inquitudes | Prenez le temps d'un change avec un professionnel pour faire le point |  |
| MT_V3_011 | CAT_02 | Tracer CRM | Tracer la situation comme stable et les actions entreprises dans le dossier CRM | _(MT interne IDEC  pas de wording utilisateur)_ |  |
| MT_V3_012 | CAT_02 | Identifier dclencheurs | Accompagner l'aidant dans l'identification des situations dclenchantes | Reprez les moments ou situations qui dclenchent vos inquitudes |  |
| MT_V3_001 | CAT_03 | Soutien psy | Orienter l'aidant vers un soutien psychologique (psychologue, groupe de parole) | Envisagez un accompagnement psychologique pour parler de ce que vous vivez |  |
| MT_V3_010 | CAT_03 | Noter isolement | Documenter un isolement ponctuel et surveiller l'volution | _(MT interne IDEC  pas de wording utilisateur)_ |  |

> **Dcision Dr. Monka** :  Wording valid |  Corrections

---

### Phase 2  Versioning par criticit (Reco + MT)

#### CAT_01  Scurisation par aide  domicile

> Niveaux existants :  CCC_01 /  STD_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Service d'aide  domicile recommand | Informer sur les options d'aide  domicile |
|  CCC ( 30j) | Service d'aide  domicile  mettre en place rapidement | Organiser l'intervention SAD sous 30 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |
|---|---|---|
| MT_V3_005 | Renseignez-vous sur les heures d'aide possibles | Confirmez rapidement les heures d'aide  domicile prvues |

#### CAT_02  Intervention mdico-sociale renforce

> Niveaux existants :  STD_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Intervention mdico-sociale disponible | Proposer une prise en charge CMP si la situation l'exige |

#### CAT_03  Soutien psychologique

> Niveaux existants :  CCC_01 /  STD_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Soutien psychologique disponible | Informer sur les dispositifs de soutien psychologique |
|  CCC ( 30j) | Soutien psychologique recommand | Orienter vers un soutien psychologique sous 30 jours |

**MT versionnes :**

| MT_ID |  Standard (Utilisateur) |  CCC (Utilisateur) |
|---|---|---|
| MT_V3_001 | Un accompagnement psychologique est disponible si vous le souhaitez | Prenez rendez-vous avec un psychologue dans le mois |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP S2 n'est PAS activ (aucune rgle ne s'est dclenche = pas d'isolement motionnel, temps pour soi prserv, pas d'inquitude scuritaire majeure)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Vous ne semblez pas isole et vos inquitudes pour votre proche sont matrises. Restez vigilante : si vous vous sentez seule ou inquiete, n'hsitez pas  en parler.  |  Pas d'isolement ni d'inquitude scuritaire dtects. Rester vigilant sur les signaux d'isolement motionnel. Rvaluer au prochain suivi.  |

### 6.2  Checklist de cohrence

| # | Vrification | Rsultat | Dtail |
|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  | E8 (via CCC_01), E9 (STD_01 + CCC_01) : . **E12, E13** :  pas de rgle S2  activent S1 en cross-MP uniquement |
| 2 | Chaque rgle d'activation  1 version de reco |  | 2 rgles  toutes lies  des recos |
| 3 | Chaque catgorie de reco  ses MT assignes |  | CAT_01 : 1 MT, CAT_02 : 5 MT, CAT_03 : 2 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  | CAT_01 : 2 niveaux . CAT_02 : 1 niveau . CAT_03 : 2 niveaux  |
| 5 | Aucune MT orpheline |  | 8 MT toutes rattaches |
| 6 | Reco prvention prsente |  | Propose |
| 7 | Wording reco = conseil, MT = verbe d'action |  | Propos |
| 8 | Sens clinique renseign pour chaque rgle |  | 2 rgles documentes |

> **Score** : **4/8 valids**, 2 proposs, 2 partiels
>
>  **Point majeur** : E12 et E13 n'activent aucune rgle de S2. C'est une anomalie potentielle (2 questions "proprit" de S2 qui n'ont aucun effet dans S2).  discuter avec Dr. Monka :
> - **Option A** : Accepter le cross-MP (S1 traite l'urgence vitale, S2 traite l'isolement)  justifiable cliniquement
> - **Option B** : Ajouter des rgles S2 Standard pour E12 et E13 (ex: E12 = "Parfois"  STD  S2_RECO_02)

---

## SUIVI DYNAMIQUE  S2

### Question de suivi N3

| Champ | Valeur |
|---|---|
| **Question N3 ID** | S_S2 |
| **Libell** | Y a-t-il eu des changements concernant : inquitudes pour la scurit ? |
| **Rponses** | Oui / Non |
| **Source** | Legacy  |

**Si Oui  Rouverture :**

| # | Question ID | Libell | Classification |
|---|---|---|---|
| 1 | E8 | Sentiment d'tre seul(e) motionnellement ? | etat |
| 2 | E9 | Parvenez-vous  avoir du temps pour vous ? | etat |
| 3 | E12 | Inquiet que votre proche se fasse du mal ? | etat |
| 4 | E13 | Inquiet que votre proche mette d'autres en danger ? | etat |

---

## SCORING  Questions S2 contribuant au score V3

| Question | Score max | Barme |
|---|---|---|
| E8 | 2 | Jamais = 0 / Parfois = +1 / Souvent ou tout le temps = +2 |
| E9 | 2 | Oui = 0 / Non = +2 |

> **Score S2 contribue au score global V3** (max 20 points sur 10 questions). E12 et E13 sont **non-scorantes** (elles n'apparaissent pas dans le barme de scoring V3).

---

## SYNTHSE FINALE

| Mtrique | Valeur |
|---|---|
| Catgories de reco | **3** (SAD, intervention CMP, soutien psy) |
| Rgles d'activation | **2** (:1, :1)  100% legacy |
| MT totales | **8** (toutes legacy) |
| MT contributives | **5** (SEC : 5) |
| Domaine  /  | 2  / 6  |
| ASR |  5 MT contributives = 100%  ASR valide |
| Reco prvention |  Propose |
| Checks OK | 4/8 |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories (SAD, CMP, soutien psy) | Legacy  |
| 2 | 2 rgles d'activation (100% legacy) | Legacy  |
| 3 | 8 MT existantes (100% legacy) | Legacy  |
| 4 | Acteurs/domaines MT : propositions IA |   valider |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider les 3 catgories |  Haute |
| 2 | E12/E13 sans rgle S2 : accepter le cross-MP ou ajouter des rgles STD ? |  Haute |
| 3 | Valider les acteurs/domaines proposs IA |  Moyenne |
| 4 | Valider wording Phase 1 + Phase 2 |  Moyenne |
| 5 | Valider reco prvention |  Moyenne |
| 6 | MT_V3_001 : acteur Psychologue  IDEC ? |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,Y2=`#  Fiche de Validation MP  S3  Sant physique et renoncement aux soins

> **Vulnrabilit** : V3  Sant de l'Aidant  
> **ASR** :  Protger votre sant   
> **Signature A** : S3-A  Suivi mdical repris  
> **Signature B** : S3-B  Dmarche de soin engage  
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## CONTEXTE  Big Picture V3

### Rpartition des 26 questions V3 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **S1** | Charge, fatigue et risque d'puisement | 9 | E7, E10, E11, E14, N8, O29, O32, O33, O50 | Surcharge physique et psychologique de l'aidant |
| **S2** | Inquitudes pour la scurit | 4 | E8, E9, E12, E13 | Isolement motionnel, inquitudes scuritaires |
| **S3** | Sant physique et renoncement aux soins | 9 | E18, O37, O38, O39, O40, O41, O42, O43, O44 | Suivi mdical, accs aux soins, tat de sant peru |
| **S4** | Hygine de vie (activit et sommeil) | 4 | E15, E16, E17, E19 | Accs aux RDV, activit physique, sommeil |

> **S3 se concentre sur la SANT PHYSIQUE OBJECTIVE et le RENONCEMENT AUX SOINS** : l'aidant a-t-il un mdecin traitant ? Voit-il des spcialistes ? A-t-il ralis ses examens ? Comment peroit-il sa sant ? Comment dort-il ? La frontire avec S1 est clinique : S1 = charge SUBJECTIVE (fatigue, puisement peru), S3 = sant OBJECTIVE (suivi mdical, pathologies, sommeil). La frontire avec S4 est fonctionnelle : S3 = je me soigne (accs aux soins existants), S4 = je prends soin de moi (hygine de vie proactive, accs aux nouveaux RDV).

---

## 0. DONNES FIGES  Questions rattaches  S3

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E18 | Globalement, comment valueriez-vous la qualit de votre sommeil ces dernires semaines ? (sachant que l'idal est de dormir minimum 6h par nuit) | etat | Bonne / Correcte / Mauvaise (je dors mal ou pas assez) / Trs mauvaise (je me rveille puise) |
| 2 | O37 | Avez-vous un mdecin traitant ? | facteur | Oui / Non |
| 3 | O38 | Avez-vous d'autres mdecins spcialistes qui vous suivent actuellement ? | facteur | Oui / Non |
| 4 | O39 | Lesquels ? (plusieurs rponses possibles) | etat | Cardiologue / Oncologue / Neurologue / Pneumologue / Ophtalmologue / Psychiatre / Chirurgien-Dentiste / Gastro-entrologue / Endocrinologue-Diabtologue / ORL / Gyncologue / Nphrologue / Griatre / Dermatologue / Autre |
| 5 | O40 | Avez-vous dj ralis des rendez-vous mdicaux cette anne ? | facteur | Oui / Non |
| 6 | O41 | Lesquels ? (plusieurs rponses possibles) | facteur | Bilan de sant gnral (prise de sang) / Audition / Vue / Contrle dentaire / Suivi cardiovasculaire / Ostodensitomtrie / Vaccination / Examen gyncologique / Suivi dermatologique / Suivi psychologique / Dpistage des cancers |
| 7 | O42 | tes-vous concern ou avez-vous t concern par une ou plusieurs de ces maladies ? (plusieurs rponses possibles) | facteur | Troubles neurologiques / Troubles psychiques / Dermatologique / Respiratoire / Gnito-urinaire / Endocrinienne / Cancer / Mtabolique / Maladie cardiovasculaire / Musculo-squelettique / Gastro-intestinale / Maladies gntiques / Troubles visuels svres / Troubles auditifs svres / Je ne sais pas |
| 8 | O43 | Combien de mdicaments diffrents prenez-vous chaque jour ? | facteur | 1  3 mdicaments / 4  6 mdicaments / 7 mdicaments et plus / Je ne prends pas de traitement actuellement |
| 9 | O44 | Selon vous et par rapport  une personne du mme ge, diriez-vous que votre sant est : | etat | Meilleure / Identique / Moins bonne |

> Total : 9 questions rattaches  S3

###  Pourquoi ces 9 questions ?

**E18** mesure la **qualit du sommeil** (gradient 4 niveaux). Le sommeil est un indicateur physiologique objectif de l'tat de sant.  S3 et pas S1 car E18 mesure un paramtre de SANT PHYSIQUE, pas la charge subjective.

**O37** et **O38** forment un duo qui cartographie l'**accs au suivi mdical** :
- O37 = mdecin traitant (le socle de base)
- O38 = spcialistes (le suivi avanc)

**O39** dtaille les spcialistes (conditionnel si O38 = Oui). Permet de cibler les MT de prise de RDV par spcialit  les 13 MT MED de S3 en dpendent directement.

**O40** et **O41** mesurent les **examens raliss cette anne** : O40 = binaire (oui/non), O41 = dtail si oui. Permet d'identifier les examens manquants.

**O42** cartographie les **pathologies actuelles ou passes** de l'aidant. C'est un inventaire factuel qui conditionne le type de suivi ncessaire.

**O43** mesure la **polymdication** (nombre de mdicaments quotidiens). C'est un facteur de risque pharmaceutique  justifie le bilan de mdication.

**O44** mesure la **sant perue** relative aux pairs. C'est un indicateur subjectif de sant globale qui, combin  E18, forme le CCC de S3.

###  Analyse des 17 autres questions V3  Pourraient-elles appartenir  S3 ?

#### Questions S1 (Charge, fatigue)

| Question | Libell | Pertinence S3 ? | Raisonnement |
|---|---|---|---|
| **E7** | puisement par le rle d'aidant |  Non | Fatigue subjective lie  l'aidance = S1 pur. S3 mesure la sant objective. |
| **E10** | Moral (stress, inquitude) |  Non | Moral = S1 pur. |
| **O29** | Retentissement sur la sant |  **Dbattable** | O29 mesure le retentissement de l'aidance sur la sant  pourrait tre S3. **Mais** : O29 est dans S1 car elle mesure l'IMPACT DE L'AIDANCE (cause = aidance), pas l'TAT DE SANT (fait mdical). O29 = "l'aidance me rend malade", S3 = "suis-je suivi mdicalement ?". |
| **Autres S1** | E11, E14, N8, O32, O33, O50 |  Non | Charge, capacit, impact professionnel = S1 pur. |

>  **Verdict S1** : Aucune question S1 ne devrait tre dans S3. **O29** est le seul dbattable  le choix S1 est cliniquement justifi.

#### Questions S2 (Inquitudes scurit)

| Question | Libell | Pertinence S3 ? | Raisonnement |
|---|---|---|---|
| **E8, E9, E12, E13** | Isolement, temps pour soi, scurit proche |  Non | Dimension psycho-sociale/scuritaire = S2 pur. |

>  **Verdict S2** : Aucune question S2 ne devrait tre dans S3.

#### Questions S4 (Hygine de vie)

| Question | Libell | Pertinence S3 ? | Raisonnement |
|---|---|---|---|
| **E15** | Difficults  obtenir des RDV |  **Dbattable** | L'accs aux RDV mdicaux touche au suivi mdical (S3). **Mais** : E15 est dans S4 car elle mesure une DIFFICULT D'ACCS proactive (l'aidant essaie d'obtenir des RDV), alors que S3 mesure le SUIVI EXISTANT (a-t-il un MT ? des spcialistes ?). E15 = "je galre  prendre mes RDV", S3 = "j'ai un suivi ou pas ?". |
| **E16** | Vos propres RDV mdicaux depuis que vous tes aidant |  **Dbattable** | Mme logique qu'E15. E16 mesure le COMPORTEMENT face aux soins (reporter, annuler)  S4. S3 mesure l'TAT du suivi en cours. |
| **E17** | Activit physique |  Non | Hygine de vie = S4 pur. |
| **E19** | Soucis de sant actuels |  **Dbattable** | Les soucis de sant actuels pourraient tre dans S3 (sant physique). **Mais** : E19 est dans S4 car elle est dclarative et oriente "bien-tre" (fatigue, sommeil, moral, douleurs), pas "suivi mdical". E19 sert  identifier les BESOINS, pas  mesurer les FAITS mdicaux. |

>  **Verdict S4** : **E15** et **E16** sont des candidats dbattables  la frontire S3/S4 est la plus fine de V3. Les choix actuels sont justifis par la distinction accs proactif (S4) vs suivi existant (S3). **E19** est aussi dbattable mais son caractre dclaratif le place logiquement en S4.

###  Synthse affiliation

| Question | MP actuel | Pertinence S3 ? | Confiance |
|---|---|---|---|
| S1 (9 questions) | S1 |  Non (O29 dbattable) |  Haute |
| S2 (4 questions) | S2 |  Non |  Haute |
| E15, E16 | S4 |  Dbattable |  Moyenne |
| E17 | S4 |  Non |  Haute |
| E19 | S4 |  Dbattable |  Moyenne |

> **Conclusion** : Les 9 questions de S3 sont les bonnes. La frontire S3/S4 est la plus fine (E15, E16, E19 sont dbattables). Le critre discriminant est : **S3 = tat de suivi mdical existant**, **S4 = comportement proactif de soin de soi**.
>
>  **Observation structurelle** : S3 est le MP le plus dense de V3 en termes de MTs (18 MTs = 16 contributives + 2 non-contributives). C'est cohrent car le suivi mdical spcialis gnre 1 MT par spcialit  13 MTs MED rien que pour S3_RECO_03.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des questions et des recommandations legacy montre 3 axes cliniques distincts :

1. **Gestion du sommeil et bilan de sant**  E18/O44 (sommeil + sant perue)  S3_RECO_01 et S3_RECO_04 (RDV mdecin traitant pour bilan).
2. **Accs aux soins et mdecin traitant**  O37 (mdecin traitant)  S3_RECO_02 (accompagnement d'accs aux soins, recherche MT).
3. **Suivi spcialis et mdication**  O38/O39/O42/O43 (spcialistes, pathologies, mdicaments)  S3_RECO_03 et S3_RECO_05 (RDV spcialistes + bilan mdication).

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | S3_CAT_01 | Bilan de sant et sommeil | Organiser un bilan de sant global et adresser les troubles du sommeil | Legacy  (S3_RECO_01, S3_RECO_04) |
| 2 | S3_CAT_02 | Accs au mdecin traitant | Faciliter l'accs  un mdecin traitant si absent | Legacy  (S3_RECO_02) |
| 3 | S3_CAT_03 | Suivi spcialis et mdication | Relancer le suivi spcialis et vrifier la mdication | Legacy  (S3_RECO_03, S3_RECO_05) |

###  Pourquoi 3 catgories et pas 2 ou 4 ?

**Pas 2** : Le bilan de sant gnral (CAT_01) et le suivi spcialis (CAT_03) sont cliniquement distincts. Un aidant peut avoir un MT mais ne pas voir ses spcialistes (et inversement). Les actions sont indpendantes.

**Pas 4** : La mdication (S3_RECO_05) est rattache  CAT_03 car le bilan de mdication se fait avec les spcialistes. Crer une catgorie "mdication" serait redondant.

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

S3 a **une seule rgle d'activation** : 1 CCC. Aucune Critique, aucun Standard. C'est le MP de V3 avec le moins de rgles.

>  **Observation majeure** : S3 n'a ni rgle Critique ni rgle Standard. Cela signifie que S3 ne s'active QUE lorsque 2 conditions combines sont remplies (O44 + E18). Les 7 autres questions de S3 (O37, O38, O39, O40, O41, O42, O43) ne dclenchent AUCUNE activation. Elles servent uniquement de contexte factuel pour cibler les MTs.
>
>  **Anomalie K2** : Avec 1 seul niveau d'activation (CCC), K3 (englobement multi-niveaux) ne s'applique pas. C'est un cas limite : un MP avec 9 questions mais 1 seule rgle.

### Rappel des questions dclenchantes

> **O44**   Selon vous et par rapport  une personne du mme ge, diriez-vous que votre sant est : 
> -  Meilleure /  Identique /  **Moins bonne** (CCC)

> **E18**   Comment valueriez-vous la qualit de votre sommeil ces dernires semaines ? 
> -  Bonne /  Correcte /  **Mauvaise** (CCC) /  **Trs mauvaise** (CCC)

---

### Catgorie 1  Bilan de sant et sommeil

####  CCC  \`V3_S3_CCC_01\`

> **SI** O44 =  Moins bonne  **ET** E18  {Mauvaise, Trs mauvaise}
>
> **ALORS** : Organiser un bilan de sant et adresser les troubles du sommeil ( 30 jours)
>
> **Sens clinique** : Dgradation physique objective par le vcu. L'aidant peroit sa sant comme  moins bonne  ET dort mal  double signal de dgradation physique. Source : Legacy 

---

### Catgorie 2  Accs au mdecin traitant

####  CCC  _(mme CCC_01  double activation)_

> Le CCC active aussi CAT_02 : si la sant se dgrade, vrifier que l'aidant a un mdecin traitant est prioritaire.

---

### Catgorie 3  Suivi spcialis et mdication

####  CCC  _(mme CCC_01  triple activation)_

> Le CCC active CAT_03 aussi : la dgradation de sant justifie une relance du suivi spcialis et un bilan de mdication.

---

###  Dcisions Action 2

| # | Rgle | Niveau | Catgorie(s) | Source |
|---|---|---|---|---|
| 1 | V3_S3_CCC_01 (O44 = Moins bonne + E18 mauvaise/trs mauvaise) |  CCC | CAT_01, CAT_02, CAT_03 | Legacy  |

> **Contrle K3** :
> - CAT_01 :  1 seul niveau (CCC)
> - CAT_02 :  1 seul niveau (CCC)
> - CAT_03 :  1 seul niveau (CCC)
>
>  **Aucune catgorie ne respecte K3 (2 niveaux)**. C'est un cas limite cliniquement justifiable : S3 traite la sant de l'aidant, pas une urgence. L'activation ne se fait qu'en cas de dgradation combine (CCC). Pas de Critique car la dgradation de sant seule ne constitue pas une urgence vitale  7 jours. Pas de Standard car les questions factuelles (O37, O38...) ne justifient pas d'activation en l'absence de signal de dgradation.
>
>  **Options possibles pour enrichir les niveaux** :
> - **Option A** : Ajouter un Standard pour O37 = "Non" (pas de mdecin traitant  orienter). **Justification** : un aidant sans MT est un aidant sans filet de scurit mdicale.
> - **Option B** : Ajouter un Standard pour O40 = "Non" (pas de RDV cette anne  encourager). **Justification** : absence de suivi annuel = renoncement potentiel aux soins.
> - **Option C** : Laisser en l'tat (1 seul CCC)  justifi car S3 est un MP de "cartographie" plus que d'"urgence".
>
> **Dcision Dr. Monka** :  Option A |  Option B |  Option C |  Autre

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** : 18 MT legacy existent en DB pour S3 (16 contributives + 2 non-contributives). C'est le MP le plus dense de V3. Les 16 MT contributives sont TOUTES de type MED (prises de RDV avec spcialistes). Les acteurs et domaines sont proposs IA .

### CAT_01  Bilan de sant et sommeil

> Legacy : MT_V3_020

| MT_ID | Libell MT | Type | Acteur | / | Reco | Source |
|---|---|---|---|---|---|---|
| MT_V3_020 | Contacter le mdecin traitant pour bilan de sant | MED | Mdecin traitant  |  | S3_RECO_04 | Legacy  |

####  Analyse  CAT_01

**1 MT contributive (MED)** : Le bilan de sant auprs du MT est l'action pivot de CAT_01. Le sommeil (E18) est abord dans le cadre du bilan (S3_RECO_01).

### CAT_02  Accs au mdecin traitant

> Legacy : MT_V3_033, MT_V3_008

| MT_ID | Libell MT | Type | Acteur | / | Reco | Source |
|---|---|---|---|---|---|---|
| MT_V3_033 | Informer sur les dispositifs d'accs aux soins (courrier DAC/CPTS) | INFO | Aidant  |  | S3_RECO_02 | Legacy  |
| MT_V3_008 | Respecter la non-rponse sans insistance | ORGA | IDEC  |  | S3_RECO_04 | Legacy  |

####  Analyse  CAT_02

**0 MT contributive** : CAT_02 n'a que des MTs non-contributives (INFO + ORGA). L'accs au MT est un axe d'information/accompagnement, pas de scurisation directe. L'ASR ne se valide pas via CAT_02.

### CAT_03  Suivi spcialis et mdication

> Legacy : MT_V3_015  MT_V3_030 (13 MTs par spcialit) + MT_V3_018, MT_V3_019

| MT_ID | Libell MT | Type | Acteur | / | Reco | Source |
|---|---|---|---|---|---|---|
| MT_V3_015 | Prendre RDV avec Dermatologue | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_016 | Prendre RDV avec Gyncologue | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_017 | Prendre RDV avec Cardiologue | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_021 | Prendre RDV avec Oncologue | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_022 | Prendre RDV avec Endocrinologue-Diabtologue | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_023 | Prendre RDV avec Pneumologue | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_024 | Prendre RDV avec Neurologue | MED | Mdecin spcialiste  |  | S3_RECO_03 | Legacy  |
| MT_V3_025 | Prendre RDV avec Griatre | MED | Mdecin spcialiste  |  | S3_RECO_03 | Legacy  |
| MT_V3_026 | Prendre RDV avec Ophtalmologue | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_027 | Prendre RDV avec ORL | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_028 | Prendre RDV avec Psychiatre | MED | Mdecin spcialiste  |  | S3_RECO_03 | Legacy  |
| MT_V3_029 | Prendre RDV avec Gastro-Entrologue | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_030 | Prendre RDV avec Chirurgien-dentiste | MED | Professionnel de sant  |  | S3_RECO_03 | Legacy  |
| MT_V3_018 | Orienter vers le mdecin traitant | MED | Mdecin traitant  |  | S3_RECO_05 | Legacy  |
| MT_V3_019 | Contacter le MT pour bilan de mdication | MED | Mdecin traitant  |  | S3_RECO_05 | Legacy  |

####  Analyse  CAT_03

**15 MT contributives (MED)** : 13 MTs de prise de RDV par spcialit (conditionnes  O39) + 2 MTs mdecin traitant pour bilan de mdication. C'est le bloc le plus massif de tout V3.

>  **Point de proportionnalit (T4)** : 13 MTs pour une seule reco (S3_RECO_03) est inhabituel. C'est justifi car chaque spcialit ncessite un RDV spar, mais en pratique seules les spcialits dclares par l'aidant (O39) seront actives. Le systme devrait filtrer les MTs en fonction de la rponse  O39.

---

###  Synthse MT  S3

| Mtrique | Valeur |
|---|---|
| MT totales legacy | **18** |
| MT contributives () | **16** (MED : 16) |
| MT non-contributives () | **2** (INFO : MT_V3_033 / ORGA : MT_V3_008) |
| ASR validation | 16 MT contributives  100% = **ASR valide**  |

> **Condition de validation ASR** : En thorie, les 16 MT contributives doivent TOUTES tre compltes (K11). En pratique, seules les MT correspondant aux spcialistes dclars (O39) seront pertinentes. C'est un point  clarifier avec Dr. Monka.
>
>  **Question K11** : Est-ce que les 16 MTs sont TOUTES ncessaires pour valider l'ASR, ou seulement celles actives par les rponses  O39 ? Si l'aidant n'a pas de cardiologue, MT_V3_017 (prendre RDV cardiologue) est-elle quand mme requise pour l'ASR ?
>
> **Dcision Dr. Monka** :  K11 sur toutes les MT |  K11 sur les MT actives par O39 seulement

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs legacy** : \`Mdecin traitant\`, \`Professionnel de sant\`, \`Mdecin spcialiste\`, \`Aidant\`, \`IDEC\` (tous proposs IA )
> **Domaines** :  Mdical (16 MT) /  Mdico-social (2 MT)

### Tableau consolid des MT de S3 (tat actuel)

| MT_ID | Libell | Type | Acteur | Domaine | / | Reco | Source |
|---|---|---|---|---|---|---|---|
| MT_V3_020 | Contacter MT pour bilan de sant | MED | Mdecin traitant  |  Mdical  |  | S3_RECO_04 | Legacy  |
| MT_V3_033 | Informer dispositifs accs aux soins | INFO | Aidant  |  Mdico-social  |  | S3_RECO_02 | Legacy  |
| MT_V3_008 | Respecter la non-rponse | ORGA | IDEC  |  Mdico-social  |  | S3_RECO_04 | Legacy  |
| MT_V3_015030 | Prendre RDV avec [spcialiste] 13 | MED | Prof. sant  |  Mdical  |  | S3_RECO_03 | Legacy  |
| MT_V3_018 | Orienter vers le MT | MED | Mdecin traitant  |  Mdical  |  | S3_RECO_05 | Legacy  |
| MT_V3_019 | Contacter MT pour bilan mdication | MED | Mdecin traitant  |  Mdical  |  | S3_RECO_05 | Legacy  |

> **Rsum** :
> - Total MT : **18** (toutes legacy)
> - Domaine  Mdical : **16 MT** / Domaine  Mdico-social : **2 MT**
> - Contributives () : **16**  MED : 16
> - Non-contributives () : **2**  INFO : 1, ORGA : 1
> - Types utiliss : MED (16), INFO (1), ORGA (1). **Aucun SEC, STRUC**.

###  Observations

>  **S3 est le seul MP de V3 massivement mdical** : 16/18 MT sont MED. C'est le contraire de S1 (100% mdico-social) et S2 (mixte). C'est cohrent : S3 traite la sant physique, donc les actions sont mdicales.
>
>  **Aucune MT SEC ni STRUC** : Pas d'action de scurisation ni de structuration. Le MP est purement orient "prise de RDV" + "bilan"  pas de montage organisationnel complexe.

> **Dcision Dr. Monka** :  Valid |  Modifier les acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording des 5 Recos legacy

| Reco ID | Niveau | Texte utilisateur | Actions IDEC | Source |
|---|---|---|---|---|
| S3_RECO_01 |  CCC | Prendre RDV avec le mdecin traitant pour changer sur vos troubles du sommeil | Contacter le MT pour bilan de sant | Legacy  |
| S3_RECO_02 |  CCC | Bnficiez d'un accompagnement d'accs aux soins (Mdecin traitant) | Informer sur les dispositifs d'accs aux soins (courrier DAC/CPTS), chercher un MT via internet | Legacy  |
| S3_RECO_03 |  CCC | Un suivi rgulier est  prvoir selon les prconisations du mdecin | Prendre RDV avec les spcialistes selon dernire consultation | Legacy  |
| S3_RECO_04 |  CCC | Demandez un bilan de sant | Contacter le MT pour bilan de sant | Legacy  |
| S3_RECO_05 |  CCC | Prendre RDV avec votre mdecin traitant pour bilan | Contacter le MT pour bilan de mdication | Legacy  |

#### Wording MT (exemples  les 13 MTs spcialistes ont le mme pattern)

| MT_ID | Libell | Wording IDEC | Wording Utilisateur | / |
|---|---|---|---|---|
| MT_V3_020 | Bilan sant MT | Contacter le mdecin traitant pour organiser un bilan de sant | Prenez rendez-vous avec votre mdecin traitant pour un bilan |  |
| MT_V3_033 | Accs aux soins | Informer l'aidant sur les dispositifs d'accs aux soins | Renseignez-vous sur les dispositifs pour trouver un mdecin traitant |  |
| MT_V3_015030 | RDV [spcialiste] | Prendre RDV avec [spcialiste] selon date dernire consultation | Prenez rendez-vous avec votre [spcialiste] pour un suivi |  |
| MT_V3_018 | MT orientation | Orienter l'aidant vers son mdecin traitant | Consultez votre mdecin traitant |  |
| MT_V3_019 | Bilan mdication | Contacter le MT pour exposer l'tat de sant et bilan de mdication | Demandez un bilan de vos mdicaments  votre mdecin |  |

> **Dcision Dr. Monka** :  Wording valid |  Corrections

---

### Phase 2  Versioning par criticit

>  **S3 n'a qu'un seul niveau d'activation (CCC)**. Le versioning ne produit qu'une seule version par reco/MT. Si des rgles Standard sont ajoutes (Action 2, Options A/B), le versioning devra tre enrichi.

| Niveau | Reco Utilisateur (CAT_01) | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Bilan de sant et suivi sommeil recommands | Organiser bilan de sant et adresser les troubles du sommeil sous 30 jours |

| Niveau | Reco Utilisateur (CAT_02) | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Accompagnement pour trouver un mdecin traitant | Faciliter l'accs  un mdecin traitant sous 30 jours |

| Niveau | Reco Utilisateur (CAT_03) | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Suivi mdical spcialis  relancer | Relancer le suivi spcialis et bilan de mdication sous 30 jours |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP S3 n'est PAS activ (O44  "Moins bonne" ou E18 pas mauvaise = sant perue OK et sommeil correct)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Votre sant semble prserve et votre sommeil correct. Continuez  consulter rgulirement votre mdecin traitant et vos spcialistes. Pensez  signaler tout changement.  |  Sant perue et sommeil dans les limites acceptables. Encourager le maintien du suivi mdical rgulier. Rvaluer au prochain suivi.  |

### 6.2  Checklist de cohrence

| # | Vrification | Rsultat | Dtail |
|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  | E18 (via CCC_01), O44 (via CCC_01) : . **O37, O38, O39, O40, O41, O42, O43** :  pas de rgle  questions de contexte factuel uniquement |
| 2 | Chaque rgle d'activation  1 version de reco |  | 1 rgle  5 recos lies |
| 3 | Chaque catgorie de reco  ses MT assignes |  | CAT_01 : 1 MT, CAT_02 : 2 MT, CAT_03 : 15 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  | Aucune catgorie n'a 2 niveaux (1 seul CCC partout) |
| 5 | Aucune MT orpheline |  | 18 MT toutes rattaches |
| 6 | Reco prvention prsente |  | Propose |
| 7 | Wording reco = conseil, MT = verbe d'action |  | Propos |
| 8 | Sens clinique renseign pour chaque rgle |  | 1 rgle documente |

> **Score** : **4/8 valids**, 2 proposs, 1 partiel, 1 

>  **Points majeurs** :
> - **7 questions sans rgle d'activation** (O37-O43)  elles servent de contexte pour cibler les MTs mais ne dclenchent rien
> - **K3 non respect**  1 seul niveau d'activation. Options proposes en Action 2.
> - **16 MT contributives pour l'ASR**  question K11  clarifier (voir Action 3)

---

## SUIVI DYNAMIQUE  S3

### Question de suivi N3

| Champ | Valeur |
|---|---|
| **Question N3 ID** | S_S3 |
| **Libell** | Y a-t-il eu des changements concernant : sant physique et renoncement aux soins ? |
| **Rponses** | Oui / Non |
| **Source** | Legacy  |

**Si Oui  Rouverture :**

| # | Question ID | Libell | Classification |
|---|---|---|---|
| 1 | E18 | Qualit de votre sommeil ces dernires semaines ? | etat |
| 2 | O37 | Avez-vous un mdecin traitant ? | facteur |
| 3 | O38 | Avez-vous des mdecins spcialistes ? | facteur |
| 4 | O39 | Lesquels ? | etat |
| 5 | O40 | RDV mdicaux raliss cette anne ? | facteur |
| 6 | O41 | Lesquels ? | facteur |
| 7 | O42 | Maladies concernes ? | facteur |
| 8 | O43 | Mdicaments quotidiens ? | facteur |
| 9 | O44 | Sant par rapport  une personne du mme ge ? | etat |

---

## SCORING  Questions S3 contribuant au score V3

| Question | Score max | Barme |
|---|---|---|
| E18 | 2 | Bonne = 0 / Correcte = +1 / Mauvaise ou trs mauvaise = +2 |
| O44 | 2 | Meilleure = 0 / Identique = +1 / Moins bonne = +2 |

> **Score S3 contribue au score global V3** (max 20 points sur 10 questions). Les questions O37-O43 sont **non-scorantes** (facteurs factuels).

---

## SYNTHSE FINALE

| Mtrique | Valeur |
|---|---|
| Catgories de reco | **3** (bilan sant, accs MT, suivi spcialis) |
| Rgles d'activation | **1** (:1)  100% legacy |
| MT totales | **18** (toutes legacy) |
| MT contributives | **16** (MED : 16) |
| Domaine  /  | 16  / 2  |
| ASR |  16 MT contributives (question K11  clarifier) |
| Reco prvention |  Propose |
| Checks OK | 4/8 |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | K3 non respect : ajouter des rgles Standard (O37=Non ? O40=Non ?) ou accepter 1 seul CCC ? |  Haute |
| 2 | K11 : les 16 MT MED sont-elles toutes ncessaires ou conditionnes par O39 ? |  Haute |
| 3 | Valider les 3 catgories |  Haute |
| 4 | Valider les acteurs/domaines proposs IA |  Moyenne |
| 5 | Valider wording |  Moyenne |
| 6 | Valider reco prvention |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,X2=`#  Fiche de Validation MP  S4  Hygine de vie (activit et sommeil)

> **Vulnrabilit** : V3  Sant de l'Aidant  
> **ASR** :  Prserver votre qualit de vie   
> **Signature A** : S4-A  Hygine de vie maintenue  
> **Signature B** : S4-B  Dmarche proactive engage  
> **Date de validation** : ../02/2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## CONTEXTE  Big Picture V3

### Rpartition des 26 questions V3 entre les 4 MPs

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **S1** | Charge, fatigue et risque d'puisement | 9 | E7, E10, E11, E14, N8, O29, O32, O33, O50 | Surcharge physique et psychologique |
| **S2** | Inquitudes pour la scurit | 4 | E8, E9, E12, E13 | Isolement motionnel, inquitudes scuritaires |
| **S3** | Sant physique et renoncement aux soins | 9 | E18, O37, O38, O39, O40, O41, O42, O43, O44 | Suivi mdical, accs aux soins |
| **S4** | Hygine de vie (activit et sommeil) | 4 | E15, E16, E17, E19 | Accs aux RDV pour soi, activit physique, soucis sant |

> **S4 se concentre sur l'HYGINE DE VIE PROACTIVE** : l'aidant prend-il soin de lui-mme ? Accde-t-il  ses propres soins ? Fait-il de l'activit physique ? Quels sont ses soucis de sant prioritaires ? La frontire avec S3 est fonctionnelle : S3 = SUIVI MDICAL EXISTANT (a-t-il un MT ? des spcialistes ?), S4 = COMPORTEMENT PROACTIF (prend-il ses RDV ? fait-il du sport ? mange-t-il bien ?). S4 est le MP de la PRVENTION ACTIVE  aider l'aidant  maintenir son mode de vie sain.

---

## 0. DONNES FIGES  Questions rattaches  S4

### Questions actuelles

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E15 | Rencontrez-vous des difficults  obtenir des rendez-vous mdicaux pour vous-mme ? | etat | Pas du tout / Un peu / Oui |
| 2 | E16 | Depuis que vous tes aidant, vos propres rendez-vous mdicaux | etat | Je les gre normalement / J'ai du mal  les prendre ou  les garder / Je les reporte ou les annule souvent / Je ne sais pas / Je prfre ne pas rpondre |
| 3 | E17 | Pratiquez-vous une activit physique rgulire (au moins 30 minutes, 3 fois par semaine) ? | facteur | Oui / Non |
| 4 | E19 | Quels sont aujourd'hui vos principaux soucis de sant ? | etat | Fatigue / Sommeil / Douleurs / Moral (anxit, ides noires, dcouragement) / Alimentation ou poids / Problmes de tension, de cur, de diabte / Autre problme de sant / Aucun en particulier |

> Total : 4 questions rattaches  S4

###  Pourquoi ces 4 questions ?

**E15** et **E16** forment un duo qui mesure l'**accs aux soins pour soi-mme** :
- E15 = difficult objective  obtenir des RDV (gradient 3 niveaux)
- E16 = comportement face aux RDV depuis le dbut de l'aidance (5 rponses dont "ne sais pas" et "prfre ne pas rpondre")

 S4 et pas S3 car E15/E16 mesurent un COMPORTEMENT PROACTIF (est-ce que je prends/garde mes RDV ?), pas un TAT DE SUIVI (est-ce que j'ai un mdecin ? S3). La distinction est : S3 = "ai-je un suivi ?", S4 = "est-ce que je l'entretiens ?".

>  **E15/E16 = candidats dbattables S3 vs S4** : L'accs aux soins pourrait aussi tre class dans S3. Le choix S4 est justifi car :
> 1. E15/E16 mesurent un comportement actif (prendre/garder des RDV) = hygine de vie
> 2. S3 contient dj 9 questions (le max de V3)  l'quilibre serait rompu  11 vs 2
> 3. La combinaison E15+E16 forme le CCC de S4 (renoncement actif aux soins)  cliniquement cohrent dans le mme MP

**E17** mesure l'**activit physique rgulire**. C'est l'indicateur classique d'hygine de vie.  S4 pur.

**E19** identifie les **soucis de sant prioritaires** de l'aidant (choix multiples). C'est un inventaire dclaratif qui sert  cibler les recommandations (fatigue  S1/bilan, sommeil  S3, douleurs  bilan mdical, moral  S2/soutien psy).  S4 car c'est une question d'ORIENTATION (de quoi l'aidant a-t-il besoin ?) plus que de DIAGNOSTIC (S3) ou de CHARGE (S1).

###  Analyse des 22 autres questions V3  Pourraient-elles appartenir  S4 ?

#### Questions S1 (Charge, fatigue)

| Question | Libell | Pertinence S4 ? | Raisonnement |
|---|---|---|---|
| **E7, E10, E11, E14, N8, O29, O32, O33, O50** | Charge, puisement, moral, impact pro |  Non | Tous = charge/fatigue = S1 pur. |

>  **Verdict S1** : Aucune question S1 ne devrait tre dans S4.

#### Questions S2 (Inquitudes scurit)

| Question | Libell | Pertinence S4 ? | Raisonnement |
|---|---|---|---|
| **E8, E9, E12, E13** | Isolement, temps, scurit |  Non | Dimension psycho-sociale/scuritaire = S2 pur. |

>  **Verdict S2** : Aucune question S2 ne devrait tre dans S4.

#### Questions S3 (Sant physique)

| Question | Libell | Pertinence S4 ? | Raisonnement |
|---|---|---|---|
| **E18** | Qualit du sommeil |  **Dbattable** | Le sommeil est un marqueur d'hygine de vie  pourrait tre S4. **Mais** : E18 est dans S3 car elle mesure un paramtre de SANT PHYSIQUE OBJECTIVE (qualit du repos), pas un COMPORTEMENT. De plus, E18 forme le CCC de S3 avec O44. |
| **O37-O44** | Suivi mdical, pathologies, mdicaments |  Non | Suivi mdical existant = S3 pur. |

>  **Verdict S3** : Aucune question S3 ne devrait tre dans S4. **E18** est le seul dbattable  justifi en S3.

###  Synthse affiliation

| Question | MP actuel | Pertinence S4 ? | Confiance |
|---|---|---|---|
| S1 (9 questions) | S1 |  Non |  Haute |
| S2 (4 questions) | S2 |  Non |  Haute |
| E18 | S3 |  Dbattable |  Moyenne |
| O37-O44 | S3 |  Non |  Haute |

> **Conclusion** : Les 4 questions de S4 sont les bonnes. S4 est le MP le plus lger de V3 (4 questions, partag avec S2). C'est cohrent avec son rle de "prvention active"  il cible des comportements, pas des situations complexes.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

L'analyse des questions et des recommandations legacy montre 2 axes cliniques :

1. **Reprise du suivi mdical personnel**  E15/E16 (accs aux RDV + gestion des RDV)  S4_RECO_01 (bilan de sant MT).
2. **Identification des soucis de sant**  E19 (soucis prioritaires)  S4_RECO_01 (bilan MT orient sur les soucis dclars).

>  **Problme** : S4 n'a qu'**1 seule reco** (S4_RECO_01). Toutes les questions convergent vers la mme action : "Prendre RDV avec le MT pour bilan". Il n'y a pas de reco pour l'activit physique (E17). C'est un MP trs concentr.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | S4_CAT_01 | Bilan mdical et reprise du suivi | Organiser un bilan de sant MT pour adresser le renoncement aux soins et les soucis de sant | Legacy  (S4_RECO_01) |

###  Pourquoi 1 seule catgorie ?

**Pas 2** : On pourrait sparer "accs aux soins" (E15/E16) de "soucis de sant" (E19). **Mais** : la seule reco legacy (S4_RECO_01) couvre les deux  la sparation serait artificielle.

**Pas 0** : S4 a des contenus cliniques rels (renoncement aux soins = problme de sant publique majeur chez les aidants). 1 catgorie est le minimum viable.

>  **Observation** : S4 est le MP le plus lger de V3 en termes de catgories. Avec 1 seule catgorie et 1 seule reco, il se rapproche d'un "sous-MP" qui pourrait tre fusionn avec S3.  discuter avec Dr. Monka.
>
>  **Option d'enrichissement** :
> - Ajouter une CAT_02 "Activit physique et bien-tre" couvrant E17 (pas d'activit physique  encourager reprise sportive). Aucune reco legacy n'existe pour E17, mais c'est un axe de prvention vident.
>
> **Dcision Dr. Monka** :  1 catgorie |  Ajouter CAT_02 (activit physique) |  Fusionner S4 avec S3

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Raisonnement

S4 a **une seule rgle d'activation** : 1 CCC. Aucune Critique, aucun Standard. Mme situation que S3.

### Rappel des questions dclenchantes

> **E15**   Rencontrez-vous des difficults  obtenir des rendez-vous mdicaux pour vous-mme ? 
> -  Pas du tout /  **Un peu** (CCC) /  **Oui** (CCC)

> **E16**   Depuis que vous tes aidant, vos propres rendez-vous mdicaux 
> -  Je les gre normalement /  J'ai du mal  les prendre ou  les garder /  **Je les reporte ou les annule souvent** (CCC) /  Je ne sais pas /  Je prfre ne pas rpondre

> **E17**   Pratiquez-vous une activit physique rgulire ? 
> -  Oui /  Non
> -  **Aucune rgle d'activation.**

> **E19**   Quels sont aujourd'hui vos principaux soucis de sant ? 
> - Fatigue / Sommeil / Douleurs / Moral / Alimentation ou poids / Problmes cardiovasculaires / Autre / Aucun
> -  **Aucune rgle d'activation.** Questions de contexte uniquement.

---

### Catgorie 1  Bilan mdical et reprise du suivi

####  CCC  \`V3_S4_CCC_01\`

> **SI** E15  {Un peu, Oui} **ET** E16 =  Je les reporte ou les annule souvent 
>
> **ALORS** : Organiser un bilan de sant avec le mdecin traitant ( 30 jours)
>
> **Sens clinique** : Renoncement actif aux soins de l'aidant. L'aidant a des difficults d'accs aux RDV ET reporte/annule activement ses propres soins  signal fort de renoncement aux soins. Source : Legacy 

---

###  Dcisions Action 2

| # | Rgle | Niveau | Catgorie(s) | Source |
|---|---|---|---|---|
| 1 | V3_S4_CCC_01 (E15  Un peu + E16 = reporte souvent) |  CCC | CAT_01 | Legacy  |

> **Contrle K3** :
> - CAT_01 :  1 seul niveau (CCC)
>
>  **K3 non respect**  mme situation que S3. Les mmes options s'appliquent :
> - **Option A** : Ajouter Standard pour E16 = "J'ai du mal" (pas seulement "reporte souvent"). **Justification** : la difficult  prendre ses RDV, mme sans report systmatique, est un signal de renoncement premier.
> - **Option B** : Ajouter Standard pour E17 = "Non" (pas d'activit physique). **Justification** : l'inactivit physique est un facteur de risque sant tabli. Mais aucune reco legacy n'existe pour E17  il faudrait en crer une.
> - **Option C** : Laisser en l'tat (1 seul CCC).
>
>  **2 questions sans rgle d'activation** : E17 (activit physique) et E19 (soucis sant) ne dclenchent rien. E17 est un indicateur d'hygine de vie qui mriterait une rgle Standard. E19 sert de contexte pour cibler le bilan MT.
>
> **Dcision Dr. Monka** :  Option A |  Option B |  Option C |  Autre

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Raisonnement

> **tat legacy** : S4 n'a **aucune MT legacy** en DB.
>
>  **Anomalie majeure** : S4 est le seul MP de V3 (et possiblement de tout Monka)  avoir 0 micro-tche. La reco S4_RECO_01 existe mais n'a aucune MT associe. Cela signifie que :
> 1. L'ASR de S4 ne peut PAS tre valide (K11 : 100% des MT contributives requises  0 MT = 0/0 = division par zro logique)
> 2. L'IDEC n'a aucune action concrte  excuter lorsque S4 est activ
> 3. L'aidant ne reoit aucune MT  complter

### CAT_01  Bilan mdical et reprise du suivi

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| _(Aucune MT)_ | | | | | |

>  **Point critique** : S4 est un MP "vide" ct micro-tches. C'est le problme identifi dans \`C_master_mt_asr.md\` : *"MP S4 has no Contributive MTs, requiring a potential rule adjustment or ASR modification."*
>
>  **Options pour rsoudre l'absence de MT** :
>
> **Option 1  Crer des MT pour S4** :
> | MT propose | Type | Acteur | Reco |
> |---|---|---|---|
> | Contacter le MT pour organiser un bilan de sant | MED  | IDEC | S4_RECO_01 |
> | Identifier les RDV mdicaux  reprendre | INFO  | Aidant | S4_RECO_01 |
> | Accompagner la planification des RDV | ORGA  | IDEC | S4_RECO_01 |
>
> **Avantage** : S4 devient fonctionnel avec 1 MT contributive (MED)  ASR validable.
> **Risque** : Doublon potentiel avec S3 (MT_V3_020 = "contacter MT pour bilan de sant").
>
> **Option 2  Fusionner S4 dans S3** :
> Absorber les 4 questions et la rgle CCC dans S3. S3 passerait de 9  13 questions.
> **Avantage** : limine le MP vide. Simplifie l'architecture.
> **Risque** : S3 deviendrait trs dense (13 questions + 19+ MT). Perte de la granularit thmatique.
>
> **Option 3  Modifier l'ASR de S4** :
> Redfinir l'ASR pour qu'elle ne ncessite pas de MT contributives (validation automatique ou par rponse aux questions uniquement).
> **Avantage** : Conserve S4 comme MP indpendant.
> **Risque** : Droge  K11 (100% MT contributives requises).
>
> **Dcision Dr. Monka** :  Option 1 (crer MT) |  Option 2 (fusionner avec S3) |  Option 3 (modifier ASR)

---

###  Synthse MT  S4

| Mtrique | Valeur |
|---|---|
| MT totales legacy | **0** |
| MT contributives | **0** |
| MT non-contributives | **0** |
| ASR validation |  **Impossible** (0 MT  K11 non applicable) |

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **tat actuel** : Aucune MT  aucun acteur, aucun domaine. Ce tableau sera rempli une fois la dcision Action 3 prise.

| MT_ID | Libell | Type | Acteur | Domaine | / | Reco | Source |
|---|---|---|---|---|---|---|---|
| _(Aucune MT)_ | | | | | | | |

> **Dcision Dr. Monka** : En attente de la dcision Action 3.

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording de la Reco legacy

| Reco ID | Niveau | Texte utilisateur | Actions IDEC | Source |
|---|---|---|---|---|
| S4_RECO_01 |  CCC | Prendre rendez-vous avec le mdecin traitant pour bilan de sant | Contacter le mdecin traitant pour bilan de sant | Legacy  |

> **Observation** : Le texte utilisateur de S4_RECO_01 est quasi-identique  S3_RECO_04 ("Demandez un bilan de sant") et S3_RECO_01 ("Prendre RDV avec le MT"). Ce doublon renforce l'option de fusion S3/S4.

#### Wording MT

> Pas de MT legacy  wording en attente de la dcision Action 3.

### Phase 2  Versioning par criticit

> S4 n'a qu'un seul niveau d'activation (CCC). Le versioning ne produit qu'une seule version.

| Niveau | Reco Utilisateur (CAT_01) | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Reprenez votre suivi mdical avec votre mdecin traitant | Organiser la reprise du suivi mdical de l'aidant sous 30 jours |

> **Dcision Dr. Monka** :  Wording valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP S4 n'est PAS activ (l'aidant accde facilement  ses RDV et ne reporte pas ses soins)

| | Wording Utilisateur | Wording IDEC |
|---|---|---|
|  Prvention |  Vous semblez maintenir un accs correct  vos propres soins. Continuez  prendre soin de vous : pensez  l'activit physique et  signaler tout souci de sant.  |  Accs aux soins prserv. Encourager l'activit physique et le maintien des bonnes habitudes. Questionner les soucis de sant dclars. Rvaluer au prochain suivi.  |

### 6.2  Checklist de cohrence

| # | Vrification | Rsultat | Dtail |
|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  | E15 (CCC_01), E16 (CCC_01) : . **E17, E19** :  pas de rgle |
| 2 | Chaque rgle d'activation  1 version de reco |  | 1 rgle  1 reco |
| 3 | Chaque catgorie de reco  ses MT assignes |  | CAT_01 : **0 MT** |
| 4 | K3 respect (2 niveaux par catgorie) |  | CAT_01 : 1 niveau seulement |
| 5 | Aucune MT orpheline | N/A | 0 MT |
| 6 | Reco prvention prsente |  | Propose |
| 7 | Wording reco = conseil, MT = verbe d'action |  | Partiel (1 reco, 0 MT) |
| 8 | Sens clinique renseign pour chaque rgle |  | 1 rgle documente |

> **Score** : **3/8 valids**, 2 proposs, 1 N/A, 2 

>  **Points critiques** :
> - **0 MT** = MP non-fonctionnel ct excution
> - **K3 non respect** = 1 seul niveau d'activation
> - **E17 (activit physique) sans rgle ni reco** = couverture clinique incomplte
> - **Reco S4_RECO_01  doublon S3_RECO_04** = risque de confusion inter-MP

---

## SUIVI DYNAMIQUE  S4

### Question de suivi N3

| Champ | Valeur |
|---|---|
| **Question N3 ID** | S_S4 |
| **Libell** | Y a-t-il eu des changements concernant : hygine de vie (activit et sommeil) ? |
| **Rponses** | Oui / Non |
| **Source** | Legacy  |

**Si Oui  Rouverture :**

| # | Question ID | Libell | Classification |
|---|---|---|---|
| 1 | E15 | Difficults  obtenir des RDV mdicaux ? | etat |
| 2 | E16 | Vos propres RDV mdicaux depuis que vous tes aidant ? | etat |
| 3 | E17 | Activit physique rgulire ? | facteur |
| 4 | E19 | Principaux soucis de sant ? | etat |

---

## SCORING  Questions S4 contribuant au score V3

| Question | Score max | Barme |
|---|---|---|
| _(Aucune question S4 ne contribue au scoring V3)_ | | |

> **Aucune question S4 n'apparat dans le barme de scoring V3.** Les 10 questions scorantes V3 sont : E7, E8, E9, E10, E11, E12, E18, O29, O33, O44. S4 est le seul MP de V3 dont aucune question ne contribue au score. Cela renforce le caractre "annexe" de S4 par rapport aux autres MPs.

---

## SYNTHSE FINALE

| Mtrique | Valeur |
|---|---|
| Catgories de reco | **1** (bilan mdical) |
| Rgles d'activation | **1** (:1)  100% legacy |
| MT totales | **0**  |
| MT contributives | **0** |
| Domaine  /  | N/A |
| ASR |  **Non validable** (0 MT) |
| Reco prvention |  Propose |
| Checks OK | 3/8 |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 1 catgorie (bilan mdical) | Legacy  |
| 2 | 1 rgle d'activation (100% legacy) | Legacy  |
| 3 | 0 MT (anomalie documente) |   rsoudre |

### Dcisions restantes (PRIORITAIRES)

| # | Dcision | Priorit |
|---|---|---|
| 1 | **Rsoudre l'absence de MT** : crer des MT / fusionner avec S3 / modifier l'ASR ? |  Critique |
| 2 | **K3 non respect** : ajouter Standard pour E16 "J'ai du mal" ou E17 "Non" ? |  Haute |
| 3 | **E17 (activit physique)** : crer une reco et des MT pour l'inactivit physique ? |  Haute |
| 4 | **Doublon reco** : S4_RECO_01  S3_RECO_04  diffrencier ou fusionner ? |  Haute |
| 5 | **Aucune question scorante** : est-ce normal que S4 ne contribue pas au score V3 ? |  Moyenne |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
>  **ATTENTION** : Ce MP ncessite des dcisions structurelles AVANT validation (Action 3  absence de MT).
`,Z2=`#  Fiche de Validation MP  F1  Vie quotidienne, budget et entourage du proche

> **Vulnrabilit** : V4  Fragilit du Proche  
> **ASR** :  F1-A : Organisation structure | F1-B : Soutien ou aide quotidienne identifie   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V4

V4 (Fragilit du Proche) couvre 6 MPs centrs sur le Bloc 5  Vie quotidienne et fragilits du proche :

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| **F1** | **Vie quotidienne, budget et entourage** | **8** | **E20, E21, N10, N21, N23, N27, N9, O51** | **Quotidien global, budget, isolement, projet de vie** |
| F2 | Autonomie, aide humaine et prsence | 7 | E22, E23, E24, N18, N36, O8, O9 | Aide ncessaire jour/nuit, dplacements |
| F3 | Mmoire, comportement et risques | 8 | E25, E26, E27, N19, N22, N24, N25, O13 | Troubles cognitifs, comportements |
| F4 | Douleur, fatigue, sommeil et tat gnral | 11 | N11, N12, N13, N34, N44, O15, O22, O26, O3, O4, O5, O7 | tat physique global |
| F5 | Dpendance, handicap, addictions | 10 | E28, E29, E30, E31, N16, N30, N37, N38, N39, N40, O53, O54 | Hospitalisations, handicap, addictions |
| F6 | Autonomie fonctionnelle, chutes et aides | 9 | E32, E33, N32, O11, O12, O16, O51, O6 | Capacits motrices, chutes, aides techniques |

>  **Note** : E21 est mappe  F1 ET A1 (V2). O51 est mappe  F1 ET F6. O53/O54 sont mappes  F5 ET A2 (V2). Ces partages inter-vulnrabilit/inter-MP sont normaux  les questions sont figes, seule l'activation diffre.

> F1 est le **MP de cadrage** de V4. Il pose le dcor de la situation de vie du proche : o vit-il ? peut-on maintenir la situation ? est-il isol ? a-t-il des problmes financiers ? C'est le MP qui dclenche une rflexion globale sur le projet de vie.

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  F1

### Questions rattaches  ce MP

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E20 | Si vous pensez aux 612 prochains mois, o souhaiteriez-vous idalement que vive votre proche ? | facteur |   son domicile actuel /   mon domicile /  En tablissement (EHPAD, rsidence, foyer) /  Je ne sais pas / nous n'en avons pas parl |
| 2 | E21 | Pensez-vous qu'il sera possible de maintenir cette situation de vie sans changement majeur dans les prochains mois ? | etat |  Oui, probablement /  Oui, mais cela risque d'tre difficile /  Non, un changement sera ncessaire /  Je ne sais pas |
| 3 | N10 | Quelle est la nature de l'aide que vous apportez ? (plusieurs rponses possibles) | facteur |  Tches de la vie quotidienne (mnage, repas, habillage...) /  Gestion administrative et budgtaire /  Soutien moral, prsence ou compagnie sur le lieu de vie /  Accompagnement  des rendez-vous /  Autre |
| 4 | N9 | La personne aide rencontre-t-elle des problmes pour grer son budget ou ses affaires administratives ? | facteur |  Non /  Elle se fait aider /  Oui |
| 5 | N21 | Rencontre-t-elle des problmes financiers ? | facteur |  Non /  Parfois /  Oui |
| 6 | N23 | La personne aide a-t-elle des difficults  maintenir une activit professionnelle, occupationnelle ou scolaire ? | facteur |  Non /  Parfois /  Oui |
| 7 | N27 | Estimez-vous que la personne aide est socialement isole ? | facteur |  Pas du tout /  Un peu /  Beaucoup /  Totalement |
| 8 | O51 | Songez-vous  adapter son lieu de vie / son quotidien ? | facteur |  Oui /  Non |

> Total : **8 questions** rattaches  F1 (1 etat, 7 facteur)

### Questions candidates exclues

> Pour CHAQUE question de V4 non rattache  F1 : analyse de pertinence.

| Question ID | Libell | Pertinente pour F1 ? | Raisonnement |
|---|---|---|---|
| E22 | Heures d'aide humaine par semaine |  Non | Dimension F2  volume d'aide, pas projet de vie |
| E23 | Temps possible seul au domicile |  Non | Dimension F2  autonomie fonctionnelle |
| E24 | Besoin prsence la nuit |  Non | Dimension F2  surveillance nocturne |
| E25 | Confusion jour/nuit |  Non | F3  troubles cognitifs |
| E26 | Dsorientation lieux familiers |  Non | F3  troubles cognitifs |
| E27 | Comportements dangereux |  Non | F3  scurit comportementale |
| N18 | Raliser seul les actes de la vie quotidienne |  Possible | Pourrait informer le projet de vie F1 (si la personne ne peut plus faire les actes seule, cela impacte le maintien). Mais cliniquement  F2 (aide ncessaire). |
| N19 | Changements d'humeur ou de comportement |  Non | F3  troubles comportementaux |
| N22 | Comportements  risque (automutilation) |  Non | F3  risques scuritaires |
| N24 | Troubles mmoire/concentration |  Non | F3  troubles cognitifs |
| N25 | Ides suicidaires |  Non | F3  risque vital |
| O13 | Dtrioration fonctions cognitives |  Non | F3  valuation cognitive |
| N11 | Douleurs chroniques |  Non | F4  tat physique |
| N12 | Fatigue/manque d'nergie |  Non | F4  tat gnral |
| N13 | Troubles du sommeil |  Non | F4  sommeil |
| N36 | Besoin aide planification journes |  Possible | Touche l'organisation du quotidien mais cliniquement  F2 (aide humaine ncessaire). |
| O51 | Adapter lieu de vie |  Rattache | Aussi mappe  F6  double appartenance cohrente (F1 = projet de vie, F6 = amnagement concret). |

>  **Observation** : N18 (actes vie quotidienne) pourrait enrichir l'analyse F1 sur la soutenabilit du maintien, mais elle est cliniquement mieux place en F2. Pas de proposition de dplacement.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

> **Objectif** : Identifier les types d'actions DIFFRENTES que ce MP peut proposer.  
> **Mthode** : Ignorer la criticit. Se demander : "Quelles grandes actions cliniques distinctes pour ce MP ?"  
> **Source** : Recos legacy Supabase + jugement clinique

###  Questions  se poser  Action 1

| # | Question | Pourquoi c'est important |
|---|---|---|
| 1.1 | Les catgories couvrent-elles des dimensions cliniques **rellement distinctes** ? Ou certaines se chevauchent ? | viter les doublons  chaque CAT = 1 axe d'action unique |
| 1.2 | Y a-t-il une action clinique vidente que **aucune catgorie** ne couvre ? | Dtecter les angles morts |
| 1.3 | Faut-il **fusionner** deux catgories proches ? | Simplifier si la distinction n'apporte pas de valeur clinique |
| 1.4 | Faut-il **clater** une catgorie trop large en deux ? | Granularit suffisante pour que chaque CAT soit actionnable |
| 1.5 | Combien de catgories est raisonnable pour ce MP ? (T4  proportionnalit) | Un MP simple = 1-2 CAT ; un MP complexe = 3-4 CAT max |

###  Raisonnement

> Les 9 recos legacy se regroupent naturellement autour de **3 axes d'action cliniques distincts** :
>
> 1. **Projet de vie et hbergement** (E20, E21)  Anticiper, scuriser ou prparer une transition de lieu de vie. Recos F1_RECO_01, F1_RECO_02, F1_RECO_03.
> 2. **Soutien socio-financier** (N9, N21, N23)  Accompagnement budgtaire, administratif et social de la personne aide. Recos F1_RECO_05, F1_RECO_08, F1_RECO_09.
> 3. **Lien social et soutien psychologique** (N27, N10)  Rompre l'isolement et proposer un soutien psychologique. Recos F1_RECO_04, F1_RECO_06, F1_RECO_07.
>
> **Pourquoi pas 4 catgories ?** On pourrait sparer "soutien psycho" et "lien social", mais cliniquement ils convergent : l'isolement gnre le besoin psycho, et le suivi psycho inclut souvent la resocialisation.
>
> **Pourquoi pas 2 catgories ?** Fusionner socio-financier et projet de vie serait une erreur : le premier traite des moyens concrets (budget, aides), le second traite de la stratgie (o vivra le proche demain ?).

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | F1_CAT_01 | Projet de vie et hbergement | Anticiper la trajectoire rsidentielle du proche : maintien  domicile, adaptation ou transition en tablissement | Legacy  |
| 2 | F1_CAT_02 | Soutien socio-financier et administratif | Identifier et mobiliser les aides financires, administratives et ergonomiques pour la personne aide | Legacy  |
| 3 | F1_CAT_03 | Lien social et soutien psychologique | Rompre l'isolement social de la personne aide et proposer un accompagnement psychologique si besoin | Legacy  |

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

> **Objectif** : Pour chaque catgorie, quelles Q/A la dclenchent et  quel niveau ?  
> **Rgle K3** : S'applique  L'INTRIEUR de chaque catgorie (pas entre catgories)  
> **Format obligatoire** : Afficher la question en texte complet avec toutes ses options. Mettre en **gras** la rponse dclenchante.

###  Questions  se poser  Action 2

| # | Question | Pourquoi c'est important |
|---|---|---|
| 2.1 | **Chaque question** du MP est-elle utilise dans **au moins 1 rgle** ? Si non, pourquoi ? | Dtecte les questions orphelines |
| 2.2 | **Chaque combinaison** cliniquement significative a-t-elle une rgle ? | vite les trous de couverture |
| 2.3 | Les niveaux de criticit sont-ils **cliniquement justifis** ? | La criticit doit reflter l'urgence relle |
| 2.4 | Y a-t-il des **combos de rponses** qui signalent un niveau suprieur ? | Dtecte les CCC composites potentiels |
| 2.5 | Y a-t-il des **rponses extrmes** non exploites ? | Les signaux forts doivent dclencher une rgle |
| 2.6 | Chaque catgorie a-t-elle **au minimum 2 niveaux** (Standard + CCC) ? | K3 impose la granularit |
| 2.7 | Une mme rgle peut-elle **activer plusieurs catgories** ? | Assurer la cohrence du modle d'activation |

### Catgorie 1  Projet de vie et hbergement

> **Question complte E21** :  Pensez-vous qu'il sera possible de maintenir cette situation de vie sans changement majeur dans les prochains mois ? 
> **Options** :  Oui, probablement /  Oui, mais cela risque d'tre difficile /  **Non, un changement sera ncessaire** /  **Je ne sais pas**

> **Question complte O51** :  Songez-vous  adapter son lieu de vie / son quotidien ? 
> **Options** :  **Oui** /  Non

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V2_F1_STD_01 | E21  {"Non", "Je ne sais pas"} | Activer CAT_01 | Maintien situation sans changement impossible | Legacy  |
|  Standard | V2_F1_STD_02 | O51 = "Oui" | Activer CAT_01 | Projet adaptation lieu de vie en cours | Legacy  |
|  CCC | V2_F1_CCC_01 | E21 = "Non, un changement sera ncessaire" **ET** (N21 = "Oui" **OU** N9 = "Oui") | Activer CAT_01 + CAT_02 | Vie quotidienne non tenable + fragilits financires/gestion | Legacy  |

### Catgorie 2  Soutien socio-financier et administratif

> **Question complte N21** :  Rencontre-t-elle des problmes financiers ? 
> **Options** :  Non /  Parfois /  **Oui**

> **Question complte N9** :  La personne aide rencontre-t-elle des problmes pour grer son budget ou ses affaires administratives ? 
> **Options** :  Non /  Elle se fait aider /  **Oui**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V2_F1_CCC_01 | E21 = "Non" **ET** (N21 = "Oui" **OU** N9 = "Oui") | Activer CAT_02 (via CAT_01) | Changement ncessaire + problmes financiers/gestion | Legacy  |

>  **Alerte K3** : CAT_02 n'a qu'un seul niveau d'activation (CCC). Il manque un niveau Standard. Par exemple :
> -  **Proposition STD pour CAT_02** : SI N21 = "Parfois" OU N9 = "Elle se fait aider"  Activer CAT_02 en Standard | Sens : fragilits sous contrle mais  surveiller.

### Catgorie 3  Lien social et soutien psychologique

> **Question complte N27** :  Estimez-vous que la personne aide est socialement isole ? 
> **Options** :  Pas du tout /  Un peu /  **Beaucoup** /  **Totalement**

> **Question complte N23** :  La personne aide a-t-elle des difficults  maintenir une activit professionnelle, occupationnelle ou scolaire ? 
> **Options** :  Non /  Parfois /  **Oui**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard |  | (Rattache  F1_RECO_06, F1_RECO_07) | Activer CAT_03 | Isolement ou difficult occupationnelle | Legacy (implicite) |

>  **Alerte** : CAT_03 n'a **aucune rgle d'activation formalise** en DB. Les recos F1_RECO_06 et F1_RECO_07 sont rattaches  V2_F1_STD_01 (= rgle CAT_01). Cliniquement, ces recos devraient avoir leurs propres rgles.
>
>  **Propositions de rgles pour CAT_03** :
> - **STD** : SI N27  {"Un peu", "Beaucoup"} OU N23 = "Parfois"  Activer CAT_03 en Standard
> - **CCC** : SI N27 = "Totalement" OU N23 = "Oui"  Activer CAT_03 en CCC

###  Raisonnement

> **Couverture des questions** :
> - E20 (lieu de vie souhait) :  **Pas utilise dans aucune rgle**. C'est une question de cadrage contextuel, pas une question dclenchante. Elle informe le choix de la reco mais ne l'active pas.   discuter : faut-il qu'E20 = "En tablissement" dclenche directement CAT_01 ?
> - E21 :  Utilise dans STD_01 et CCC_01
> - N10 :  **Pas utilise dans aucune rgle**. C'est une question multi-choix descriptive. Elle ne dclenche pas mais informe le plan d'action (quelles aides l'aidant fournit dj). Cohrent en question de cadrage.
> - N9 :  Via CCC_01
> - N21 :  Via CCC_01
> - N23 :  **Pas dans une rgle formalise**  devrait dclencher CAT_03
> - N27 :  **Pas dans une rgle formalise**  devrait dclencher CAT_03
> - O51 :  Via STD_02
>
>  **Questions orphelines** : E20, N10, N23, N27 n'ont pas de rgle directe. E20 et N10 sont des questions de cadrage (acceptable). N23 et N27 devraient activer CAT_03.

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification |
|---|---|---|
| 1 | Crer STD pour CAT_02 : SI N21 = "Parfois" OU N9 = "Elle se fait aider" | K3 : chaque CAT doit avoir 2 niveaux |
| 2 | Crer STD + CCC pour CAT_03 bases sur N27 et N23 | Questions orphelines, besoin clinique d'activer le lien social |
| 3 | Crer une rgle Critique : E21 = "Non" ET N21 = "Oui" ET N27  {"Beaucoup","Totalement"} | Triple signal = urgence : maintien intenable + problmes financiers + isolement svre |
| 4 | Discuter si E20 = "En tablissement" doit activer CAT_01 directement | Signal fort de transition dj envisage |

> **Contrle K3** :  Non vrifi  CAT_02 et CAT_03 n'ont qu'un seul niveau chacune  
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

> **Objectif** : Quelles MT concrtes pour chaque catgorie ?  
> **Principe** : Les MT sont rattaches  la catgorie, PAS au niveau de criticit.

###  Questions  se poser  Action 3

| # | Question | Pourquoi c'est important |
|---|---|---|
| 3.1 | Les MT couvrent-elles la **chane complte** d'action ? (ORGA  INFO  STRUC  SEC) | Dtecte les maillons manquants |
| 3.2 | Y a-t-il des MT dans **d'autres catgories ou MP** qui devraient tre ici ? | Redistribution potentielle |
| 3.3 | Y a-t-il des MT ici qui **appartiennent plutt  une autre catgorie** ? | Mauvaise affectation thmatique |
| 3.4 | **Pourquoi pas 1 MT de plus ?** | Force  justifier la compltude |
| 3.5 | **Pourquoi pas 1 MT de moins ?** | Force  justifier la ncessit |
| 3.6 | Au moins **1 MT contributive** ( STRUC/SEC/MED) par catgorie ? | Condition de validation ASR |
| 3.7 | Le **mix de types** est-il quilibr ? | Varit = couverture clinique |

### CAT_01  Projet de vie et hbergement

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_001 (ex MT_V2_034) | valuer les besoins actuels et  venir au domicile | ORGA | IDEC |  | Legacy |
| MT_V4_002 (ex MT_V2_036) | valuer la soutenabilit du maintien  domicile | ORGA | IDEC |  | Legacy |
| MT_V4_003 (ex MT_V2_039) | valuer l'impact sur la scurit et la fatigue de l'aidant | ORGA | IDEC |  | Legacy |
| MT_V4_004 (ex MT_V2_041) | valuer les risques lis  l'isolement | ORGA | IDEC |  | Legacy |
| MT_V4_005 (ex MT_V2_044) | changer sur les contraintes matrielles et humaines | ORGA | IDEC |  | Legacy |
| MT_V4_006 (ex MT_V2_079) | Informer sur les types d'tablissements et critres d'admission | STRUC | IDEC |  | Legacy |
| MT_V4_007 (ex MT_V2_004) | Proposer un temps d'change sur les souhaits et craintes | SEC | IDEC |  | Legacy |
| MT_V4_008 (ex MT_V2_020) | Proposer un temps d'change pour clarifier les perspectives | SEC | IDEC |  | Legacy |
| MT_V4_009 (ex MT_V2_032) | Identifier les facteurs de fragilit | ORGA | Aidant (autonome) |  | Legacy |
| MT_V4_010 (ex MT_V2_037) | Confirmer les lments qui permettent le maintien | ORGA | IDEC |  | Legacy |
| MT_V4_011 (ex MT_V2_080) | Informer sur les options d'hbergement adaptes | STRUC | IDEC |  | Legacy |

>  **11 MT pour CAT_01**  C'est beaucoup. Plusieurs MT semblent redondantes :
> - MT_V4_001/002/003/004 sont toutes des valuations ORGA trs proches (besoins, soutenabilit, impact, risques).
> - MT_V4_007/008 sont deux "temps d'change" quasi identiques.
> - MT_V4_006/011 sont deux MT STRUC sur les options d'hbergement.

>  **Proposition de fusion** :
> - Fusionner MT_V4_001+002+003  "valuer la soutenabilit globale du maintien  domicile (besoins, risques, impact aidant)"
> - Fusionner MT_V4_007+008  "Proposer un temps d'change pour clarifier le projet de vie (souhaits, craintes, perspectives)"
> - Fusionner MT_V4_006+011  "Informer sur les options d'hbergement et critres d'admission"
> - Cela donnerait **7 MT** au lieu de 11, sans perte clinique.

####  Pourquoi N MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- Chaque MT fusionne couvre un angle distinct : valuation globale (ORGA), analyse risques isolement (ORGA), contraintes (ORGA), info tablissements (STRUC), change projet de vie (SEC), identification fragilits (ORGA auto), confirmation maintien (ORGA).

**Pourquoi pas 1 de plus ?**
- On pourrait ajouter une MT INFO "Informer sur le droit au rpit de l'aidant"  mais cela relve davantage de V3 (sant de l'aidant).

### CAT_02  Soutien socio-financier et administratif

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_012 (ex MT_V2_006) | Confirmer avec l'aidant le nombre d'heures envisages pour le SAD | SEC | IDEC |  | Legacy |
| MT_V4_013 (ex MT_V2_072) | Contacter le service partenaire pour aide  domicile | INFO | IDEC |  | Legacy |
| MT_V4_014 (ex MT_V2_025) | Prendre RDV avec le MT pour dossier de demande d'aide financire | SEC | IDEC |  | Legacy |
| MT_V4_015 (ex MT_V2_027) | Prendre RDV avec le MT pour dossier MDPH (rvaluation aides) | SEC | IDEC |  | Legacy |
| MT_V4_016 (ex MT_V2_050) | Contacter le MT pour bilan de dnutrition | MED | MT |  | Legacy |
| MT_V4_017 (ex MT_V2_068) | Contacter le MT pour valuer douleur et adapter traitement | MED | MT |  | Legacy |
| MT_V4_018 (ex MT_V2_074) | Contacter une assistante sociale pour info aides | INFO | IDEC |  | Legacy |
| MT_V4_019 (ex MT_V2_076) | Rappeler  l'aidant de contacter l'AS | INFO | IDEC |  | Legacy |
| MT_V4_020 (ex MT_V2_030) | Prendre contact avec un ergothrapeute du territoire | ORGA | IDEC |  | Legacy |

>  **Observations CAT_02** :
> - MT_V4_016 (bilan dnutrition) et MT_V4_017 (valuer douleur) sont des MT **mdicales** qui semblent davantage relever de **F4** (tat gnral du proche). Leur prsence en F1 est cliniquement discutable.
> - MT_V4_014 et MT_V4_015 sont proches (toutes deux = prendre RDV MT pour dossier administratif). Possible fusion.
> - MT_V4_018 et MT_V4_019 sont complmentaires (une informe l'IDEC, l'autre rappelle  l'aidant).

>  **Proposition** :
> - Dplacer MT_V4_016 et MT_V4_017 vers F4 (tat gnral du proche)
> - Fusionner MT_V4_014+015  "Organiser les dmarches administratives avec le MT (aide financire, MDPH)"

### CAT_03  Lien social et soutien psychologique

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_021 (ex MT_V2_010) | Prendre RDV avec un psychologue du territoire | SEC | Psychologue |  | Legacy |
| MT_V4_022 (ex MT_V2_016) | Prendre RDV avec un psychiatre du territoire pour suivi | SEC | IDEC |  | Legacy |
| MT_V4_023 (ex MT_V2_024) | Prendre RDV avec psychiatre | SEC | IDEC |  | Legacy |
| MT_V4_024 (ex MT_V2_082) | Contacter une association locale (tlphone/mail) | STRUC | IDEC |  | Legacy |

>  **Observations CAT_03** :
> - MT_V4_022/023 sont des doublons (mme action : RDV psychiatre). Fusion ncessaire.
> - 4 MT (3 aprs fusion), toutes SEC ou STRUC  pas de MT INFO ni ORGA. Il manque une tape de diagnostic (comprendre le niveau d'isolement avant d'agir).

>  **Propositions** :
> - Fusionner MT_V4_022+023  "Prendre RDV avec un psychiatre du territoire pour suivi"
> - Ajouter une MT ORGA : "valuer le rseau social existant de la personne aide (famille, voisins, associations)"

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | Fusion MT CAT_01 (117) |  |  |
| 2 | Dplacement MT_V4_016/017 vers F4 |  |  |
| 3 | Fusion doublons CAT_02/03 |  |  |
| 4 | Ajout MT ORGA pour CAT_03 |  |  |

> **Condition ASR par catgorie** :
> - CAT_01 :  3 (STRUC2 + SEC2)  ASR **possible**
> - CAT_02 :  4 (SEC3 + MED2)  ASR **possible** (si MT MED restent)
> - CAT_03 :  3 (SEC2 + STRUC1)  ASR **possible**

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Objectif** : Complter chaque MT avec ses mtadonnes  
> **Acteurs existants DB** : \`IDEC\`, \`MT\` (mdecin traitant), \`Aidant (autonome)\`, \`AS\`, \`Psychologue\`  
> **Domaines** :  Mdical /  Mdico-social

###  Questions  se poser  Action 4

| # | Question | Pourquoi c'est important |
|---|---|---|
| 4.1 | Le **type MED** est-il reprsent ? | Certains MP ncessitent une action mdicale directe |
| 4.2 | L'**acteur** est-il le bon ? | Acteur = celui qui FAIT l'action |
| 4.3 | Y a-t-il des MT o l'**aidant peut agir seul** ? (T5) | Certaines MT d'INFO/ORGA sont faisables sans pro |
| 4.4 | Le **domaine** (/) est-il correct ? | Cohrence avec la filire |
| 4.5 | Faut-il un **nouvel acteur** ? | Si acteur externe rcurrent |
| 4.6 | Y a-t-il un **attribut manquant** ? | Enrichir les mtadonnes |
| 4.7 | Les MT suivent-elles un **ordre logique** ? (T6) | Squence d'excution |

### Tableau consolid des MT de F1

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V4_001 | valuer les besoins actuels et  venir au domicile | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_002 | valuer la soutenabilit du maintien  domicile | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_003 | valuer l'impact sur la scurit et la fatigue de l'aidant | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_004 | valuer les risques lis  l'isolement | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_005 | changer sur les contraintes matrielles et humaines | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_006 | Informer sur les types d'tablissements et critres d'admission | STRUC | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_007 | Proposer un temps d'change sur les souhaits et craintes | SEC | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_008 | Proposer un temps d'change pour clarifier les perspectives | SEC | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_009 | Identifier les facteurs de fragilit | ORGA | Aidant (autonome) |  |  | CAT_01 | Legacy |
| MT_V4_010 | Confirmer les lments qui permettent le maintien | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_011 | Informer sur les options d'hbergement adaptes | STRUC | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_012 | Confirmer les heures SAD avec l'aidant | SEC | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_013 | Contacter le service partenaire aide  domicile | INFO | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_014 | RDV MT pour dossier aide financire | SEC | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_015 | RDV MT pour dossier MDPH rvaluation | SEC | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_016 | Contacter MT pour bilan dnutrition | MED | MT |  |  | CAT_02 | Legacy |
| MT_V4_017 | Contacter MT pour valuer douleur et adapter traitement | MED | MT |  |  | CAT_02 | Legacy |
| MT_V4_018 | Contacter AS pour info aides | INFO | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_019 | Rappeler  l'aidant de contacter l'AS | INFO | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_020 | Contact ergothrapeute du territoire | ORGA | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_021 | RDV psychologue du territoire | SEC | Psychologue |  |  | CAT_03 | Legacy |
| MT_V4_022 | RDV psychiatre du territoire pour suivi | SEC | IDEC |  |  | CAT_03 | Legacy |
| MT_V4_023 | RDV psychiatre (doublon MT_V4_022) | SEC | IDEC |  |  | CAT_03 | Legacy |
| MT_V4_024 | Contacter association locale | STRUC | IDEC |  |  | CAT_03 | Legacy |

> **Rsum** :  
> - Total MT : 24 (avant fusion)  
> - Domaine  Mdical : 7 / Domaine  Mdico-social : 17
> - Contributives () : 13  STRUC: 3, SEC: 8, MED: 2  
> - Non-contributives () : 11  INFO: 4, ORGA: 7

###  Propositions d'amlioration  Types, acteurs et domaine

| # | Proposition | Justification |
|---|---|---|
| 1 | MT_V4_016/017 (MED) :  dplacer vers F4 | Ces actions concernent l'tat de sant du proche (douleur, dnutrition), pas son projet de vie |
| 2 | MT_V4_009 : Acteur Aidant (autonome)  pertinent | C'est une auto-observation, l'aidant peut le faire seul  |
| 3 | MT_V4_020 : domaine   | L'ergothrapie est une intervention mdicale |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

> **Phase 1** : Valider le wording de base.  
> **Phase 2** : Versionner par criticit.

###  Questions  se poser  Action 5

| # | Question | Pourquoi c'est important |
|---|---|---|
| 5.1 | La **reco** est-elle un label court (un cap) ? | Reco  tche |
| 5.2 | Chaque **MT** pousse-t-elle  l'action des deux cts ? | IDEC + Utilisateur |
| 5.3 | Les MT **ORGA** ont-elles un wording Utilisateur ? | Pas de MT "interne IDEC" |
| 5.4 | La **gradation** entre niveaux est-elle perceptible ? | L'escalade doit tre claire |
| 5.5 | **Toutes les MT** sont-elles versionnes ? | Versioning partiel = non valide |
| 5.6 | Le **ton** est-il adapt ? | Pas d'infantilisation ni de jargon |

### Phase 1  Wording de base : MT et Recos

#### Wording des Recos de base

| CAT | Reco ID | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | / |
|---|---|---|---|---|
| CAT_01 | F1_RECO_01 | Scuriser et renforcer le maintien  domicile | valuer la soutenabilit du maintien et informer sur les options |  |
| CAT_01 | F1_RECO_02 | Favoriser la rflexion sur le projet de vie | Proposer un temps d'change pour clarifier les perspectives |  |
| CAT_01 | F1_RECO_03 | Anticiper une transition vers un autre hbergement | Confirmer le maintien ou prparer une orientation |  |
| CAT_02 | F1_RECO_05 | Solliciter le MT pour demande d'aide | IDEC prend RDV avec le MT pour dossier d'aide |  |
| CAT_02 | F1_RECO_08 | Contacter l'assistante sociale pour faire le point | Rappeler  l'aidant de contacter l'AS |  |
| CAT_02 | F1_RECO_09 | Demander bilan et aides techniques | Contacter un ergothrapeute du territoire |  |
| CAT_02 | F1_RECO_04 | Envisager un soutien psychologique | Confirmer les heures d'intervention SAD |  |
| CAT_03 | F1_RECO_06 | Demander un suivi rgulier | RDV avec un psychiatre du territoire |  |
| CAT_03 | F1_RECO_07 | Proposer un suivi contre l'isolement social | Contacter une association locale |  |

>  **F1_RECO_01** : "Scuriser et renforcer le maintien  domicile" est trop vague pour une reco  reformuler en quelque chose de plus spcifique.
>  **F1_RECO_04** : Le texte utilisateur ("soutien psychologique") et l'action IDEC ("heures SAD") ne correspondent pas. Incohrence entre la reco et son contenu.

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit (Reco + MT)

> **Principe** : Le niveau de criticit modifie le wording. Seuls les niveaux qui existent en rgles.

#### CAT_01  Projet de vie et hbergement

> Niveaux existants :  STD_01, STD_02 /  CCC_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Envisager des ajustements pour faciliter le quotidien de votre proche | valuer les besoins actuels et identifier les premires mesures d'adaptation |
|  CCC ( 30j) | Prparer activement la suite : maintien renforc ou transition vers une autre solution | Structurer le projet de vie avec l'aidant et prparer les dmarches |

#### CAT_02  Soutien socio-financier

> Niveaux existants :  CCC_01 uniquement ( K3 non respect)

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Prenez contact avec une assistante sociale pour valuer les aides disponibles | Orienter vers l'AS et accompagner les dmarches administratives urgentes |

#### CAT_03  Lien social et soutien psychologique

> Niveaux existants : aucun formalis (rgles  crer)

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Proposez  votre proche des activits sociales ou associatives | Identifier les structures locales et proposer un premier contact |
|  CCC ( 30j) | Organisez un suivi psychologique et social pour votre proche | RDV psychologue/psychiatre + inscription association |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

###  Questions  se poser  Action 6

| # | Question | Pourquoi c'est important |
|---|---|---|
| 6.1 | La **reco prvention** est-elle formule () ? | Le mode prvention est obligatoire |
| 6.2 | Les **MT de prvention** sont-elles suffisantes ? | viter le vide ou le surplus |
| 6.3 | L'**ASR** est-elle formule clairement ? | Critre de succs objectif |
| 6.4 | Y a-t-il des **doublons avec d'autres MP** ? (T1) | Check inter-MP obligatoire |
| 6.5 | La **checklist 8 points** est-elle  jour ? | Miroir fidle de l'tat actuel |

### 6.1  Reco prvention ()

> S'affiche quand le MP n'est PAS activ (aucune rgle n'a fir)

| | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ |
|---|---|---|
|  Prvention | Restez attentif  l'volution du quotidien de votre proche | Vrifier rgulirement la stabilit de la situation de vie |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V4_PREV_01 | Surveiller les signaux de dgradation du quotidien | ORGA | Faire un point trimestriel sur la situation de vie | Notez les changements dans le quotidien de votre proche |
| MT_V4_PREV_02 | Informer sur les ressources disponibles | INFO | Transmettre les coordonnes des structures locales | Renseignez-vous sur les services d'aide disponibles dans votre secteur |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  4 orphelines |  | E20, N10 = cadrage, N23/N27 = besoin rgles CAT_03 |
| 2 | Chaque rgle d'activation  1 version de reco |  |  | 3 rgles  9 recos |
| 3 | Chaque catgorie de reco  ses MT assignes |  |  | CAT_01: 11 MT, CAT_02: 9 MT, CAT_03: 4 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | CAT_01:  (STD+CCC), CAT_02:  (CCC seul), CAT_03:  (aucun formalis) |
| 5 | Aucune MT orpheline |  |  | Doublons  fusionner |
| 6 | Reco prvention prsente |  Propose |  |  valider |
| 7 | Wording reco = conseil succinct, MT = verbe d'action |  |  | F1_RECO_01 et F1_RECO_04  revoir |
| 8 | Sens clinique renseign pour chaque rgle |  |  | 3/3 rgles avec sens clinique |

> **Anomalies dtectes** :
> -  K3 non respect pour CAT_02 et CAT_03
> -  2 questions orphelines fonctionnelles (N23, N27)  besoin de rgles
> -  MT mdicales (dnutrition, douleur) mal positionnes en F1 (relvent de F4)
> -  Doublons MT : 3 paires  fusionner
> -  Incohrence F1_RECO_04 (texte utilisateur  action IDEC)

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 3 | 3 |
| Rgles d'activation | :2 :1 :0 | :_ :_ :_ |
| MT totales | 24 | ~18 (aprs fusions) |
| MT contributives | 13 | ~10 |
| Domaine  /  | 7 / 17 | 5 / 13 |
| ASR | F1-A / F1-B | F1-A / F1-B |
| Reco prvention |  | Propose |
| Checks OK | 4/8 | /8 |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories valides (projet vie, socio-financier, lien social) |  Propos |
| 2 | K3 non-compliance CAT_02 et CAT_03  crer rgles Standard |  Propos |
| 3 | Fusion des MT doublons (117 CAT_01, doublons CAT_02/03) |  Propos |
| 4 | Dplacer MT mdicales vers F4 |  Propos |
| 5 | Crer rgles CAT_03 bases sur N23/N27 |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | K3 : ajouter STD pour CAT_02 et CAT_03 |  |
| 2 | Fusionner les MT doublons ou garder la granularit ? |  |
| 3 | MT mdicales (dnutrition/douleur) : rester en F1 ou migrer vers F4 ? |  |
| 4 | E20 : doit-elle dclencher une rgle directement ? |  |
| 5 | F1_RECO_04 : corriger l'incohrence texte/action |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,eb=`#  Fiche de Validation MP  F2  Autonomie, aide humaine et prsence ncessaire

> **Vulnrabilit** : V4  Fragilit du Proche  
> **ASR** :  F2-A : Aide rgulire active | F2-B : Aide mobilisable en cas de besoin   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V4

V4 (Fragilit du Proche) couvre 6 MPs centrs sur le Bloc 5  Vie quotidienne et fragilits du proche :

| MP | Nom | Nb Q | Questions | Thme |
|---|---|---|---|---|
| F1 | Vie quotidienne, budget et entourage | 8 | E20, E21, N10, N21, N23, N27, N9, O51 | Quotidien global, budget, isolement |
| **F2** | **Autonomie, aide humaine et prsence** | **7** | **E22, E23, E24, N18, N36, O8, O9** | **Aide jour/nuit, mobilit, autonomie fonctionnelle** |
| F3 | Mmoire, comportement et risques | 8 | E25, E26, E27, N19, N22, N24, N25, O13 | Troubles cognitifs, comportements |
| F4 | Douleur, fatigue, sommeil et tat gnral | 11 | N11, N12, N13, N34, N44, O15, O22, O26, O3, O4, O5, O7 | tat physique global |
| F5 | Dpendance, handicap, addictions | 10 | E28-E31, N16, N30, N37-N40, O53, O54 | Hospitalisations, handicap |
| F6 | Autonomie fonctionnelle, chutes et aides | 9 | E32, E33, N32, O11, O12, O16, O51, O6 | Capacits motrices, aides techniques |

> F2 est le **MP oprationnel** de V4. L o F1 cadre le "projet de vie", F2 quantifie le besoin concret : combien d'heures d'aide, peut-il rester seul, a-t-il besoin de prsence la nuit, peut-il se dplacer seul ? C'est le MP qui dclenche les ajustements d'aide humaine.

>  **Frontire F2/F6** : F2 traite de l'aide HUMAINE ncessaire (heures, prsence, accompagnement). F6 traite des aides TECHNIQUES et de l'autonomie fonctionnelle physique (chutes, incontinence, aides matrielles). F2 = "de qui a-t-il besoin ?". F6 = "de quoi a-t-il besoin ?".

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  F2

### Questions rattaches  ce MP

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E22 | Globalement, combien d'heures d'aide humaine (aide  domicile, infirmiere, etc.) votre proche reoit-il par semaine ? | facteur |  Moins de 5 heures /  Entre 5 et 14 heures /  15  30 heures /  Plus de 30 heures /  Je ne sais pas |
| 2 | E23 | Combien de temps votre proche peut-il rester seul  son domicile sans risque particulier ? | facteur |  Il peut rester seul sans difficult /  Quelques heures, mais pas une journe entire /  Pas plus d'1 heure /  Il ne peut pas rester seul |
| 3 | E24 | La nuit, votre proche a-t-il besoin que quelqu'un soit prsent ou reste vigilant pour lui ? | facteur |  Non, il est autonome la nuit /  Parfois, en fonction de son tat /  Oui, il a souvent besoin d'aide ou de surveillance /  Oui, une prsence est ncessaire en permanence |
| 4 | N18 | La personne aide peut-elle raliser seule ses activits de la vie quotidienne (toilette, habillage, prparation des repas) ? | facteur |  Oui /  Non elle a besoin d'aide |
| 5 | N36 | A-t-elle besoin d'aide pour organiser et planifier ses journes ? | facteur |  Non /  Parfois /  Oui |
| 6 | O8 | Au quotidien a-t-elle besoin d'une aide humaine pour se dplacer en dehors de son domicile ? | facteur |  Non, elle est indpendante /  Oui, de temps en temps /  Oui, tout le temps |
| 7 | O9 | Au quotidien a-t-elle besoin d'une aide humaine pour se dplacer  l'intrieur de son domicile ? | facteur |  Non, elle est indpendante /  Oui, de temps en temps /  Oui, tout le temps |

> Total : **7 questions** rattaches  F2 (toutes facteur)
>  **Observation** : Toutes les questions sont de type "facteur". Aucune question "etat". Cela signifie que F2 value les CIRCONSTANCES (volume d'aide, capacits) mais ne mesure pas une DGRADATION directe.

### Questions candidates exclues

> Pour CHAQUE question de V4 non rattache  F2 : analyse de pertinence.

| Question ID | Libell | Pertinente pour F2 ? | Raisonnement |
|---|---|---|---|
| E20 | Lieu de vie souhait |  Non | F1  projet de vie, pas degr d'aide |
| E21 | Maintien possible sans changement |  Non | F1  soutenabilit globale |
| N10 | Nature de l'aide apporte par l'aidant |  Possible | Informe le volume d'aide informelle (aidant). Pourrait complter E22 (aide formelle). Mais cliniquement  F1 (cadrage du quotidien). |
| N9 | Problmes gestion budget/admin |  Non | F1  dimension administrative |
| N21 | Problmes financiers |  Non | F1  dimension financire |
| E25 | Confusion jour/nuit |  Possible | Impacte directement le besoin de prsence nocturne (E24). Mais cliniquement  F3 (troubles cognitifs). L'activation de E25 pourrait renforcer l'urgence de F2 via cross-activation. |
| E32 | Difficults  se lever |  Possible | Impacte l'autonomie mais cliniquement  F6 (autonomie fonctionnelle physique). F2 mesure l'aide ncessaire, F6 la capacit physique. |
| N32 | Aides techniques en place |  Non | F6  aides matrielles |
| O11 | Incontinence |  Non | F6  autonomie fonctionnelle |
| O12 | Se nourrir seule |  Possible | Touche l'autonomie mais  F6 (autonomie fonctionnelle). Pas l'aide humaine organise. |

>  **Observations cl** :
> - E25 (confusion jour/nuit) est un indicateur fort pour le besoin de prsence nocturne (E24). Une cross-activation F3F2 est envisageable.
> - N10 (nature aide aidant) complterait le tableau de F2 mais est mieux place en F1 pour le cadrage global.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

> **Objectif** : Identifier les types d'actions DIFFRENTES que ce MP peut proposer.  
> **Source** : Recos legacy Supabase + jugement clinique

###  Questions  se poser  Action 1

| # | Question | Pourquoi c'est important |
|---|---|---|
| 1.1 | Les catgories couvrent-elles des dimensions cliniques **rellement distinctes** ? | viter les doublons |
| 1.2 | Y a-t-il une action clinique vidente que **aucune catgorie** ne couvre ? | Dtecter les angles morts |
| 1.3 | Faut-il **fusionner** deux catgories proches ? | Simplifier |
| 1.4 | Faut-il **clater** une catgorie trop large ? | Granularit suffisante |
| 1.5 | Combien de catgories est raisonnable ? (T4) | Proportionnalit |

###  Raisonnement

> Les 8 recos legacy se regroupent autour de **3 axes d'action cliniques distincts** :
>
> 1. **Coordination et ajustement de l'aide  domicile** (E22, N18)  valuer si le volume et le type d'aide sont adapts au niveau de dpendance. Recos F2_RECO_01, F2_RECO_04.
> 2. **Scurisation des priodes  risque** (E23, E24)  Couvrir les moments o le proche est seul ou la nuit. Recos F2_RECO_02, F2_RECO_03.
> 3. **Rhabilitation de la mobilit** (O8, O9, N36)  Maintenir ou restaurer l'autonomie fonctionnelle par kin/ergo. Recos F2_RECO_05, F2_RECO_06, F2_RECO_07, F2_RECO_08.
>
> **Pourquoi pas 4 catgories ?** On pourrait sparer jour (E23) et nuit (E24), mais cliniquement la scurisation des priodes  risque est un continuum : les solutions sont lies (renforcement prsence, tlsurveillance).
>
> **Pourquoi pas 2 catgories ?** Fusionner coordination et scurisation serait une erreur : l'une est prventive (s'assurer que l'aide est suffisante), l'autre est ractive (couvrir les moments de danger immdiat).
>
>  **Tension F2/F6** : CAT_03 (mobilit) chevauche F6 (autonomie fonctionnelle). La distinction : F2_CAT_03 traite les BILANS et PRESCRIPTIONS (kin, ergo), F6 traite les AIDES TECHNIQUES installes.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | F2_CAT_01 | Coordination et ajustement de l'aide | valuer l'adquation entre le volume d'aide reu et le niveau rel de dpendance, ajuster si besoin | Legacy  |
| 2 | F2_CAT_02 | Scurisation des priodes  risque | Couvrir les moments o le proche est seul (jour) ou la nuit, par aide humaine ou dispositifs | Legacy  |
| 3 | F2_CAT_03 | Rhabilitation et maintien de la mobilit | Prescrire bilans kin/ergo pour maintenir ou restaurer l'autonomie de dplacement | Legacy  |

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

> **Objectif** : Pour chaque catgorie, quelles Q/A la dclenchent et  quel niveau ?  
> **Rgle K3** : S'applique  L'INTRIEUR de chaque catgorie

###  Questions  se poser  Action 2

| # | Question | Pourquoi c'est important |
|---|---|---|
| 2.1 | **Chaque question** du MP est-elle utilise dans **au moins 1 rgle** ? | Dtecte les questions orphelines |
| 2.2 | **Chaque combinaison** cliniquement significative a-t-elle une rgle ? | vite les trous de couverture |
| 2.3 | Les niveaux sont-ils **cliniquement justifis** ? | L'urgence doit tre relle |
| 2.4 | Y a-t-il des **combos** qui signalent un niveau suprieur ? | CCC composites |
| 2.5 | Y a-t-il des **rponses extrmes** non exploites ? | Signaux forts |
| 2.6 | Chaque catgorie a-t-elle **2 niveaux** ? | K3 |
| 2.7 | Une rgle peut-elle **activer plusieurs catgories** ? | Cohrence |

### Catgorie 1  Coordination et ajustement de l'aide

> **Question complte E24** :  La nuit, votre proche a-t-il besoin que quelqu'un soit prsent ou reste vigilant pour lui ? 
> **Options** :  Non, il est autonome la nuit /  Parfois, en fonction de son tat /  **Oui**, il a souvent besoin d'aide ou de surveillance /  Oui, une prsence est ncessaire en permanence

> **Question complte E23** :  Combien de temps votre proche peut-il rester seul  son domicile sans risque particulier ? 
> **Options** :  Il peut rester seul sans difficult /  Quelques heures, mais pas une journe entire /  **Pas plus d'1 heure** /  **Il ne peut pas rester seul**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V2_F2_STD_01 | E24 = "Oui" | Activer CAT_01 | Besoin prsence la nuit | Legacy  |
|  Standard | V2_F2_STD_02 | E23  {"Pas plus d'1 heure", "Ne peut pas rester seul"} | Activer CAT_01 | Temps possible seul trs limit | Legacy  |

>  **Note** : STD_01 et STD_02 sont affectes aux recos de CAT_01 et de CAT_02 (scurisation). Cliniquement, elles pourraient activer les deux catgories simultanment. Une mme rgle activant plusieurs CAT est acceptable si justifi.

### Catgorie 2  Scurisation des priodes  risque

> **Question complte E23** :  Combien de temps votre proche peut-il rester seul ? 
> **Options** :  Il peut rester seul /  Quelques heures /  **Pas plus d'1 heure** /  **Ne peut pas rester seul**

> **Question complte E24** :  La nuit, votre proche a-t-il besoin de prsence ? 
> **Options** :  Non /  Parfois /  **Oui, souvent** /  **Oui, en permanence**

> **Question complte O8** :  Besoin aide humaine dplacement extrieur ? 
> **Options** :  Non /  De temps en temps /  **Tout le temps**

> **Question complte O9** :  Besoin aide humaine dplacement intrieur ? 
> **Options** :  Non /  De temps en temps /  **Tout le temps**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V2_F2_CCC_01 | AU MOINS 2 parmi : E23  {"Pas plus d'1h", "Ne peut pas rester seul"}, E24 = "Oui", O8 = "Tout le temps", O9 = "Tout le temps" | Activer CAT_02 | Dpendance fonctionnelle leve ncessitant rorganisation urgente | Legacy  |

>  **Alerte K3** : CAT_02 n'a qu'un seul niveau (CCC). Il manque un niveau Standard.
>
>  **Proposition STD pour CAT_02** :
> - SI E23 = "Quelques heures" OU E24 = "Parfois"  Standard | Sens : besoin de vigilance sans urgence immdiate.

### Catgorie 3  Rhabilitation et maintien de la mobilit

> **Question complte O8** :  Besoin aide humaine pour se dplacer en dehors du domicile ? 
> **Options** :  Non /  De temps en temps /  **Tout le temps**

> **Question complte O9** :  Besoin aide humaine pour se dplacer  l'intrieur du domicile ? 
> **Options** :  Non /  De temps en temps /  **Tout le temps**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V2_F2_CCC_01 | (partie du mme CCC composite) O8 = "Tout le temps" ou O9 = "Tout le temps" | Activer CAT_03 | Mobilit trs rduite  bilan kin/ergo ncessaire | Legacy  |

>  **Alerte K3** : CAT_03 n'a qu'un seul niveau (CCC via le composite). Il manque un niveau Standard.
>
>  **Proposition STD pour CAT_03** :
> - SI O8 = "De temps en temps" OU O9 = "De temps en temps"  Standard | Sens : mobilit partielle, bilan prventif recommand.

###  Raisonnement

> **Couverture des questions** :
> - E22 (heures aide humaine) :  **Pas utilise dans aucune rgle**. C'est une question de cadrage : elle informe le contexte (combien d'aide reue actuellement) mais ne dclenche pas d'action. Accept comme question contextuelle.
> - E23 :  Via STD_02 et CCC_01
> - E24 :  Via STD_01 et CCC_01
> - N18 (actes vie quotidienne) :  **Pas dans une rgle formalise**. Pourtant la rponse "Non elle a besoin d'aide" est un signal important.
> - N36 (aide planification) :  **Pas dans une rgle formalise**. Pourtant "Oui" est un signal de dclin cognitif impactant l'autonomie.
> - O8 :  Via CCC_01
> - O9 :  Via CCC_01
>
>  **Questions orphelines** : E22 (cadrage  acceptable), N18 et N36 (devraient avoir des rgles).

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification |
|---|---|---|
| 1 | Crer STD pour CAT_02 : SI E23 = "Quelques heures" OU E24 = "Parfois" | K3 : 2 niveaux par CAT |
| 2 | Crer STD pour CAT_03 : SI O8 = "De temps en temps" OU O9 = "De temps en temps" | K3 : 2 niveaux par CAT |
| 3 | Crer rgle pour N18 : SI N18 = "Non"  Activer CAT_01 | Question orpheline avec signal clinique fort |
| 4 | Crer rgle pour N36 : SI N36  {"Parfois","Oui"}  Activer CAT_01 | Signal dclin cognitif impactant autonomie |
| 5 | Crer niveau Critique : AU MOINS 3 parmi les 4 conditions du CCC_01 | Triple signal = dpendance extrme ncessitant rorganisation immdiate |
| 6 | Discuter cross-activation F3F2 : SI E25 = "Oui" (confusion jour/nuit)  renforcer CAT_02 | Signal cognitif impactant directement la scurisation nocturne |

> **Contrle K3** :  Non vrifi  CAT_02 et CAT_03 n'ont qu'un seul niveau chacune  
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

> **Objectif** : Quelles MT concrtes pour chaque catgorie ?  
> **Principe** : Les MT sont rattaches  la catgorie, PAS au niveau de criticit.

###  Questions  se poser  Action 3

| # | Question | Pourquoi c'est important |
|---|---|---|
| 3.1 | Les MT couvrent-elles la **chane complte** ? (ORGA  INFO  STRUC  SEC) | Maillons manquants |
| 3.2 | Y a-t-il des MT dans **d'autres MP** qui devraient tre ici ? | Redistribution |
| 3.3 | Y a-t-il des MT ici qui **appartiennent ailleurs** ? | Mauvaise affectation |
| 3.4 | **Pourquoi pas 1 MT de plus ?** | Justifier compltude |
| 3.5 | **Pourquoi pas 1 MT de moins ?** | Justifier ncessit |
| 3.6 | Au moins **1 MT contributive** () par catgorie ? | Condition ASR |
| 3.7 | Le **mix de types** est-il quilibr ? | Varit clinique |

### CAT_01  Coordination et ajustement de l'aide

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_025 (ex MT_V2_008) | Orienter et accompagner la mise en place des aides matrielles et humaines | SEC | IDEC |  | Legacy |
| MT_V4_026 (ex MT_V2_013) | Faire le point sur les interventions existantes | SEC | IDEC |  | Legacy |
| MT_V4_027 (ex MT_V2_031) | valuer si le faible volume d'aide est suffisant | ORGA | IDEC |  | Legacy |
| MT_V4_028 (ex MT_V2_043) | valuer la charge restante pour l'aidant | ORGA | IDEC |  | Legacy |
| MT_V4_029 (ex MT_V2_073) | Vrifier la cohrence entre aides reues et niveau d'autonomie | INFO | IDEC |  | Legacy |
| MT_V4_030 (ex MT_V2_027r) | RDV MT pour dossier MDPH rvaluation des aides | SEC | IDEC |  | Legacy (F2_RECO_04) |

> 6 MT pour CAT_01  bon quilibre.
> - ORGA () : 2  valuation du volume et de la charge
> - INFO () : 1  vrification cohrence
> - SEC () : 3  mise en place, point existant, MDPH
>
>  MT_V4_027 et MT_V4_028 sont proches (valuer volume vs charge). La distinction est pertinente : l'une value l'aide reue par le proche, l'autre l'impact sur l'aidant.

####  Pourquoi 6 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- MT_V4_027 (volume suffisant ?) : sans elle, on ne vrifie pas l'adquation aide/besoins.
- MT_V4_028 (charge aidant) : sans elle, on ne croise pas avec V3 (sant aidant).
- MT_V4_029 (cohrence) : sans elle, on agit sans diagnostic pralable.

**Pourquoi pas 1 de plus ?**
- On pourrait ajouter "valuer les heures de nuit" mais c'est couvert par CAT_02.
- On pourrait ajouter "Enqute satisfaction aide  domicile" mais c'est hors scope IDEC.

### CAT_02  Scurisation des priodes  risque

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_031 (ex MT_V2_078) | Proposer un placement en EHPAD | STRUC | IDEC |  | Legacy (F2_RECO_02) |
| MT_V4_032 (ex MT_V2_014) | Proposer un renforcement des aides ou une organisation adapte | SEC | IDEC |  | Legacy (F2_RECO_03) |
| MT_V4_033 (ex MT_V2_035) | Identifier les situations dclenchantes | ORGA | Aidant (autonome) |  | Legacy |
| MT_V4_034 (ex MT_V2_038) | Identifier les moments  risque | ORGA | Aidant (autonome) |  | Legacy |
| MT_V4_035 (ex MT_V2_047) | Identifier les priodes ou situations dclenchantes | ORGA | Aidant (autonome) |  | Legacy |

>  **Observations CAT_02** :
> - MT_V4_033/034/035 sont des **triplons**  trois MT quasi identiques ("identifier les situations/moments/priodes dclenchantes"), toutes ORGA, toutes assignes  l'Aidant (autonome). Fusion imprative.
> - MT_V4_031 (placement EHPAD) est une action trs forte (institutionnalisation).  vrifier que le niveau d'activation est bien CCC ou Critique, pas Standard.

>  **Proposition de fusion** : MT_V4_033+034+035  "Identifier les moments et situations  risque (jour et nuit)"  ORGA, Aidant (autonome)
> Rsultat : **3 MT** au lieu de 5, sans perte clinique.

####  Pourquoi 3 MT (aprs fusion)  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- MT_V4_031 (EHPAD) : action de dernier recours mais ncessaire si dpendance extrme.
- MT_V4_032 (renforcement aides) : tape intermdiaire avant institutionnalisation.
- MT fusionne (identifier risques) : l'aidant doit tre acteur de la surveillance.

**Pourquoi pas 1 de plus ?**
- On pourrait ajouter "Installer une tlsurveillance/tlalarme"  pertinent mais relve de F6 (aides techniques).
- On pourrait ajouter "Organiser un planning de relais familiaux"  pertinent,  discuter.

### CAT_03  Rhabilitation et maintien de la mobilit

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_036 (ex MT_V2_065) | Se reporter  la procdure RDV mdecin spcialiste | MED | Mdecin spcialiste |  | Legacy (F2_RECO_05) |
| MT_V4_037 (ex MT_V2_081) | Contacter le CMP de secteur pour 1er contact infirmier | STRUC | IDEC |  | Legacy (F2_RECO_05) |
| MT_V4_038 (ex MT_V2_069) | Contacter MT pour bilan kin + bilan ergothrapie | MED | MT |  | Legacy (F2_RECO_07) |

> 3 MT pour CAT_03  cohrent. Toutes contributives ().
> - MED : 2  bilan spcialiste + bilan kin/ergo
> - STRUC : 1  contact CMP
>
>  **Observations** :
> - MT_V4_036 ("se reporter  la procdure RDV") : wording peu actionnable. C'est une rfrence  une procdure, pas une action concrte.  reformuler.
> - MT_V4_037 (contact CMP) : reco source = F2_RECO_05 ("demandez un suivi rgulier") rattache  N36 (planification). Le CMP est davantage orient psychiatrie  est-ce bien le bon acteur pour une question de planification des journes ? Ou faut-il un ergothrapeute/psychologue ?
> - Pas de MT ORGA ni INFO  il manque une tape d'valuation pralable (quelles capacits de mobilit restantes ?).

>  **Propositions** :
> - Reformuler MT_V4_036  "Organiser une consultation avec un mdecin spcialiste pour valuer la mobilit"
> - Ajouter une MT ORGA : "valuer les capacits de dplacement actuelles (intrieur/extrieur)"
> - Discuter la pertinence du CMP pour N36 ou rorienter vers ergothrapeute

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | Fusion triplons CAT_02 (53) |  |  |
| 2 | Reformuler MT_V4_036 (actionnable) |  |  |
| 3 | Ajouter MT ORGA valuation mobilit (CAT_03) |  |  |
| 4 | Vrifier CMP vs ergo pour N36 |  |  |

> **Condition ASR par catgorie** :
> - CAT_01 :  3 (SEC3)  ASR **possible**
> - CAT_02 :  2 (STRUC1 + SEC1)  ASR **possible**
> - CAT_03 :  3 (MED2 + STRUC1)  ASR **possible**

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Acteurs existants DB** : \`IDEC\`, \`MT\`, \`Aidant (autonome)\`, \`Mdecin spcialiste\`  
> **Domaines** :  Mdical /  Mdico-social

### Tableau consolid des MT de F2

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V4_025 | Orienter et accompagner mise en place des aides | SEC | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_026 | Faire le point sur les interventions existantes | SEC | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_027 | valuer si le volume d'aide est suffisant | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_028 | valuer la charge restante pour l'aidant | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_029 | Vrifier cohrence aides reues / autonomie | INFO | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_030 | RDV MT pour dossier MDPH rvaluation | SEC | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_031 | Proposer un placement en EHPAD | STRUC | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_032 | Proposer renforcement aides ou organisation adapte | SEC | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_033 | Identifier les situations dclenchantes | ORGA | Aidant (autonome) |  |  | CAT_02 | Legacy |
| MT_V4_034 | Identifier les moments  risque | ORGA | Aidant (autonome) |  |  | CAT_02 | Legacy |
| MT_V4_035 | Identifier les priodes ou situations dclenchantes | ORGA | Aidant (autonome) |  |  | CAT_02 | Legacy |
| MT_V4_036 | Consultation mdecin spcialiste (mobilit) | MED | Mdecin spcialiste |  |  | CAT_03 | Legacy |
| MT_V4_037 | Contacter CMP de secteur pour 1er contact | STRUC | IDEC |  |  | CAT_03 | Legacy |
| MT_V4_038 | Contacter MT pour bilan kin + ergothrapie | MED | MT |  |  | CAT_03 | Legacy |

> **Rsum** :  
> - Total MT : 14 (avant fusion)  
> - Domaine  Mdical : 3 / Domaine  Mdico-social : 11
> - Contributives () : 8  SEC: 4, STRUC: 2, MED: 2  
> - Non-contributives () : 6  ORGA: 5, INFO: 1

###  Propositions d'amlioration  Types, acteurs et domaine

| # | Proposition | Justification |
|---|---|---|
| 1 | MT_V4_028 (charge aidant) : cross-ref V3 ? | L'impact sur l'aidant est aussi une dimension de V3 (sant aidant). Cross-activation plutt que doublon. |
| 2 | MT_V4_033/034/035 : fusion des triplons | Mme action, mme acteur, mme type  un seul MT suffit |
| 3 | MT_V4_037 (CMP) : acteur  vrifier | Pour N36 (planification), un ergothrapeute est peut-tre plus pertinent qu'un CMP |
| 4 | Ajouter un acteur "Aide  domicile/SAD" ? | L'aide  domicile est un acteur cl de F2 mais n'a pas de MT ddie |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording des Recos de base

| CAT | Reco ID | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | / |
|---|---|---|---|---|
| CAT_01 | F2_RECO_01 | S'assurer de la bonne coordination des intervenants | Faire le point sur les interventions existantes |  |
| CAT_01 | F2_RECO_04 | Demander valuation/rvaluation du plan d'accompagnement | IDEC prend RDV MT pour dossier MDPH |  |
| CAT_02 | F2_RECO_02 | Scuriser les priodes d'absence prolonge | Identifier les moments  risque |  |
| CAT_02 | F2_RECO_03 | Scuriser les priodes nocturnes  risque | Identifier les situations dclenchantes |  |
| CAT_03 | F2_RECO_05 | Demander un suivi rgulier | Contacter CMP pour prise de contact |  |
| CAT_03 | F2_RECO_06 | Demander bilan de la marche chez kin et/ou ergo | Contacter MT pour prescription bilan kin/ergo |  |
| CAT_03 | F2_RECO_07 | Demander bilan ergothrapie pour maintenir l'autonomie | Contacter MT pour prescription bilan ergo |  |
| CAT_03 | F2_RECO_08 | Demander bilan ergo et/ou kin pour capacits motrices | Contacter MT pour prescription bilan kin/ergo |  |

>  **F2_RECO_05** : "Demander un suivi rgulier" est trop gnrique. Suivi de quoi ? Par qui ? Vis--vis de N36 (planification), le wording devrait tre plus spcifique.
>  **F2_RECO_07/08** : Doublons quasi identiques avec F2_RECO_06. Les 3 recos prescrivent la mme chose (bilan kin/ergo). Fusion recommande.

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit (Reco + MT)

#### CAT_01  Coordination et ajustement de l'aide

> Niveaux existants :  STD_01, STD_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Vrifiez que l'aide reue correspond bien aux besoins actuels | Faire le point sur les interventions et si ncessaire initier une rvaluation |

#### CAT_02  Scurisation des priodes  risque

> Niveaux existants :  CCC_01 uniquement ( K3)

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | La dpendance de votre proche ncessite une rorganisation urgente de l'aide | Structurer un plan de scurisation couvrant les priodes jour/nuit  risque |

#### CAT_03  Rhabilitation et maintien de la mobilit

> Niveaux existants :  CCC_01 uniquement ( K3)

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Demandez un bilan kin et ergo pour votre proche | Contacter le MT pour prescription bilan kin + ergothrapie |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP n'est PAS activ (aucune rgle n'a fir)

| | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ |
|---|---|---|
|  Prvention | Restez attentif  l'volution de l'autonomie de votre proche | Vrifier priodiquement l'adquation entre aide reue et besoins |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V4_PREV_03 | Surveiller les signaux de perte d'autonomie | ORGA | Faire un point rgulier sur les capacits du proche | Notez si votre proche a plus de difficults qu'avant dans ses gestes quotidiens |
| MT_V4_PREV_04 | Informer sur les bilans griatriques prventifs | INFO | Proposer un bilan griatrique si pas fait rcemment | Renseignez-vous sur un bilan griatrique pour votre proche |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle d'activation |  3 orphelines |  | E22 = cadrage, N18/N36 = besoin rgles |
| 2 | Chaque rgle d'activation  1 version de reco |  |  | 3 rgles  8 recos |
| 3 | Chaque catgorie de reco  ses MT assignes |  |  | CAT_01: 6 MT, CAT_02: 5 MT, CAT_03: 3 MT |
| 4 | K3 respect (2 niveaux par catgorie) |  |  | CAT_01:  (2 STD), CAT_02:  (CCC seul), CAT_03:  (CCC seul) |
| 5 | Aucune MT orpheline |  |  | Triplons  fusionner |
| 6 | Reco prvention prsente |  Propose |  |  valider |
| 7 | Wording reco = conseil succinct, MT = verbe d'action |  |  | F2_RECO_05 trop gnrique, F2_RECO_06/07/08 doublons |
| 8 | Sens clinique renseign pour chaque rgle |  |  | 3/3 rgles avec sens clinique |

> **Anomalies dtectes** :
> -  K3 non respect pour CAT_02 et CAT_03
> -  2 questions orphelines fonctionnelles (N18, N36)  besoin de rgles
> -  3 MT triplons en CAT_02  fusion imprative
> -  3 recos doublons (F2_RECO_06/07/08) pour les bilans kin/ergo  fusion
> -  F2_RECO_05 : wording trop gnrique
> -  Cross-activation F3F2 pour E25 (confusion jour/nuit)  envisager

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 3 | 3 |
| Rgles d'activation | :2 :1 :0 | :_ :_ :_ |
| MT totales | 14 | ~10 (aprs fusions) |
| MT contributives | 8 | ~6 |
| Domaine  /  | 3 / 11 | 3 / 7 |
| ASR | F2-A / F2-B | F2-A / F2-B |
| Reco prvention |  | Propose |
| Checks OK | 4/8 | /8 |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories (coordination aide, scurisation, mobilit) |  Propos |
| 2 | K3 non-compliance CAT_02 et CAT_03  crer rgles Standard |  Propos |
| 3 | Fusion triplons CAT_02 (53 MT) |  Propos |
| 4 | Fusion recos doublons F2_RECO_06/07/08 |  Propos |
| 5 | Crer rgles pour N18 et N36 |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | K3 : ajouter STD pour CAT_02 et CAT_03 |  |
| 2 | Questions orphelines N18 et N36 : crer rgles ? |  |
| 3 | Fusionner recos kin/ergo (RECO_06/07/08) |  |
| 4 | Cross-activation F3F2 pour E25 (confusion jour/nuit) |  |
| 5 | Acteur CMP pour N36 : pertinent ou remplacer par ergo ? |  |
| 6 | Ajout MT "planning relais familiaux" pour CAT_02 ? |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,nb=`#  Fiche de Validation MP  F3  Mmoire, comportement et risques

> **Vulnrabilit** : V4  Fragilit du Proche  
> **ASR** :  F3-A : Dispositifs rduisant le risque | F3-B : Encadrement humain effectif   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V4

V4 (Fragilit du Proche) couvre 6 MPs centrs sur le Bloc 5  Vie quotidienne et fragilits du proche :

| MP | Nom | Nb Q | Thme |
|---|---|---|---|
| F1 | Vie quotidienne, budget et entourage | 8 | Quotidien global, budget, isolement |
| F2 | Autonomie, aide humaine et prsence | 7 | Aide jour/nuit, mobilit |
| **F3** | **Mmoire, comportement et risques** | **8** | **Troubles cognitifs, comportements dangereux, humeur** |
| F4 | Douleur, fatigue, sommeil et tat gnral | 11 | tat physique global |
| F5 | Dpendance, handicap, addictions | 10 | Hospitalisations, handicap |
| F6 | Autonomie fonctionnelle, chutes et aides | 9 | Capacits motrices, aides techniques |

> F3 est le **MP de vigilance cognitive et comportementale** de V4. Il repre les signaux d'alarme : confusion jour/nuit, dsorientation, comportements dangereux, troubles de la mmoire, ides suicidaires. C'est le MP le plus "critique" de V4  il contient 2 rgles de niveau Critique (comportements dangereux + comportements  risque/automutilation).

>  **Frontire F3/F4** : F3 = troubles cognitifs/comportementaux (cerveau). F4 = troubles somatiques (corps : douleur, fatigue, sommeil, nutrition). L'humeur (N19, O4) est un cas frontire : F3 traite les changements d'humeur comme indicateurs de troubles comportementaux, F4 traite l'tat dpressif comme composante de l'tat gnral.

>  **Cross-activation F3F2** : E25 (confusion jour/nuit) et E26 (dsorientation) impactent directement le besoin de scurisation nocturne/prsence (F2). Cross-activation recommande.

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : doublons avec F4 (humeur/dpression) ou F2 (scurisation) ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : minimum vital pour un patient avec troubles cognitifs ? | Actions 1, 3 |
| T3 | **Actionnabilit** : chaque MT excutable concrtement ? | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : nombre d'lments proportionnel  la gravit ? | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : l'aidant peut-il raliser la MT seul ? | Actions 3, 4 |
| T6 | **Chane d'action** : squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  F3

### Questions rattaches  ce MP

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E25 | La personne aide confond-elle parfois le jour et la nuit (sommeil invers, veils nocturnes prolongs, endormissement en journe) ? | etat |  Non /  Parfois /  Oui |
| 2 | E26 | La personne aide se perd-elle ou semble-t-elle dsoriente dans des lieux familiers ? | etat |  Non /  Parfois /  Oui |
| 3 | E27 | A-t-elle des comportements potentiellement dangereux (gaz ouvert, porte non ferme, errance, actes risqus) ? | etat |  Non /  Parfois /  Oui |
| 4 | N19 | Ressentez-vous souvent des changements d'humeur ou de comportement chez elle ? | facteur |  Jamais /  Parfois /  Souvent |
| 5 | N22 | A-t-elle des comportements  risque (automutilation, comportements dangereux) ? | etat |  Jamais /  Parfois /  Souvent |
| 6 | N24 | La personne aide a-t-elle des troubles de la mmoire ou de la concentration ? | etat |  Non /  Parfois /  Oui |
| 7 | N25 | Exprime-t-elle des ides suicidaires ? | etat |  Jamais /  Parfois /  Souvent |
| 8 | O13 | Selon vous, y a-t-il une dtrioration notable dans ses fonctions cognitives ? | etat |  Non /  Oui, diminution de certaines fonctions /  Oui, elles sont totalement altres |

> Total : **8 questions** (7 etat, 1 facteur)  
>  **Observation** : F3 est massivement "etat" (7/8). C'est cohrent : on mesure des DGRADATIONS cognitives et comportementales, pas des circonstances.

### Questions candidates exclues

| Question ID | Libell | Pertinente pour F3 ? | Raisonnement |
|---|---|---|---|
| N36 | Besoin aide planification journes |  Possible | Dclin cognitif impactant l'organisation. Mais F2 (aide humaine ncessaire) est mieux plac pour l'activation. |
| O4 | Humeur (normale/anxieuse/dprime) |  Frontire | F3 = changements d'humeur (N19), F4 = tat dpressif (O4). La distinction est fine mais cliniquement cohrente. |
| E24 | Besoin prsence la nuit |  Non | F2  une consquence de F3, pas un indicateur cognitif en soi |
| N37-N40 | Questions addiction |  Non | F5  dimension addictive, pas cognitive |

>  **Observation** : N25 (ides suicidaires) est dans F3 mais sa rgle critique (V2_F4_CRIT_01) est rattache  **F4** dans la DB. Incohrence : la question est mappe  F3 mais la rgle est en F4. ** clarifier** : les ides suicidaires sont-elles un indicateur comportemental (F3) ou un indicateur d'tat gnral (F4) ? Cliniquement, les deux sont dfendables. La rgle est dans F4, la question est dans F3.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

> Les 8 recos legacy se regroupent autour de **3 axes d'action cliniques distincts** :
>
> 1. **Scurisation des comportements  risque** (E25, E26, E27, N22)  Prvenir les dangers lis  la dsorientation, la confusion et les comportements dangereux. Recos F3_RECO_01, F3_RECO_02, F3_RECO_03, F3_RECO_05.
> 2. **valuation et suivi neuro-cognitif** (N24, O13)  Faire valuer les troubles de mmoire/cognition et obtenir un bilan griatrique/neurologique. Recos F3_RECO_06, F3_RECO_08.
> 3. **Suivi psychiatrique et gestion de l'humeur** (N19, N25)  Surveiller les changements d'humeur, valuer le risque suicidaire et orienter vers un psychiatre/psychologue. Recos F3_RECO_04, F3_RECO_07.
>
> **Pourquoi pas 4 catgories ?** On pourrait sparer scurisation jour (E25/E26) et comportements dangereux (E27/N22). Mais cliniquement, les actions sont les mmes (identifier  scuriser  alerter). La diffrence est dans le niveau de criticit, pas dans la nature de l'action.
>
> **Pourquoi pas 2 catgories ?** Fusionner neuro-cognitif (bilan mdical) et psychiatrique (suivi humeur) serait une erreur : les acteurs sont diffrents (neurologue/griatre vs psychiatre/psychologue) et les actions sont distinctes.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | F3_CAT_01 | Scurisation des comportements  risque | Identifier et prvenir les dangers lis  la dsorientation, confusion et comportements dangereux | Legacy  |
| 2 | F3_CAT_02 | valuation et suivi neuro-cognitif | Faire valuer les troubles cognitifs et obtenir un bilan griatrique/neurologique | Legacy  |
| 3 | F3_CAT_03 | Suivi psychiatrique et gestion de l'humeur | Surveiller les changements d'humeur, valuer le risque, orienter vers psychiatre/psychologue | Legacy  |

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

### Catgorie 1  Scurisation des comportements  risque

> **E25** :  La personne aide confond-elle parfois le jour et la nuit ?     Non /  Parfois /  **Oui**
> **E26** :  Se perd-elle dans des lieux familiers ?    Non /  Parfois /  **Oui**
> **E27** :  Comportements potentiellement dangereux ?    Non /  Parfois /  **Oui**
> **N22** :  Comportements  risque (automutilation) ?    Jamais /  Parfois /  **Souvent**
> **O13** :  Dtrioration fonctions cognitives ?    Non /  **Diminution** /  **Altration totale**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V2_F3_CCC_01 | O13  {"Diminution","Altration totale"} **ET** (E25 = "Oui" **OU** E26 = "Oui") | Activer CAT_01 + CAT_02 | Dsorganisation cognitive installe avec retentissement fonctionnel | Legacy  |
|  CRITIQUE | V2_F3_CRIT_01 | E27 = "Oui" | Activer CAT_01 | Comportements dangereux pour le proche ou l'aidant | Legacy  |
|  CRITIQUE | V2_F3_CRIT_02 | N22 = "Oui" (Souvent) | Activer CAT_01 | Comportements  risque  mise en danger | Legacy  |

>  **Alerte K3 critique** : CAT_01 n'a **AUCUN niveau Standard**. Elle s'active directement en CCC ou Critique. C'est un choix clinique dfendable (les signaux de F3 sont par nature graves), mais cela contredit K3.
>
>  **Proposition STD pour CAT_01** :
> - SI E25 = "Parfois" OU E26 = "Parfois" OU E27 = "Parfois" OU N22 = "Parfois"  Standard | Sens : signaux prcoces ncessitant vigilance.

### Catgorie 2  valuation et suivi neuro-cognitif

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V2_F3_CCC_01 | O13  {"Diminution","Altration totale"} ET (E25 = "Oui" OU E26 = "Oui") | Activer CAT_02 (via CAT_01) | Besoin bilan griatrique/neurologique | Legacy  |

>  **Alerte K3** : CAT_02 n'a qu'un seul niveau (CCC).
>
>  **Proposition STD pour CAT_02** :
> - SI N24 = "Parfois" OU O13 = "Diminution de certaines fonctions"  Standard | Sens : troubles mergents, bilan prventif recommand.

### Catgorie 3  Suivi psychiatrique et gestion de l'humeur

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC |  | N19 = "Souvent"  via rattachement F3_RECO_04 | Activer CAT_03 | Changements d'humeur frquents | Legacy (implicite) |

>  **Alerte majeure** : CAT_03 n'a **aucune rgle d'activation formalise** dans la DB. Les recos F3_RECO_04 et F3_RECO_07 sont rattaches aux rgles CCC_01 et CRIT_02 respectivement, mais ces rgles activent CAT_01, pas CAT_03.
>
>  **N25 (ides suicidaires)** : La question est dans F3, mais sa rgle (V2_F4_CRIT_01) est dans **F4**. Incohrence critique. Si N25 reste en F3, il faut soit :
> - (a) Dupliquer la rgle en F3 (V2_F3_CRIT_03)
> - (b) Ou dplacer la question N25 vers F4
>
>  **Propositions de rgles pour CAT_03** :
> - **STD** : SI N19 = "Parfois"  Standard | Sens : changements d'humeur  surveiller
> - **CCC** : SI N19 = "Souvent"  CCC | Sens : instabilit comportementale ncessitant suivi
> - **CRITIQUE** : SI N25  {"Parfois","Souvent"}  Critique | Sens : risque suicidaire  action immdiate

###  Raisonnement couverture

> **Couverture des questions** :
> - E25 :  Via CCC_01
> - E26 :  Via CCC_01
> - E27 :  Via CRIT_01
> - N19 :  **Pas dans une rgle formalise**  devrait activer CAT_03
> - N22 :  Via CRIT_02
> - N24 :  **Pas dans une rgle formalise**  devrait activer CAT_02
> - N25 :  Rgle dans F4, pas F3
> - O13 :  Via CCC_01
>
>  **3 questions avec problmes** : N19 (orpheline), N24 (orpheline), N25 (mauvais MP dans la rgle).

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification | Priorit |
|---|---|---|---|
| 1 | Crer STD pour CAT_01 : "Parfois" sur E25/E26/E27/N22 | K3 + signaux prcoces non couverts |  |
| 2 | Crer STD pour CAT_02 : N24 = "Parfois" OU O13 = "Diminution" | K3 + question N24 orpheline |  |
| 3 | Crer STD + CCC + CRIT pour CAT_03 bases sur N19 et N25 | CAT_03 sans rgles formalises |  |
| 4 | Rsoudre N25 : question F3 vs rgle F4 | Incohrence de rattachement |  |

> **Contrle K3** :  Non vrifi  aucune catgorie n'a de niveau Standard  
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

### CAT_01  Scurisation des comportements  risque

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_039 (ex MT_V2_040) | Identifier les situations ou moments  risque | ORGA | Aidant (autonome) |  | Legacy |
| MT_V4_040 (ex MT_V2_042) | valuer la gravit et la frquence des comportements | ORGA | IDEC |  | Legacy |
| MT_V4_041 (ex MT_V2_045) | Identifier les situations  risque (fatigue, moments journe) | ORGA | Aidant (autonome) |  | Legacy |
| MT_V4_042 (ex MT_V2_075) | Identifier les situations ou moments de dsorientation | INFO | IDEC |  | Legacy |

>  **Observations CAT_01** :
> - MT_V4_039 et MT_V4_041 sont des **doublons** : "identifier les situations  risque" deux fois, mme acteur. Fusion imprative.
> - **0 MT contributive ()**  ASR impossible. Il manque des MT SEC/STRUC/MED.
> - Il n'y a aucune MT d'action concrte (alerter un professionnel, installer un dispositif, etc.)

>  **Propositions** :
> - Fusionner MT_V4_039+041  "Identifier et documenter les situations  risque (moments, frquence, nature)"
> - Ajouter MT SEC : "Alerter le MT en cas de comportement dangereux avr"
> - Ajouter MT STRUC : "valuer la pertinence d'un dispositif de scurit (tlalarme, dtecteur gaz, verrous)"

### CAT_02  valuation et suivi neuro-cognitif

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_043 (ex MT_V2_061) | RDV avec psychiatre  prescription surveillance traitements par IDEL | MED | Mdecin spcialiste |  | Legacy |
| MT_V4_044 (ex MT_V2_056) | RDV MT pour lettre d'adressage neurologue et griatre  passage IDEL surveillance mdicaments | MED | MT |  | Legacy |
| MT_V4_045 (ex MT_V2_062) | Contacter MT pour lettre d'adressage bilan griatrique complet (bilan mmoire) | MED | MT |  | Legacy |
| MT_V4_046 (ex MT_V2_067) | RDV MT pour lettre d'adressage griatre  prescription IDEL surveillance mdicaments | MED | MT |  | Legacy |

>  **Observations CAT_02** :
> - MT_V4_044/045/046 sont **triplons** : toutes = "contacter le MT pour lettre d'adressage griatre/neurologue + IDEL". Fusion imprative.
> - 4 MT, toutes MED ()  bon pour l'ASR, mais pas de diversit de types. Il manque ORGA (valuer avant d'agir).

>  **Propositions** :
> - Fusionner MT_V4_044+045+046  "Obtenir une lettre d'adressage du MT pour bilan griatrique/neurologique complet + prescription IDEL"
> - Rsultat : 2 MT (psychiatre + MT griatrique)  suffisant si on ajoute 1 ORGA.
> - Ajouter MT ORGA : "valuer le retentissement des troubles cognitifs sur le quotidien (actes  risque, oublis, erreurs mdicamenteuses)"

### CAT_03  Suivi psychiatrique et gestion de l'humeur

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_047 (ex MT_V2_059) | RDV mdecin gnraliste pour orienter vers les urgences | MED | Professionnel de sant |  | Legacy |

>  **Observations CAT_03** :
> - **1 seule MT**  clairement insuffisant pour un MP qui couvre les ides suicidaires et les changements d'humeur.
> - La MT existante est l'orientation d'urgence (N25 = ides suicidaires)  correcte pour le niveau Critique mais rien pour Standard/CCC.
> - Aucune MT pour N19 (changements d'humeur)  les recos F3_RECO_04 existent mais sans MT concrtes.

>  **Propositions** :
> - Ajouter MT SEC : "Prendre RDV avec un psychiatre pour valuer les changements d'humeur" (source : F3_RECO_04)
> - Ajouter MT SEC : "Prendre RDV avec un psychologue conventionn" (source : F3_RECO_07)
> - Ajouter MT ORGA : "Documenter la frquence et la nature des pisodes d'instabilit motionnelle"

###  Dcisions Action 3

| # | Proposition | Dcision |
|---|---|---|
| 1 | Fusion doublons CAT_01 (43) |  |
| 2 | Ajout MT contributives CAT_01 (SEC + STRUC) |  |
| 3 | Fusion triplons CAT_02 (42) |  |
| 4 | Ajout MT ORGA CAT_02 |  |
| 5 | Ajout 3 MT pour CAT_03 (SEC + ORGA) |  |

> **Condition ASR par catgorie** :
> - CAT_01 :  0   ASR **impossible**  besoin MT contributives
> - CAT_02 :  4 (MED4  2 aprs fusion)  ASR **possible**
> - CAT_03 :  1 (MED1)  ASR **possible** (si ajouts)

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

### Tableau consolid des MT de F3

| MT_ID | Libell | Type | Acteur | Domaine | / | Cat | Source |
|---|---|---|---|---|---|---|---|
| MT_V4_039 | Identifier situations/moments  risque | ORGA | Aidant (autonome) |  |  | CAT_01 | Legacy |
| MT_V4_040 | valuer gravit/frquence des comportements | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_041 | Identifier situations risque (doublon) | ORGA | Aidant (autonome) |  |  | CAT_01 | Legacy |
| MT_V4_042 | Identifier moments de dsorientation | INFO | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_043 | RDV psychiatre + prescription IDEL | MED | Mdecin spcialiste |  |  | CAT_02 | Legacy |
| MT_V4_044 | RDV MT lettre d'adressage neurologue/griatre | MED | MT |  |  | CAT_02 | Legacy |
| MT_V4_045 | MT lettre adressage bilan griatrique | MED | MT |  |  | CAT_02 | Legacy |
| MT_V4_046 | MT lettre adressage griatre + IDEL (doublon) | MED | MT |  |  | CAT_02 | Legacy |
| MT_V4_047 | RDV MG orienter urgences | MED | Professionnel de sant |  |  | CAT_03 | Legacy |

> **Rsum** :  
> - Total MT : 9 (avant fusion)
> - Domaine  : 5 / Domaine  : 4  
> - Contributives () : 5  MED: 5
> - Non-contributives () : 4  ORGA: 3, INFO: 1
> -  Pas de SEC ni STRUC  typiquement manquant pour un MP de scurisation

###  Propositions d'amlioration

| # | Proposition | Justification |
|---|---|---|
| 1 | Ajouter acteur "quipe mobile griatrique" | Pour les situations complexes de dsorientation |
| 2 | MT_V4_047 : acteur "Professionnel de sant"  trop vague | Prciser : "IDEC  oriente vers MT  urgences" |
| 3 | Ajouter SEC : "Alerter le rseau d'aide en cas de comportement dangereux avr" | Scurisation immdiate |

> **Dcision Dr. Monka** :  Valid |  Modifications

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base

| CAT | Reco ID | Reco Utilisateur | Reco IDEC | / |
|---|---|---|---|---|
| CAT_01 | F3_RECO_01 | Prvenir l'aggravation des troubles du rythme veille-sommeil | Identifier les priodes ou situations dclenchantes |  |
| CAT_01 | F3_RECO_02 | valuer le niveau de dsorientation et prvenir les situations  risque | Identifier les situations ou moments de dsorientation |  |
| CAT_01 | F3_RECO_03 | Situation  risque lev ncessitant une action immdiate | Identifier les situations ou moments  risque |  |
| CAT_02 | F3_RECO_06 | valuer les troubles mmoire/concentration et adapter la prise en charge | RDV psychiatre + prescription IDEL surveillance |  |
| CAT_02 | F3_RECO_08 | Demander courrier consultation griatrique ou neurologique | RDV MT pour lettre adressage + prescription IDEL |  |
| CAT_03 | F3_RECO_04 | valuer les changements d'humeur et rvaluer les traitements | RDV psychiatre pour suivi |  |
| CAT_03 | F3_RECO_05 | Demander sances de suivi pour prvenir dtrioration | RDV psychiatre pour suivi |  |
| CAT_03 | F3_RECO_07 | valuer le risque suicidaire et orienter vers les urgences | RDV psychologue conventionn |  |

>  **F3_RECO_03** : "Situation  risque lev ncessitant une action immdiate" n'est pas une reco  c'est un constat. Reformuler en action.
>  **F3_RECO_05** : doublon wording avec F3_RECO_04 (mme action : RDV psychiatre).
>  **F3_RECO_07** : Incohrence  le texte dit "orienter vers les urgences" mais l'action IDEC dit "RDV psychologue". Le psychologue n'est pas les urgences.

### Phase 2  Versioning par criticit

#### CAT_01  Scurisation des comportements

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Prvenir les situations de danger lies  la confusion et la dsorientation | valuer le risque et scuriser l'environnement du proche |
|  Critique ( 72h) | Agir immdiatement : votre proche prsente des comportements dangereux | Contacter le MT en urgence  scurisation immdiate ncessaire |

#### CAT_02  valuation neuro-cognitive

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Faites valuer les fonctions cognitives de votre proche par un spcialiste | Obtenir lettre adressage MT pour bilan griatrique/neurologique + IDEL |

#### CAT_03  Suivi psychiatrique et gestion de l'humeur

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Faites valuer les changements d'humeur de votre proche | RDV psychiatre pour bilan et adaptation traitement |
|  Critique ( 72h) | Alerte : votre proche exprime des ides suicidaires  consultez en urgence | Orienter immdiatement vers les urgences ou le 3114 |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

| | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Prvention | Restez attentif aux signes de trouble cognitif ou comportemental chez votre proche | Surveiller l'apparition de signaux de dsorientation, confusion ou changements d'humeur |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V4_PREV_05 | Surveiller les signaux cognitifs prcoces | ORGA | Vrifier priodiquement la mmoire et l'orientation | Notez si votre proche oublie plus souvent ou semble dsorient |
| MT_V4_PREV_06 | Informer sur les consultations mmoire | INFO | Proposer RDV consultation mmoire si +65 ans | Renseignez-vous sur les consultations mmoire gratuites |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Dtail |
|---|---|---|---|
| 1 | Chaque question  1 rgle |  | N19 orpheline, N24 orpheline, N25 = rgle F4 |
| 2 | Chaque rgle  1 reco |  | 3 rgles  8 recos |
| 3 | Chaque CAT  ses MT |  | CAT_01: 4 MT (0 ), CAT_02: 4 MT, CAT_03: 1 MT |
| 4 | K3 respect |  | **Aucune CAT n'a de Standard** |
| 5 | Aucune MT orpheline |  | Doublons + triplons |
| 6 | Reco prvention |  Propose |  valider |
| 7 | Wording correct |  | F3_RECO_03 = constat, F3_RECO_07 incohrent |
| 8 | Sens clinique renseign |  | 3/3 rgles OK |

> **Anomalies critiques** :
> -  **K3 totalement non respect** : 0 rgle Standard sur les 3 catgories
> -  **CAT_01 : 0 MT contributive**  ASR impossible
> -  **N25 : question F3, rgle F4**  incohrence de rattachement
> -  **CAT_03 : 1 seule MT** pour couvrir humeur + ides suicidaires
> -  **Doublons/triplons** MT : 2 fusions ncessaires

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories | 3 | 3 |
| Rgles | :0 :1 :2 | :_ :_ :_ |
| MT totales | 9 | ~8 (aprs fusions + ajouts) |
| MT contributives | 5 | ~7 (aprs ajouts SEC/STRUC) |
| Checks OK | 3/8 | /8 |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Crer niveaux Standard pour les 3 catgories |  |
| 2 | Ajouter MT contributives (SEC/STRUC) pour CAT_01 |  |
| 3 | Rsoudre le rattachement N25 (F3 vs F4) |  |
| 4 | toffer CAT_03 (1 MT  3-4 MT) |  |
| 5 | Fusionner doublons/triplons |  |
| 6 | Cross-activation F3F2 |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,tb=`#  Fiche de Validation MP  F4  Douleur, fatigue, sommeil et tat gnral

> **Vulnrabilit** : V4  Fragilit du Proche  
> **ASR** :  F4-A : Suivi ou traitement en cours | F4-B : Accompagnement soulageant l'tat gnral   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V4

V4 (Fragilit du Proche) couvre 6 MPs centrs sur le Bloc 5 :

| MP | Nom | Nb Q | Thme |
|---|---|---|---|
| F1 | Vie quotidienne, budget et entourage | 8 | Quotidien global, budget |
| F2 | Autonomie, aide humaine et prsence | 7 | Aide jour/nuit, mobilit |
| F3 | Mmoire, comportement et risques | 8 | Troubles cognitifs, comportements |
| **F4** | **Douleur, fatigue, sommeil et tat gnral** | **11** | **Douleur, nergie, sommeil, humeur, nutrition, sensoriels, mdication** |
| F5 | Dpendance, handicap, addictions | 10 | Hospitalisations, handicap |
| F6 | Autonomie fonctionnelle, chutes et aides | 9 | Capacits motrices, aides techniques |

> F4 est le **MP somatique central** de V4. Avec 11 questions, c'est le plus large de V4. Il couvre l'ensemble de l'tat physique du proche : douleur chronique, fatigue, sommeil, nutrition, poids, sensoriels (vue/audition), taille (ostoporose), humeur/dpression, mdication. C'est le MP qui dtecte la **dgradation somato-psychique globale** par accumulation.

>  **Frontire F4/F3** : F4 = corps (somatique). F3 = cerveau (cognitif/comportemental). La frontire est O4 (humeur) : F4 traite l'tat dpressif comme composante somatique, F3 traite les changements d'humeur comme indicateur comportemental. N25 (ides suicidaires) est en F3 mais sa rgle CRIT_01 est rattache  F4 dans la DB.

>  **Particularit F4** : Les rgles CRIT de F4 (CRIT_01 = N25, CRIT_02 = N38, CRIT_03 = N39) utilisent des questions rattaches  d'autres MPs (N25  F3, N38/N39  F5). C'est une forme de **cross-activation critique** : quand un signal vital est dtect dans un autre MP, F4 s'active en Critique.  documenter proprement ou  raffecter.

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : doublons avec F3 (humeur) ou F5 (alcool/tabac) ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : minimum vital griatrique pour un patient poly-symptomatique ? | Actions 1, 3 |
| T3 | **Actionnabilit** : chaque MT excutable concrtement ? | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : 11 questions  combien de CAT ? | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : l'aidant peut-il y contribuer ? | Actions 3, 4 |
| T6 | **Chane d'action** : squence logique ? | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  F4

### Questions rattaches  ce MP

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | N11 | La personne aide est-elle sujette  des douleurs chroniques lies  son tat de sant ? | etat |  Non /  Occasionnellement /  Oui |
| 2 | N12 | Ressentez-vous souvent de la fatigue ou un manque d'nergie chez la personne aide ? | etat |  Non /  Parfois /  Oui |
| 3 | N13 | La personne aide a-t-elle des troubles du sommeil ? | etat |  Non /  Parfois /  Oui |
| 4 | N34 | A-t-elle des difficults  s'alimenter correctement (sous-alimentation, suralimentation) ? | etat |  Non /  Parfois /  Oui |
| 5 | N44 | Avez-vous constat un changement de poids ? | facteur |  Non /  Oui _(conditionnel N3)_ |
| 6 | O3 | Combien de mdicaments diffrents prend-elle chaque jour ? | facteur |  Pas de traitement /  1  3 /  4  6 /  7 et plus |
| 7 | O4 | Selon vous, en ce moment, diriez-vous de la personne aide qu'elle est : | etat |  D'humeur normale /  Parfois anxieuse ou triste /  Dprime |
| 8 | O5 | Selon vous et par rapport  une personne du mme ge, diriez-vous que la personne aide est : | facteur |  En meilleure sant /  Sant quivalente /  En moins bonne sant |
| 9 | O7 | Avez-vous constat des changements dans la manire dont elle se nourrit ? | etat |  Non /  Oui /  Oui et elle est dnutrie |
| 10 | O15 | La personne aide consomme-t-elle habituellement : (plusieurs) | facteur |  Alcool (+3 verres/j) /  Tabac /  Aucun des deux |
| 11 | O22 | Quels ont t les principaux constats suite aux derniers examens de vue et d'audition ? | facteur |  Correct /  Correct avec lunettes/lentilles /  Correct avec appareillage auditif /  Mauvais malgr lunettes /  Mauvais malgr appareillage /  Je ne sais pas |
| 12 | O26 | Avez-vous constat une diminution de sa taille habituelle ? | etat |  Oui /  Non |

> Total : **12 questions** (7 etat, 5 facteur)   Le contexte indiquait 11 mais O7 est aussi mappe  F4, portant le total  12.

### Questions candidates exclues

| Question ID | Libell | Pertinente ? | Raisonnement |
|---|---|---|---|
| N25 | Ides suicidaires |  Cross-activation | Question F3 mais rgle F4_CRIT_01 en DB. Cross-activation critique, pas rattachement direct. |
| N38 | Difficults contrle addiction |  Cross-activation | Question F5 mais rgle F4_CRIT_02. Idem : cross-activation. |
| N39 | Problmes sant lis addiction |  Cross-activation | Question F5 mais rgle F4_CRIT_03. Idem. |
| E25 | Confusion jour/nuit |  Non | F3  troubles cognitifs, mais impacte le sommeil. Cross-ref possible. |
| N13 vs E25 | Sommeil vs confusion |  | N13 (F4) traite les troubles du sommeil SOMATIQUES. E25 (F3) traite la confusion jour/nuit COGNITIVE. Distinction clinique valide. |

>  **Observation structurelle** : Les 3 rgles Critique de F4 utilisent des questions d'AUTRES MPs (N25F3, N38/N39F5). Ce sont en ralit des **rgles de cross-activation critique** : "si un signal d'urgence est dtect ailleurs, F4 monte en Critique".  formaliser comme telles dans l'architecture globale.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

> Les 10 recos legacy couvrent un spectre trs large (douleur, fatigue, sommeil, nutrition, sensoriels, mdication, humeur, os). Regroupement en **4 catgories d'action cliniques** :
>
> 1. **Gestion de la douleur et de la fatigue** (N11, N12)  valuer et traiter la douleur chronique, investiguer les causes de fatigue. Recos F4_RECO_01, F4_RECO_02.
> 2. **Sommeil, nutrition et tat somatique** (N13, N34, N44, O7, O26)  Troubles du sommeil, alimentation, changement de poids, taille (ostoporose). Recos F4_RECO_03, F4_RECO_04, F4_RECO_05, F4_RECO_07, F4_RECO_10.
> 3. **Bilan sensoriel et mdication** (O3, O15, O22)  Suivi vue/audition, polymdication, consommation substances. Recos F4_RECO_06, F4_RECO_08.
> 4. **tat psychologique et humeur** (O4, O5)  Dpression, anxit, tat compar  l'ge. Reco F4_RECO_09.
>
> **Pourquoi 4 catgories ?** 12 questions couvrant 4 axes somatiques distincts : douleur/fatigue, nutrition/sommeil, sensoriels/mdication, humeur. Fusionner davantage perdrait la spcificit clinique.
>
> **Pourquoi pas 5 ?** On pourrait sparer nutrition et sommeil. Mais cliniquement, ils convergent souvent (dnutrition + insomnie = syndrome griatrique global). Les recos sont similaires (bilan MT).

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | F4_CAT_01 | Gestion de la douleur et de la fatigue | valuer douleur chronique, asthnie, adapter traitement antalgique | Legacy  |
| 2 | F4_CAT_02 | Sommeil, nutrition et tat somatique | Troubles sommeil, nutrition (dnutrition/suralimentation), poids, ostoporose | Legacy  |
| 3 | F4_CAT_03 | Bilan sensoriel et mdication | Suivi vue/audition, bilan polymdication, consommation substances | Legacy  |
| 4 | F4_CAT_04 | tat psychologique et humeur | valuation dpression/anxit, sant compare, orientation psychologue | Legacy  |

> **Dcision Dr. Monka** :  Valid 4 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

### Rgles de F4 dans la DB

> **Question complte N11** :  Douleurs chroniques ?    Non /  Occasionnellement /  **Oui**
> **Question complte N12** :  Fatigue/manque d'nergie ?    Non /  Parfois /  **Oui**
> **Question complte N13** :  Troubles du sommeil ?    Non /  Parfois /  **Oui**
> **Question complte N34** :  Difficults alimentation ?    Non /  Parfois /  **Oui**
> **Question complte O4** :  Humeur ?    D'humeur normale /  Parfois anxieuse /  **Dprime**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V2_F4_CCC_01 | AU MOINS 2 parmi : N11="Oui", N12="Oui", N13="Oui", N34="Oui", O4="Dprime" | Activer CAT_01 + CAT_02 + CAT_04 | Dgradation somato-psychique globale par accumulation | Legacy  |
|  CRITIQUE | V2_F4_CRIT_01 | N25 = "Souvent" _(question F3)_ | Activer CAT_04 | Ides suicidaires  risque vital immdiat | Legacy  |
|  CRITIQUE | V2_F4_CRIT_02 | N38 = "Oui" _(question F5)_ | Cross-activation | Perte de contrle addiction | Legacy  |
|  CRITIQUE | V2_F4_CRIT_03 | N39 = "Oui" _(question F5)_ | Cross-activation | Violence passive ou active | Legacy  |

### CAT_01  Gestion de la douleur et de la fatigue

| Niveau | Rgle | Condition | Sens clinique | Source |
|---|---|---|---|---|
|  CCC | V2_F4_CCC_01 (partiel) | N11 = "Oui" dans le composite | Douleur chronique avre, faisant partie d'un tableau multi-symptomatique | Legacy  |

>  **Alerte K3** : CAT_01 n'a **aucun niveau Standard**. La douleur occasionnelle (N11 = "Occasionnellement") ou la fatigue partielle (N12 = "Parfois") ne dclenchent rien.
>
>  **Proposition STD pour CAT_01** :
> - SI N11 = "Occasionnellement" OU N12 = "Parfois"  Standard | Sens : symptmes  surveiller, bilan prventif.

### CAT_02  Sommeil, nutrition et tat somatique

| Niveau | Rgle | Condition | Sens clinique | Source |
|---|---|---|---|---|
|  CCC | V2_F4_CCC_01 (partiel) | N13 = "Oui" et/ou N34 = "Oui" dans le composite | Troubles installs, risque dnutrition/insomnie chronique | Legacy  |

>  **Alerte K3** : Aucun Standard. N44 (poids), O7 (nutrition), O26 (taille) n'ont aucune rgle propre. Toutes sont des questions orphelines.
>
>  **Propositions STD pour CAT_02** :
> - SI N13 = "Parfois" OU N34 = "Parfois"  Standard | Sens : troubles mergents
> - SI N44 = "Oui" OU O7 = "Oui" OU O26 = "Oui"  Standard | Sens : changements physiques  investiguer

### CAT_03  Bilan sensoriel et mdication

>  **Aucune rgle d'activation dans la DB** pour CAT_03. Les recos F4_RECO_06 (vue/audition) et F4_RECO_08 (mdication) sont rattaches au CCC_01 composite, mais ce dernier ne vrifie pas O3, O15 ni O22.
>
>  **Propositions de rgles pour CAT_03** :
> - **STD** : SI O3  {"4  6","7 et plus"}  Standard | Sens : polymdication  risque
> - **CCC** : SI O22 contient "Mauvais malgr" OU O15 contient "Alcool"  CCC | Sens : dficit sensoriel non compens ou addiction

### CAT_04  tat psychologique et humeur

| Niveau | Rgle | Condition | Sens clinique | Source |
|---|---|---|---|---|
|  CCC | V2_F4_CCC_01 (partiel) | O4 = "Dprime" dans le composite | tat dpressif avr | Legacy  |
|  CRITIQUE | V2_F4_CRIT_01 | N25 = "Souvent" | Ides suicidaires  risque vital | Legacy  |

>  **Alerte K3** : Pas de Standard. O4 = "Parfois anxieuse/triste" ne dclenche rien.
>
>  **Proposition STD** : SI O4 = "Parfois anxieuse ou triste" OU O5 = "En moins bonne sant"  Standard | Sens : fragilit psychologique mergente.

###  Raisonnement couverture

> **Couverture des questions** :
> - N11 :  Via CCC_01 (partiel)
> - N12 :  Via CCC_01 (partiel)
> - N13 :  Via CCC_01 (partiel)
> - N34 :  Via CCC_01 (partiel)
> - N44 :  **Orpheline**  devrait activer CAT_02
> - O3 :  **Orpheline**  devrait activer CAT_03
> - O4 :  Via CCC_01 (partiel)
> - O5 :  **Orpheline**  sant compare, question de cadrage ?
> - O7 :  **Orpheline**  devrait activer CAT_02 (nutrition)
> - O15 :  **Orpheline**  devrait activer CAT_03 (substances)
> - O22 :  **Orpheline**  devrait activer CAT_03 (sensoriels)
> - O26 :  **Orpheline**  devrait activer CAT_02 (ostoporose)
>
>  **7 questions orphelines sur 12**  situation trs problmatique. La CCC_01 composite ne couvre que 5 questions. Toutes les questions "facteur" (valuation, mdicaments, vue, poids) n'ont aucune rgle.

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification | Priorit |
|---|---|---|---|
| 1 | Crer STD CAT_01 : N11="Occasionnellement" OU N12="Parfois" | K3 + couverture "avant la crise" |  |
| 2 | Crer STD CAT_02 : N13/N34="Parfois" ou N44/O7/O26="Oui" | K3 + 3 questions orphelines |  |
| 3 | Crer STD + CCC CAT_03 : O3 4, O22 "Mauvais", O15 "Alcool" | CAT entire sans rgle + 3 orphelines |  |
| 4 | Crer STD CAT_04 : O4="Parfois anxieuse" ou O5="Moins bonne sant" | K3 + 2 questions orphelines |  |
| 5 | Formaliser les CRIT comme cross-activations | CRIT_01/02/03 utilisent des questions d'autres MPs |  |

> **Contrle K3** :  Aucune CAT n'a de Standard  
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

### CAT_01  Gestion de la douleur et de la fatigue

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_048 (ex MT_V2_049) | Contacter MT pour bilan douleur (lettre adressage) | MED | MT |  | Legacy (RECO_01) |
| MT_V4_049 (ex MT_V2_057) | RDV MT pour bilan tat sant et rvaluer traitements | MED | MT |  | Legacy (RECO_02) |
| MT_V4_050 (ex MT_V2_058) | RDV MT pour bilan sant et rvaluer traitements (doublon) | MED | MT |  | Legacy (RECO_02) |
| MT_V4_051 (ex MT_V2_063) | Contacter MT pour prescription IDEL (prparation et surveillance traitements) | MED | MT |  | Legacy (RECO_02) |

>  **MT_V4_049/050** sont des **doublons stricts** (mme libell  une lettre prs : "traitement" vs "traitements").
> - 4 MT, toutes MED ()  bon pour ASR mais monotone.
> - Pas de MT ORGA ni INFO (pas d'valuation pralable par l'IDEC/aidant).

>  **Propositions** :
> - Fusionner MT_V4_049+050+051  "Obtenir RDV MT pour bilan de sant global, rvaluation traitements et prescription IDEL si besoin"
> - Rsultat : 2 MT (bilan douleur + bilan sant global)
> - Ajouter MT ORGA : "valuer avec l'aidant l'impact de la douleur/fatigue sur le quotidien"

### CAT_02  Sommeil, nutrition et tat somatique

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_052 (ex MT_V2_009) | RDV chirurgien-dentiste pour suivi | SEC | IDEC |  | Legacy (RECO_04) |
| MT_V4_053 (ex MT_V2_054) | RDV MT pour bilan sant + orienter psychiatre | MED | MT |  | Legacy (RECO_04) |
| MT_V4_054 (ex MT_V2_064) | RDV MT pour bilan osseux | MED | MT |  | Legacy (RECO_07) |

> 3 MT, bon quilibre SEC/MED.
> - MT_V4_052 (dentiste) est rattache  RECO_04 (alimentation)  lien : troubles alimentation  vrifier tat bucco-dentaire. Cohrent.
> - MT_V4_053 (MT  psychiatre) : rattache  RECO_04 (alimentation) mais l'action est "orienter vers psychiatre"  lien indirect via troubles alimentaires psychognes ?  clarifier.
> - Pas de MT pour N13 (sommeil) ni O7 (changements nutrition) ni N44 (poids).

>  **Propositions** :
> - Ajouter MT MED : "Contacter MT pour bilan troubles du sommeil" (pour N13)
> - Ajouter MT MED : "Contacter MT pour bilan nutritionnel / dnutrition" (pour O7/N34)
> - Clarifier MT_V4_053 : l'orientation psychiatre pour troubles alimentaires est-elle pertinente ici ?

### CAT_03  Bilan sensoriel et mdication

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_055 (ex MT_V2_017) | RDV avec l'ophtalmologue | SEC | IDEC |  | Legacy (RECO_06) |
| MT_V4_056 (ex MT_V2_022) | RDV avec ophtalmologue (doublon) | SEC | IDEC |  | Legacy (RECO_06) |
| MT_V4_057 (ex MT_V2_028) | RDV avec l'ORL | SEC | IDEC |  | Legacy (RECO_06) |
| MT_V4_058 (ex MT_V2_052) | Contacter MT pour bilan de mdication | MED | MT |  | Legacy (RECO_08) |

>  MT_V4_055/056 sont des **doublons** (RDV ophtalmo).
> - 4 MT (3 aprs fusion), toutes contributives (). Bon.
> - Mix SEC (IDEC prend RDV) + MED (bilan mdical).

>  **Propositions** :
> - Fusionner MT_V4_055+056  "Prendre RDV avec l'ophtalmologue du territoire"
> - Ajouter MT INFO : "Informer l'aidant des risques lis  la polymdication" (pour O3)

### CAT_04  tat psychologique et humeur

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_059 (ex MT_V2_051) | Contacter MT pour bilan de chute | MED | MT |  | Legacy (RECO_09) |
| MT_V4_060 (ex MT_V2_053) | RDV MT pour prescription sances psychologue | MED | Professionnel de sant |  | Legacy (RECO_09) |
| MT_V4_061 (ex MT_V2_070) | RDV MT pour prescription psychologue + lettre adressage addictologue | MED | MT |  | Legacy (RECO_09) |
| MT_V4_062 (ex MT_V2_003) | Contacter chirurgien-dentiste pour suivi | SEC | IDEC |  | Legacy (RECO_10) |

>  **Observations CAT_04** :
> - MT_V4_059 (bilan de chute) : pourquoi dans CAT_04 (humeur) ? Les chutes relvent de F6. Mal affecte.
> - MT_V4_061 (addictologue) : les addictions relvent de F5. Prsence justifiable si cross-activation CRIT_02/03.
> - MT_V4_062 (dentiste) : dj prsente en CAT_02 (MT_V4_052). Doublon inter-catgorie.
> - MT_V4_060/061 sont proches (RDV MT pour psychologue).

>  **Propositions** :
> - Dplacer MT_V4_059 (chute) vers F6
> - Supprimer MT_V4_062 (doublon chirurgien-dentiste avec CAT_02)
> - Fusionner MT_V4_060+061  "Obtenir prescription MT pour sances psychologue et/ou adressage addictologue"
> - Ajouter MT ORGA : "valuer l'impact de l'tat psychologique sur le quotidien (motivation, activits, socialisation)"

###  Dcisions Action 3

| # | Proposition | Dcision |
|---|---|---|
| 1 | Fusion doublons CAT_01 (42) + ajout ORGA |  |
| 2 | Ajout MT sommeil + nutrition pour CAT_02 |  |
| 3 | Fusion doublon ophtalmo CAT_03 (43) |  |
| 4 | Dplacer MT chute vers F6, supprimer doublon dentiste CAT_04 |  |
| 5 | Fusionner psychologue/addictologue CAT_04 |  |

> **Condition ASR par catgorie** :
> - CAT_01 :  4 (MED4  2 aprs fusion)  ASR **possible**
> - CAT_02 :  3 (SEC1, MED2)  ASR **possible**
> - CAT_03 :  4 (SEC32, MED1)  ASR **possible**
> - CAT_04 :  4 (MED31, SEC10)  ASR **possible** (si ajout)

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

### Tableau consolid des MT de F4

| MT_ID | Libell | Type | Acteur | Domaine | / | Cat | Source |
|---|---|---|---|---|---|---|---|
| MT_V4_048 | MT bilan douleur (lettre adressage) | MED | MT |  |  | CAT_01 | Legacy |
| MT_V4_049 | RDV MT bilan sant + rvaluer traitements | MED | MT |  |  | CAT_01 | Legacy |
| MT_V4_050 | RDV MT bilan sant rvaluer traitements (doublon) | MED | MT |  |  | CAT_01 | Legacy |
| MT_V4_051 | MT prescription IDEL surveillance traitements | MED | MT |  |  | CAT_01 | Legacy |
| MT_V4_052 | RDV chirurgien-dentiste | SEC | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_053 | RDV MT bilan sant + orienter psychiatre | MED | MT |  |  | CAT_02 | Legacy |
| MT_V4_054 | RDV MT bilan osseux | MED | MT |  |  | CAT_02 | Legacy |
| MT_V4_055 | RDV ophtalmologue | SEC | IDEC |  |  | CAT_03 | Legacy |
| MT_V4_056 | RDV ophtalmologue (doublon) | SEC | IDEC |  |  | CAT_03 | Legacy |
| MT_V4_057 | RDV ORL | SEC | IDEC |  |  | CAT_03 | Legacy |
| MT_V4_058 | MT bilan mdication | MED | MT |  |  | CAT_03 | Legacy |
| MT_V4_059 | MT bilan de chute ( mal affect) | MED | MT |  |  | CAT_04 | Legacy |
| MT_V4_060 | RDV MT prescription psychologue | MED | Prof. sant |  |  | CAT_04 | Legacy |
| MT_V4_061 | RDV MT psychologue + adressage addictologue | MED | MT |  |  | CAT_04 | Legacy |
| MT_V4_062 | Chirurgien-dentiste suivi ( doublon CAT_02) | SEC | IDEC |  |  | CAT_04 | Legacy |

> **Rsum** :
> - Total MT : 15 (avant fusion  ~10 aprs)
> - Domaine  : **15/15**  tout est mdical. Aucun  mdico-social.
> - Contributives () : **15/15**  toutes contributives
> - Non-contributives () : **0**  aucune MT ORGA/INFO
>
>  **Anomalie structurelle majeure** : F4 n'a **AUCUNE MT non-contributive** (pas d'ORGA, pas d'INFO). Toutes les MT sont des RDV ou bilans mdicaux. Il manque compltement la dimension d'valuation (IDEC/aidant) et d'information. Ce MP est purement "orienteur mdical" sans diagnostic pralable ni accompagnement.

###  Propositions d'amlioration

| # | Proposition | Justification |
|---|---|---|
| 1 | Ajouter MT ORGA par catgorie | valuer AVANT d'agir : la chane T6 est brise (pas de diagnostic) |
| 2 | Ajouter MT INFO : hygine de vie, polymdication | L'aidant a besoin d'information, pas seulement d'orientation |
| 3 | Acteur "Professionnel de sant"  trop vague | Prciser (IDEC, MT, spcialiste) |
| 4 | Tous domaine   revoir si MT sociales possibles | Certaines MT (RDV chirurgien-dentiste via IDEC) sont plutt  |

> **Dcision Dr. Monka** :  Valid |  Modifications

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base

| CAT | Reco ID | Reco Utilisateur | Reco IDEC | / |
|---|---|---|---|---|
| CAT_01 | F4_RECO_01 | Prescription/modification traitement antalgique + courrier griatre/algologue | MT bilan douleur (lettre adressage) |  |
| CAT_01 | F4_RECO_02 | Demander  rvaluer les traitements | RDV MT bilan sant + rvaluer traitements |  |
| CAT_02 | F4_RECO_03 | Rvaluer traitements et troubles du sommeil | RDV MT prescription psychologue |  |
| CAT_02 | F4_RECO_04 | Vrifier l'tat bucco-dentaire | RDV MT bilan sant + orienter psychiatre |  |
| CAT_02 | F4_RECO_05 | valuer tat nutritionnel + cause changement poids + courrier psychiatre | RDV MT bilan sant orienter psychiatre |  |
| CAT_02 | F4_RECO_07 | Prescription ostodensitomtrie + bilan osseux | RDV MT bilan osseux |  |
| CAT_02 | F4_RECO_10 | Vrification tat bucco-dentaire | MT bilan dnutrition |  |
| CAT_03 | F4_RECO_06 | Effectuer suivi annuel vue/audition | RDV ophtalmologue |  |
| CAT_03 | F4_RECO_08 | Faire bilan de mdication | MT bilan mdication |  |
| CAT_04 | F4_RECO_09 | Prescription sances psychologue | RDV MT prescription psychologue |  |

>  **F4_RECO_03** : Texte = "troubles du sommeil", action IDEC = "prescription psychologue". Incohrent : sommeil  psychologue (sauf si psychogne).
>  **F4_RECO_04** : Texte = "tat bucco-dentaire", action IDEC = "orienter psychiatre". Incohrence complte.
>  **F4_RECO_05** : Texte = "tat nutritionnel" puis "courrier psychiatre". Le lien nutritionpsychiatre est tnu sauf troubles alimentaires psychognes.
>  **F4_RECO_10** : Texte = "tat bucco-dentaire", action IDEC = "bilan dnutrition". Double incohrence (doublon F4_RECO_04 sur dentaire + action diffrente).

### Phase 2  Versioning par criticit

#### CAT_01  Gestion douleur/fatigue

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Faites valuer la douleur et la fatigue de votre proche par le mdecin | Contacter MT pour bilan douleur et rvaluation des traitements |

#### CAT_02  Sommeil, nutrition, tat somatique

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Faites un point complet sur le sommeil, l'alimentation et l'tat physique | Organiser bilans : nutrition, sommeil, ostoporose, dentaire |

#### CAT_03  Bilan sensoriel et mdication

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Faites vrifier la vue, l'audition et les mdicaments de votre proche | RDV ophtalmologue + ORL + bilan mdication par MT |

#### CAT_04  tat psychologique

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  CCC ( 30j) | Faites valuer l'tat moral de votre proche | RDV MT pour prescription sances psychologue |
|  Critique ( 72h) | Alerte : votre proche exprime des ides suicidaires  consultez en urgence | Orienter immdiatement vers les urgences ou le 3114 |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

| | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Prvention | Veillez au confort et au bien-tre quotidien de votre proche | Assurer le suivi rgulier des constantes de sant de base |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V4_PREV_07 | Suivre les indicateurs de confort | ORGA | Point trimestriel douleur/fatigue/sommeil | Observez si votre proche dort moins bien ou se plaint de douleurs |
| MT_V4_PREV_08 | Suivi annuel vue et audition | INFO | Rappeler RDV bilan sensoriel annuel | Pensez au bilan annuel vue et audition pour votre proche |
| MT_V4_PREV_09 | Surveiller l'alimentation | ORGA | Vrifier rgulirement les habitudes alimentaires | Notez les changements dans les repas de votre proche |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Dtail |
|---|---|---|---|
| 1 | Chaque question  1 rgle |  | **7 orphelines** : N44, O3, O5, O7, O15, O22, O26 |
| 2 | Chaque rgle  1 reco |  | 4 rgles  10 recos |
| 3 | Chaque CAT  ses MT |  | CAT_01: 4, CAT_02: 3, CAT_03: 4, CAT_04: 4 |
| 4 | K3 respect |  | **Aucune CAT n'a de Standard** |
| 5 | Aucune MT orpheline |  | Doublons + MT mal affectes |
| 6 | Reco prvention |  Propose |  valider |
| 7 | Wording correct |  | **4 incohrences majeures** (RECO_03, 04, 05, 10) |
| 8 | Sens clinique |  | 4/4 rgles OK |

> **Anomalies critiques** :
> -  **7 questions orphelines sur 12**  problme systmique majeur
> -  **K3 totalement non respect** : 0 rgle Standard sur 4 catgories
> -  **4 incohrences wording** : texte utilisateur  action IDEC
> -  **0 MT non-contributive** : pas de diagnostic/info, seulement des orientations mdicales
> -  **Doublons** : 3 paires + 1 MT mal affecte (chute)
> -  **Cross-activations critiques** non formalises (N25F3, N38/N39F5)

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories | 4 | 4 |
| Rgles | :0 :1 :3 | :_ :_ :_ |
| MT totales | 15 | ~10 (aprs fusions/retraits) |
| MT contributives | 15/15 | ~8 |
| Non-contributives | 0/15 | ~4 (ajouts) |
| Questions orphelines | 7/12 | /12 |
| Incohrences wording | 4 | /0 |
| Checks OK | 3/8 | /8 |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Crer niveaux Standard pour les 4 catgories |  |
| 2 | Crer rgles pour les 7 questions orphelines |  |
| 3 | Corriger les 4 incohrences wording |  |
| 4 | Ajouter MT ORGA/INFO (0 actuellement) |  |
| 5 | Fusionner doublons et retirer MT mal affectes |  |
| 6 | Formaliser les cross-activations critiques |  |
| 7 | Dplacer MT_V4_059 (chute) vers F6 |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,ib=`#  Fiche de Validation MP  F5  Dpendance, handicap et addictions

> **Vulnrabilit** : V4  Fragilit du Proche  
> **ASR** :  F5-A : Parcours de soin stabilis | F5-B : Droits et aides administratives en cours   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V4

V4 (Fragilit du Proche) couvre 6 MPs. F5 est le 5me :

| MP | Nom | Nb Q | Thme |
|---|---|---|---|
| F1 | Vie quotidienne, budget et entourage | 8 | Quotidien global, budget |
| F2 | Autonomie, aide humaine et prsence | 7 | Aide jour/nuit, mobilit |
| F3 | Mmoire, comportement et risques | 8 | Troubles cognitifs, comportements |
| F4 | Douleur, fatigue, sommeil et tat gnral | 12 | tat physique global |
| **F5** | **Dpendance, handicap et addictions** | **12** | **Hospitalisations, handicap, addictions, dpendance AGGIR** |
| F6 | Autonomie fonctionnelle, chutes et aides | 9 | Capacits motrices, aides techniques |

> F5 est le **MP mdico-administratif** de V4. Il couvre trois dimensions trs diffrentes :
> 1. **Hospitalisations rcentes** (E28-E31) : frquence, nature (programme/urgences), dure
> 2. **Handicap reconnu** (N16, N30) : origine et taux d'incapacit
> 3. **Addictions** (N37-N40) : type, contrle, impact sant, tentatives de sevrage
> 4. **Dpendance administrative** (O53, O54) : grille AGGIR, niveau GIR
>
> C'est un MP htrogne qui mlange du clinique pur (addictions) avec du mdico-administratif (AGGIR, handicap, hospitalisations). Cette htrognit est son point faible mais aussi sa richesse : il capte les situations de **poly-fragilit institutionnelle**.

>  **Particularit F5** : Beaucoup de questions conditionnelles (E29 conditionnel E28, E30/E31 conditionnel E29, N37-N40 conditionnel N3, O54 conditionnel O53). L'arbre de conditions est complexe.

>  **Cross-activation F5F4** : N38 et N39 sont mappes  F5 mais ont des rgles Critique dans F4 (V2_F4_CRIT_02 et V2_F4_CRIT_03). Les addictions impactent  la fois le comportement (F5) et l'tat somatique (F4).

>  **Bonne nouvelle** : F5 est le **premier MP de V4 avec K3 partiellement respect**  il a une rgle Standard (STD_01) ET une rgle CCC (CCC_01).

---

## QUESTIONS TRANSVERSALES

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : doublons avec F4 (addiction/sant) ou F6 (dpendance/autonomie) ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : parcours pluridisciplinaire (MT, addictologue, MDPH, services sociaux) couvert ? | Actions 1, 3 |
| T3 | **Actionnabilit** : les dmarches administratives (APA, MDPH) sont-elles  la porte de l'IDEC ? | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : 12 questions trs htrognes  combien de CAT ? | Actions 1, 2, 3 |

---

## 0. DONNES FIGES  Questions rattaches  F5

### Questions rattaches  ce MP

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E28 | Au cours des 3 derniers mois, combien de fois votre proche a-t-il t hospitalis ? | facteur |  Aucune /  1 fois /  2 fois /  3 fois /  4 fois ou plus /  Je ne sais pas |
| 2 | E29 | Parmi ces hospitalisations, combien taient programmes ? | facteur |  0 /  1 /  2 /  3 /  4+ /  Je ne sais pas _(conditionnel E28)_ |
| 3 | E30 | Parmi les non programmes, combien par les urgences ? | facteur |  0 /  1 /  2 /  3 /  4+ /  Je ne sais pas _(conditionnel E29)_ |
| 4 | E31 | Dure de la dernire hospitalisation ? | facteur |  <1 jour /  1-3 j /  4-7 j /  >7 j /  Je ne sais pas _(conditionnel E28)_ |
| 5 | N16 | Origine du handicap ? | facteur |  Naissance /  Maladie /  Accident _(conditionnel N3)_ |
| 6 | N30 | Taux d'incapacit reconnu ? | facteur |  <50% /  50-79% /  80% /  Je ne sais pas _(conditionnel N3)_ |
| 7 | N37 | Type d'addiction ? (choix multiples) | facteur |  Alcool /  Tabac /  Stupfiants /  Mdicaments /  Jeux d'argent /  Jeux vido /  Autre _(conditionnel N3)_ |
| 8 | N38 | Difficults  contrler la consommation/comportement addictif ? | etat |  Non /  Parfois /  Oui _(conditionnel N3)_ |
| 9 | N39 | Problmes de sant physique lis  l'addiction ? | etat |  Non /  Je ne sais pas /  Oui _(conditionnel N3)_ |
| 10 | N40 | Tentative de sevrage ou traitement addiction ? | facteur |  Non /  Je ne sais pas /  Oui _(conditionnel N3)_ |
| 11 | O53 | Dpendance value par les services sociaux (grille AGGIR) ? | facteur |  Oui /  Non /  Je ne sais pas |
| 12 | O54 | Niveau de dpendance AGGIR (GIR) ? | facteur |  1 /  2 /  3 /  4 /  5 /  6 /  Je ne sais pas _(conditionnel O53)_ |

> Total : **12 questions** (10 facteur, 2 etat)  
>  **Trs majoritairement facteur** (10/12)  F5 value des CIRCONSTANCES institutionnelles, pas des dgradations.

### Questions candidates exclues

| Question ID | Libell | Pertinente ? | Raisonnement |
|---|---|---|---|
| O15 | Consommation alcool/tabac |  Frontire | F4 traite O15 comme indicateur somatique. F5 traite N37 comme type d'addiction. O15 = consommation, N37 = addiction identifie. Distinction fine. |
| N25 | Ides suicidaires |  Non | F3 (comportement) / F4 (tat gnral)  pas F5 |
| O3 | Polymdication |  Non | F4 (mdication)  sauf si le handicap implique une polymdication, mais c'est un effet secondaire |

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

> Les 12 questions couvrent **3 domaines cliniques fondamentalement distincts** :
>
> 1. **Parcours hospitalier et prvention des r-hospitalisations** (E28-E31)  Comprendre la trajectoire mdicale rcente et prvenir les rechutes / passages aux urgences. Reco : lien faible avec F5_RECO_01 (addictions).
> 2. **Addictions et suivi addictologique** (N37-N40)  Identifier, valuer et orienter vers un addictologue/CSAPA. Reco F5_RECO_01.
> 3. **Dpendance administrative et droits sociaux** (O53, O54, N16, N30)  valuation AGGIR, orientation APA/MDPH/PCH. Reco F5_RECO_02.
>
> **Pourquoi 3 catgories ?** Les hospitalisations (trajectoire mdicale), les addictions (comportemental/mdical) et la dpendance administrative (droits sociaux) sont tellement distinctes qu'un professionnel diffrent intervient pour chacune. Fusionner serait cliniquement incohrent.
>
> **Pourquoi pas 4 ?** On pourrait sparer handicap (N16/N30) de la dpendance AGGIR (O53/O54). Mais les deux convergent vers les mmes droits (MDPH/APA) et les mmes acteurs (services sociaux, assistante sociale). La CAT "droits sociaux" les couvre ensemble.
>
> **Pourquoi pas 2 ?** On pourrait fusionner hospitalisations et addictions (trajectoire de soin). Mais les acteurs et les actions sont compltement diffrents : urgentiste/MT vs addictologue/CSAPA.

>  **Force de proposition** : CAT_01 (hospitalisations) n'a AUCUNE reco legacy. C'est une catgorie entire  crer. Les hospitalisations rcurrentes sont un signal fort de dstabilisation clinique  l'absence de reco est un angle mort majeur de l'hritage.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | F5_CAT_01 | Prvention des r-hospitalisations | Analyser la trajectoire hospitalire et prvenir les passages aux urgences |  Propos |
| 2 | F5_CAT_02 | Suivi addictologique | Identifier, valuer et orienter vers addictologue/CSAPA | Legacy  |
| 3 | F5_CAT_03 | Droits sociaux et valuation dpendance | Accompagner APA, MDPH, PCH, rvaluation AGGIR | Legacy  |

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

### Rgles legacy (2 existantes  K3  partiel)

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  STD | V2_F5_STD_01 | E28  2 | Activer CAT_01 + CAT_03 | 2 hospitalisations rcentes  parcours instable | Legacy  |
|  CCC | V2_F5_CCC_01 | E28  2 **ET** O53 = "Non" | Activer CAT_01 + CAT_03 | Instabilit mdicale + aucune valuation dpendance  urgence mdico-sociale | Legacy  |

>  **K3 partiellement respect** : CAT_01 et CAT_03 ont 2 niveaux (STD + CCC). C'est le premier MP de V4  avoir K3 OK sur au moins une catgorie.

### CAT_01  Prvention des r-hospitalisations

| Niveau | Rgle | Condition | Source |
|---|---|---|---|
|  STD | V2_F5_STD_01 | E28  2 | Legacy  |
|  CCC | V2_F5_CCC_01 (partiel) | E28  2 ET O53 = "Non" | Legacy  |

>  K3 OK pour CAT_01.
>  **Mais :** E29 (nb programmes), E30 (nb urgences), E31 (dure) ne sont utilises dans aucune rgle. Or un patient hospitalis 2+ fois aux URGENCES avec un sjour >7 jours est cliniquement trs diffrent de 2 hospitalisations programmes d'une journe.
>
>  **Propositions d'enrichissement** :
> - **Critique** : SI E28  3 ET E30  2  Critique | Sens : hospitalisations rptes non programmes via urgences = instabilit aigu
> - Moduler CCC : SI E28  2 ET E31 = ">7 jours"  CCC renforc | Sens : hospitalisation prolonge = dgradation significative

### CAT_02  Suivi addictologique

>  **Aucune rgle d'activation formalise dans la DB** pour les questions addiction (N37-N40). La F5_RECO_01 est rattache  V2_F5_STD_01 (hospitalisations 2), pas aux questions addiction.
>
> C'est un **angle mort critique** : un patient avec une addiction svre (N38 = "Oui") mais 0 hospitalisation ne dclenche RIEN.

>  **Propositions de rgles pour CAT_02** :
> - **STD** : SI N38 = "Parfois"  Standard | Sens : difficults de contrle mergentes
> - **CCC** : SI N38 = "Oui" OU N39 = "Oui"  CCC | Sens : perte de contrle ou dommages physiques
> - **Critique** : SI N38 = "Oui" ET N39 = "Oui"  Critique | Sens : addiction incontrle avec impact sant = urgence addictologique
>
>  **Cross-activation avec F4** : Les rgles V2_F4_CRIT_02 (N38="Oui") et V2_F4_CRIT_03 (N39="Oui") existent dj dans F4. Crer des rgles F5 propres ne serait pas un doublon car les actions sont diffrentes : F4 = bilan somatique, F5 = orientation addictologue/CSAPA.

### CAT_03  Droits sociaux et valuation dpendance

| Niveau | Rgle | Condition | Source |
|---|---|---|---|
|  STD | V2_F5_STD_01 (partiel) | E28  2 | Legacy  |
|  CCC | V2_F5_CCC_01 | E28  2 ET O53 = "Non" | Legacy  |

>  K3 OK pour CAT_03.
>  **Mais** : N16 (origine handicap), N30 (taux incapacit), O54 (GIR) ne sont dans aucune rgle. Or :
> - Un taux d'incapacit 80% (N30) est un signal fort de besoin d'accompagnement renforc.
> - Un GIR 1 ou 2 (O54) signifie une dpendance lourde ncessitant des aides massives.
> - L'absence d'valuation AGGIR (O53 = "Non") est dj en CCC mais seulement SI E28  2.

>  **Propositions d'enrichissement** :
> - **STD** : SI O53 = "Non" (sans condition E28)  Standard | Sens : proche non valu = droits potentiellement non exercs
> - **CCC** : SI N30 = "80%" OU O54  {"1","2"}  CCC | Sens : dpendance lourde ncessitant mobilisation maximale des aides
> - **STD** : SI N30 = "50-79%" OU O54  {"3","4"}  Standard | Sens : dpendance modre, vrifier adquation des aides

### Couverture des questions

> - E28 :  Via STD_01 et CCC_01
> - E29 :  **Orpheline** (programmes vs non programmes)
> - E30 :  **Orpheline** (passage urgences)
> - E31 :  **Orpheline** (dure)
> - N16 :  **Orpheline** (origine handicap  cadrage?)
> - N30 :  **Orpheline** (taux incapacit)
> - N37 :  **Orpheline** (type addiction  cadrage)
> - N38 :  **Orpheline**  devrait activer CAT_02
> - N39 :  **Orpheline**  devrait activer CAT_02
> - N40 :  **Orpheline** (tentative sevrage  cadrage)
> - O53 :  Via CCC_01 (mais uniquement si E28  2)
> - O54 :  **Orpheline** (GIR)
>
>  **10 questions orphelines sur 12**  pire score de V4. Seules E28 et O53 (en combo) ont des rgles.

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification | Priorit |
|---|---|---|---|
| 1 | Crer rgles CAT_02 : N38/N39 (STD + CCC + CRIT) | CAT entire sans rgle + 2 questions orphelines |  |
| 2 | Enrichir CAT_01 avec E30 (urgences) et E31 (dure) | Signaux cliniques importants non exploits |  |
| 3 | Enrichir CAT_03 avec N30 (taux), O54 (GIR), O53 seul | Questions de dpendance non exploites |  |
| 4 | Clarifier N16, N37, N40 comme questions de cadrage | Contextualisation sans action obligatoire |  |

> **Contrle K3** :  CAT_01 et CAT_03 OK (STD+CCC) /  CAT_02 sans aucune rgle  
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

### CAT_01  Prvention des r-hospitalisations

>  **0 MT legacy** pour CAT_01. Les rgles STD_01 et CCC_01 n'ont pas de MT ddies  la prvention hospitalire.

>  **Propositions de MT** :
> - MT ORGA : "tablir un historique des hospitalisations (motifs, dure, urgences vs programmes)"
> - MT INFO : "Informer l'aidant sur le protocole de retour  domicile post-hospitalisation"
> - MT SEC : "Organiser un RDV de liaison avec le service hospitalier pour prvenir la r-hospitalisation (HAD, SSR)"
> - MT MED : "Contacter le MT pour un bilan de sortie et un plan de suivi post-hospitalisation"

### CAT_02  Suivi addictologique

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_063 (ex MT_V2_011) | RDV avec un psychologue conventionn (recherche sur internet) | SEC | Psychologue |  | Legacy (RECO_01) |

> **1 seule MT legacy** pour toute la dimension addictions (4 questions N37-N40). Trs insuffisant.
>
>  La MT est "RDV psychologue" mais la reco dit "addictologue ou CSAPA". Incohrence acteur.

>  **Propositions de MT** :
> - Reformuler MT_V4_063  "Prendre RDV avec un addictologue ou un CSAPA du territoire"
> - MT ORGA : "valuer avec l'aidant le niveau de contrle et l'impact de l'addiction sur le quotidien"
> - MT MED : "Contacter MT pour lettre d'adressage addictologue  bilan addiction"
> - MT INFO : "Informer l'aidant des ressources addiction (CSAPA, lignes d'coute, groupes de parole)"
> - MT SEC : "Accompagner la mise en place du sevrage ou du traitement de substitution"

### CAT_03  Droits sociaux et valuation dpendance

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_064 (ex MT_V2_077) | Variable selon dpartement (demande papier ou numrique)  vrifier spcificits avant dmarches | INFO | IDEC |  | Legacy (RECO_02) |

> **1 seule MT legacy**  et elle est trs mal rdige (c'est plus un commentaire qu'une action).

>  **Propositions de MT** :
> - Reformuler MT_V4_064  "Initier la demande APA auprs du Conseil Dpartemental (vrifier format requis par dpartement)"
> - MT ORGA : "valuer si la grille AGGIR actuelle correspond au niveau de dpendance observ"
> - MT SEC : "Accompagner le dossier MDPH si handicap reconnu (N16/N30)"
> - MT INFO : "Informer l'aidant des droits ouverts par le GIR (APA, aides fiscales, services)"
> - MT SEC : "Demander une rvaluation GIR si dgradation constate depuis la dernire valuation"

###  Dcisions Action 3

| # | Proposition | Dcision |
|---|---|---|
| 1 | Crer 4 MT pour CAT_01 (inexistante) |  |
| 2 | Reformuler + toffer CAT_02 (15 MT) |  |
| 3 | Reformuler + toffer CAT_03 (15 MT) |  |

> **Condition ASR par catgorie** :
> - CAT_01 :  0   ASR **impossible**  besoin MT contributives (proposes)
> - CAT_02 :  1 (SEC)  ASR **fragile**  besoin enrichissement
> - CAT_03 :  0 (INFO seul = )   ASR **impossible**  besoin MT contributives

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

### Tableau consolid des MT de F5

| MT_ID | Libell | Type | Acteur | Domaine | / | Cat | Source |
|---|---|---|---|---|---|---|---|
| MT_V4_063 | RDV psychologue conventionn | SEC | Psychologue |  |  | CAT_02 | Legacy |
| MT_V4_064 | Dmarches APA (variable par dpartement) | INFO | IDEC |  |  | CAT_03 | Legacy |

> **Rsum** :
> - Total MT legacy : **2**  le plus bas de V4
> - 1 contributive (), 1 non-contributive ()
> - **CAT_01 entire sans MT**
>
>  **F5 est le MP le plus "vide" de V4** : 2 recos, 2 MT pour 12 questions. C'est le MP qui ncessite le plus de travail de cration.

###  Propositions acteurs supplmentaires

| Acteur propos | Justification |
|---|---|
| Addictologue / CSAPA | Acteur-cl pour N37-N40, absent du legacy |
| Assistante sociale | Pour CAT_03 (droits sociaux, MDPH, APA) |
| quipe hospitalire / HAD | Pour CAT_01 (liaison sortie hospitalisation) |

> **Dcision Dr. Monka** :  Valid |  Modifications

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base

| CAT | Reco ID | Reco Utilisateur | Reco IDEC | / |
|---|---|---|---|---|
| CAT_02 | F5_RECO_01 | Suivi comportement addictif + propre suivi si besoin | RDV MT pour prescription psychologue + lettre adressage addictologue |  |
| CAT_03 | F5_RECO_02 | Demander financement perte d'autonomie via APA | Variable selon dpartement |  |

>  **F5_RECO_01** : mlange deux actions (suivi du proche + propre suivi de l'aidant). Le suivi de l'aidant relve de V1-V3, pas V4.
>  **F5_RECO_02** : "Variable selon dpartement" n'est pas une action IDEC. C'est un commentaire.  reformuler.

### Phase 2  Versioning par criticit

#### CAT_01  Prvention des r-hospitalisations

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Votre proche a t hospitalis plusieurs fois rcemment  un suivi renforc est recommand | Organiser un bilan de sortie avec le MT et un plan de prvention r-hospitalisation |
|  CCC ( 30j) | Hospitalisations rptes sans valuation de la dpendance  agir rapidement | Contacter les services sociaux pour valuation AGGIR + organiser liaison hospitalire |

#### CAT_02  Suivi addictologique

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Un suivi de l'addiction est recommand pour votre proche | Contacter MT pour orientation addictologue |
|  CCC ( 30j) | L'addiction impacte la sant de votre proche  une prise en charge spcialise est ncessaire | Contacter MT + CSAPA pour prise en charge addictologique |
|  Critique ( 72h) | Addiction incontrle avec dommages physiques  consultation urgente | Orienter vers addictologue ou urgences + CSAPA en urgence |

#### CAT_03  Droits sociaux

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Vrifiez que la dpendance de votre proche a bien t value et les aides actives | Vrifier valuation AGGIR et droits APA/MDPH |
|  CCC ( 30j) | Votre proche n'a pas t valu par les services sociaux malgr une situation instable | Initier la demande APA + valuation AGGIR en urgence |

>  **Toutes les recos ci-dessus sont proposes** car le legacy est quasi vide pour F5.

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

| | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Prvention | Anticipez les besoins administratifs et de suivi mdical de votre proche | Vrifier priodiquement les droits ouverts et les besoins d'valuation |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V4_PREV_10 | Vrifier les droits sociaux ouverts | INFO | Contrler annuellement APA/MDPH/PCH | Vrifiez que votre proche bnficie bien de toutes les aides auxquelles il a droit |
| MT_V4_PREV_11 | Prparer un carnet de suivi hospitalier | ORGA | Documenter chaque hospitalisation | Tenez un carnet des hospitalisations (date, motif, dure) pour le suivi mdical |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Dtail |
|---|---|---|---|
| 1 | Chaque question  1 rgle |  | **10 orphelines sur 12** |
| 2 | Chaque rgle  1 reco |  | 2 rgles  2 recos |
| 3 | Chaque CAT  ses MT |  | CAT_01: 0 MT, CAT_02: 1 MT, CAT_03: 1 MT |
| 4 | K3 respect |  | CAT_01/03:  (STD+CCC), CAT_02:  (aucune) |
| 5 | Aucune MT orpheline |  | Pas de doublon (2 MT seulement) |
| 6 | Reco prvention |  Propose |  valider |
| 7 | Wording correct |  | 2 incohrences (RECO_01 + RECO_02) |
| 8 | Sens clinique |  | 2/2 rgles OK |

> **Anomalies critiques** :
> -  **10/12 questions orphelines**  pire de V4
> -  **CAT_01 entirement vide** (0 reco, 0 MT)
> -  **CAT_02 sans rgle** malgr 4 questions addiction
> -  **Seulement 2 MT** pour 12 questions
> -  **MP ncessitant le plus de cration** de tout V4

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories | 2 (propos 3) | 3 |
| Rgles | :1 :1 :0 | :_ :_ :_ |
| MT totales | 2 | ~14 (aprs crations) |
| Questions orphelines | 10/12 | /12 |
| Checks OK | 3/8 | /8 |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | Valider CAT_01 (r-hospitalisations)  entirement propose |  |
| 2 | Crer rgles CAT_02 pour addictions |  |
| 3 | Crer ~12 MT (tout est  construire) |  |
| 4 | Enrichir CAT_01 avec E29/E30/E31 |  |
| 5 | Enrichir CAT_03 avec N30/O54 |  |
| 6 | Confirmer N16/N37/N40 comme questions de cadrage |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,sb=`#  Fiche de Validation MP  F6  Autonomie fonctionnelle, chutes et aides techniques

> **Vulnrabilit** : V4  Fragilit du Proche  
> **ASR** :  F6-A : Environnement scuris et adapt | F6-B : Bilans fonctionnels  jour   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## CONTEXTE  Big Picture V4

V4 (Fragilit du Proche)  F6 est le dernier MP :

| MP | Nom | Nb Q | Thme |
|---|---|---|---|
| F1 | Vie quotidienne, budget et entourage | 8 | Quotidien global, budget |
| F2 | Autonomie, aide humaine et prsence | 7 | Aide jour/nuit, mobilit |
| F3 | Mmoire, comportement et risques | 8 | Troubles cognitifs, comportements |
| F4 | Douleur, fatigue, sommeil et tat gnral | 12 | tat physique global |
| F5 | Dpendance, handicap et addictions | 12 | Hospitalisations, handicap, addictions |
| **F6** | **Autonomie fonctionnelle, chutes et aides techniques** | **9** | **Capacits motrices, pathologies, aides matrielles, adaptation domicile, chutes** |

> F6 est le **MP d'action fonctionnelle et matrielle** de V4. L o F2 traite l'aide HUMAINE (combien d'heures, qui est prsent), F6 traite l'aide TECHNIQUE et les capacits physiques rsiduelles : le proche peut-il se lever ? Utiliser un tlphone ? A-t-il des aides matrielles ? A-t-il chut ? Quelles pathologies a-t-il ?
>
> C'est le MP le plus **orient spcialistes** de V4 : la reco F6_RECO_05 (pathologies) couvre potentiellement **14 spcialits mdicales** avec 11 MT de type "RDV spcialiste". C'est un cas unique dans tout V4.

>  **Particularit majeure F6** : **AUCUNE rgle d'activation dans la DB**. Les 7 recos ont \`activation_rule_id = null\` et \`niveau = null\`. C'est la situation la plus extrme de V4  le MP entier fonctionne sans logique d'activation.

>  **Frontire F6/F2** : F6 = capacits physiques et aides TECHNIQUES. F2 = aide HUMAINE organise. F6 = "de quoi a-t-il besoin ?". F2 = "de qui a-t-il besoin ?".

>  **Frontire F6/F4** : F6 = autonomie fonctionnelle RSIDUELLE (peut-il faire X ?). F4 = symptmes (a-t-il mal ? est-il fatigu ?). F6 est en aval de F4 : les symptmes de F4 causent la perte d'autonomie de F6.

---

## QUESTIONS TRANSVERSALES

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : doublons avec F2 (aide humaine/mobilit) ou F4 (chutes/sensoriel) ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : valuation griatrique fonctionnelle complte ? | Actions 1, 3 |
| T3 | **Actionnabilit** : orientation vers le bon spcialiste ? | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : 9 questions + 14 spcialits  combien de CAT ? | Actions 1, 2, 3 |
| T5 | **O16 (pathologies)** : question  choix multiples avec 16 sous-items  comment grer ? | Actions 2, 3 |

---

## 0. DONNES FIGES  Questions rattaches  F6

### Questions rattaches  ce MP

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E32 | Difficults  se lever d'un lit/fauteuil sans aide ? | etat |  Non /  Parfois /  Oui |
| 2 | E33 | Difficults  utiliser tlphone/appareils simples ? | etat |  Non /  Parfois /  Oui |
| 3 | N32 | Aides techniques en place ? (choix multiples) | facteur |  Aucune /  Mobilit /  Communication /  Soins personnels /  Sensorielles /  Amnagement domicile /  Technologiques /  Cognition |
| 4 | O11 | Est-elle incontinente ? | facteur |  Non /  Parfois /  Oui |
| 5 | O12 | Peut-elle se nourrir par elle-mme ? | facteur |  Oui /  Parfois /  Non |
| 6 | O16 | Pathologies (choix multiples  16 items) | facteur |  Neuro /  Psychiatriques /  Dermato /  Respi /  Gnito-urinaire /  Endocrinienne /  Cancer /  Mtabolique /  Cardio /  Musculo-squelettique /  Gastro /  Gntique /  Visuels /  Auditifs /  Aucun /  Je ne sais pas |
| 7 | O51 | Songez-vous  adapter son lieu de vie ? | facteur |  Oui /  Non |
| 8 | O6 | A-t-elle chut dans les 6 derniers mois ? | etat |  Non /  Oui sans gravit /  Oui avec complication, ou plusieurs fois |

> Total : **8 questions** (3 etat, 5 facteur)   Le contexte initial indiquait 9 questions. La 9me (O51) est partage avec F1. Vrifi : **8 questions uniques** dans F6.

>  **O16 est une question monstre** : 16 sous-items de pathologies diffrentes. C'est essentiellement une question qui en contient 16. La reco F6_RECO_05 a un \`legacy_count\` de 14, ce qui signifie 14 recos distinctes fusionnes. Chaque pathologie dclenche thoriquement un RDV spcialiste diffrent.

### Questions candidates exclues

| Question ID | Libell | Pertinente ? | Raisonnement |
|---|---|---|---|
| O8 | Aide humaine dplacement extrieur |  Non | F2  aide HUMAINE, pas aide TECHNIQUE |
| O9 | Aide humaine dplacement intrieur |  Non | F2  aide HUMAINE |
| O22 | Rsultats vue/audition |  Non | F4  bilan sensoriel (dj trait) |
| O26 | Diminution taille |  Non | F4  ostoporose |
| E25 | Confusion jour/nuit |  Non | F3  cognitif |

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Raisonnement

> Les 7 recos legacy couvrent **4 axes d'action cliniques** :
>
> 1. **Prvention et gestion des chutes** (E32, O6)  Scuriser les transferts, bilans kin/chute. Recos F6_RECO_01, F6_RECO_07.
> 2. **valuation et adaptation du domicile** (N32, O51)  Aides techniques, bilan ergo, adaptation lieu de vie. Recos F6_RECO_02, F6_RECO_06.
> 3. **Suivi spcialis des pathologies** (O16)  Orientation vers les spcialistes selon les pathologies dclares. Reco F6_RECO_05.
> 4. **Autonomie dans les actes quotidiens** (E33, O11, O12)  valuer les capacits restantes, adapter les aides (nutrition autonome, incontinence, utilisation appareils). Recos F6_RECO_03, F6_RECO_04.
>
> **Pourquoi 4 catgories ?** Parce que F6 est trs htrogne : les chutes, le domicile, les pathologies chroniques et l'autonomie quotidienne sont des axes distincts avec des acteurs diffrents (kin vs ergo vs spcialiste vs MT).
>
> **Pourquoi pas 3 ?** On pourrait fusionner chutes + domicile (scurisation physique). Mais les acteurs sont diffrents : la chute relve du kin/MT, l'adaptation domicile de l'ergothrapeute. Et les recos legacy les sparent.
>
> **Pourquoi pas 5 ?** On pourrait sparer O16 (pathologies) par type. Mais c'est irraliste : O16 est une seule question avec 16 sous-items. La catgoriser par spcialit crerait 14 sous-catgories. Mieux : 1 CAT "suivi spcialis" avec des MT adaptes  chaque pathologie coche.

>  **Force de proposition** : CAT_03 (pathologies) est un cas unique. O16 est essentiellement un **routeur de spcialistes** : selon la pathologie coche, l'IDEC prend RDV avec le spcialiste correspondant. Cette logique n'est pas une catgorie clinique classique  c'est un **mcanisme de dispatch**.  discuter si c'est mieux modlis comme une catgorie  part ou comme un ensemble de MTconditionnelles.

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | F6_CAT_01 | Prvention et gestion des chutes | Scuriser les transferts, bilans chute/kin, semelles orthopdiques | Legacy  |
| 2 | F6_CAT_02 | valuation et adaptation du domicile | Bilan ergo, aides techniques, adaptation lieu de vie | Legacy  |
| 3 | F6_CAT_03 | Suivi spcialis des pathologies | Orientation vers spcialistes selon pathologies dclares (O16) | Legacy  |
| 4 | F6_CAT_04 | Autonomie dans les actes quotidiens | Aides alimentation, incontinence, utilisation appareils, rvaluation APA | Legacy  |

> **Dcision Dr. Monka** :  Valid 4 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  AUCUNE RGLE LEGACY

> **F6 n'a AUCUNE rgle d'activation dans la DB.** Les 7 recos ont \`activation_rule_id = null\`. C'est le seul MP de V4 dans cette situation.
>
> Cela signifie que :
> - Soit les recos s'affichent toujours (pas de condition)
> - Soit elles ne s'affichent jamais (pas d'activation)
> - Soit l'activation est implicite (la rponse dclenche directement la reco)
>
> Dans tous les cas, **il faut crer des rgles de zro**.

### CAT_01  Prvention et gestion des chutes

>  **Propositions de rgles** :
>
> | Niveau | Condition SI | Sens clinique |
> |---|---|---|
> |  Standard | O6 = "Oui, mais sans gravit" OU E32 = "Parfois" | Risque de chute mergent |
> |  CCC | O6 = "Oui avec complication ou plusieurs fois" | Chutes rptes ou graves  bilan urgent |
> |  CCC | E32 = "Oui" ET O6  "Non" | Transferts impossibles + chutes  risque majeur |

### CAT_02  valuation et adaptation du domicile

>  **Propositions de rgles** :
>
> | Niveau | Condition SI | Sens clinique |
> |---|---|---|
> |  Standard | O51 = "Oui" | L'aidant envisage une adaptation  besoin d'accompagnement |
> |  Standard | N32 = "Aucune" ET (E32 = "Oui" OU O6  "Non") | Pas d'aides techniques malgr perte d'autonomie |
> |  CCC | N32 = "Aucune" ET E32 = "Oui" ET O6 = "Oui complication" | Pas d'aides + transferts impossibles + chutes graves |

### CAT_03  Suivi spcialis des pathologies

>  **Propositions de rgles** :
>
> | Niveau | Condition SI | Sens clinique |
> |---|---|---|
> |  Standard | O16  "Aucun" ET O16  "Je ne sais pas" | Au moins une pathologie dclare  suivi spcialis |
> |  CCC | O16 contient 3 pathologies diffrentes | Poly-pathologie  coordination de soins complexe |
>
>  **Particularit O16** : C'est une question  choix multiples avec 16 options. La valeur de O16 est un array. La logique de rgle doit grer des conditions sur des tableaux (contient, ne contient pas, cardinalit N).

### CAT_04  Autonomie dans les actes quotidiens

>  **Propositions de rgles** :
>
> | Niveau | Condition SI | Sens clinique |
> |---|---|---|
> |  Standard | O11 = "Parfois" OU O12 = "Parfois" OU E33 = "Parfois" | Autonomie dgrade partiellement |
> |  CCC | AU MOINS 2 parmi : O11 = "Oui", O12 = "Non", E33 = "Oui" | Autonomie svrement rduite (2 actes perdus) |
> |  Critique | O11 = "Oui" ET O12 = "Non" ET E33 = "Oui" | Autonomie totalement perdue  rvaluation urgente de la prise en charge |

### Couverture des questions

> - E32 :  (propos dans CAT_01 + CAT_02)
> - E33 :  (propos dans CAT_04)
> - N32 :  (propos dans CAT_02)
> - O6 :  (propos dans CAT_01)
> - O11 :  (propos dans CAT_04)
> - O12 :  (propos dans CAT_04)
> - O16 :  (propos dans CAT_03)
> - O51 :  (propos dans CAT_02)
>
>  **8/8 questions couvertes**  100% de couverture (toutes proposes, aucune legacy).

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification | Priorit |
|---|---|---|---|
| 1 | Crer toutes les rgles (aucune n'existe) | MP entier sans activation |  |
| 2 | K3 : chaque CAT a au moins STD + CCC | Conformit K3 systmatique |  |
| 3 | Grer le cas O16 (choix multiples  logique array) | Question unique dans le systme |  |
| 4 | Rgle Critique pour CAT_04 (autonomie totale perdue) | Signal clinique majeur de dcompensation |  |

> **Contrle K3** :  Impossible  valuer  0 rgle legacy  
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

### CAT_01  Prvention et gestion des chutes

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_065 (ex MT_V2_033) | valuer le risque de chute et la perte d'autonomie | ORGA | IDEC |  | Legacy (RECO_01) |
| MT_V4_066 (ex MT_V2_046) | valuer le risque de fugue ou de perte | ORGA | IDEC |  | Legacy (RECO_01) |
| MT_V4_067 (ex MT_V2_055) | Contacter MT pour bilan de chute et bilan kin | MED | MT |  | Legacy (RECO_07) |

> 3 MT  quilibre correct : 2 ORGA (valuation) + 1 MED (action).
>  MT_V4_066 (risque de fugue) : pertinente ici ? La fugue relve davantage de F3 (troubles cognitifs). Un patient qui fugue a un problme de dsorientation (E26, F3), pas de chute (F6).
>
>  **Propositions** :
> - Dplacer MT_V4_066 vers F3 (scurisation comportements)
> - Ajouter MT SEC : "Scuriser les transferts (barres d'appui, lit mdicalis, sige de douche)"

### CAT_02  valuation et adaptation du domicile

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_068 (ex MT_V2_066) | RDV MT pour prescription matriel mdical + bilan ergothrapeute | MED | MT |  | Legacy (RECO_02) |

> 1 seule MT  insuffisant pour une catgorie ergothrapie/adaptation.

>  **Propositions** :
> - MT SEC : "Contacter un ergothrapeute pour valuation du domicile"
> - MT ORGA : "Lister les aides techniques en place (N32) et identifier les manques"
> - MT INFO : "Informer l'aidant des aides financires pour adaptation domicile (crdit d'impt, APA, PCH)"

### CAT_03  Suivi spcialis des pathologies

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_069 (ex MT_V2_001) | RDV pneumologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_070 (ex MT_V2_002) | RDV ORL | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_071 (ex MT_V2_005) | RDV nphrologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_072 (ex MT_V2_007) | RDV cardiologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_073 (ex MT_V2_012) | RDV dermatologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_074 (ex MT_V2_015) | RDV diabtologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_075 (ex MT_V2_018) | RDV cancrologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_076 (ex MT_V2_019) | RDV neurologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_077 (ex MT_V2_021) | RDV rhumatologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_078 (ex MT_V2_023) | RDV endocrinologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_079 (ex MT_V2_026) | RDV urologue | SEC | IDEC |  | Legacy (RECO_05) |
| MT_V4_080 (ex MT_V2_029) | RDV gastro-entrologue | SEC | IDEC |  | Legacy (RECO_05) |

> **12 MT  toutes identiques** sauf le nom du spcialiste. Toutes SEC, toutes IDEC, toutes "Recherche sur internet".
>
>  **Design observation** : Ces 12 MT ne sont pas des MT classiques. C'est un **mcanisme de dispatch conditionnel** : si le patient a coch "Cancer" dans O16, la MT correspondante = "RDV cancrologue". La MT est dtermine par la rponse, pas par la rgle.
>
> C'est un cas unique dans le systme Monka. Deux options d'implmentation :
> 1. **12 MT distinctes** avec activation conditionnelle sur la valeur O16  lourd mais explicite
> 2. **1 MT paramtrique** : "Prendre RDV avec le spcialiste correspondant  la pathologie identifie"  plus lgant mais perd la granularit
>
>  **Recommandation** : Option 2 (1 MT paramtrique) + liste de mapping {pathologie  spcialiste} en annexe.
> - Avantage : simplifie la structure, vite 12 MT quasi identiques
> - Inconvnient : le moteur doit rsoudre le mapping  l'excution

>  **Spcialistes manquants vs O16** :
> Pathologies O16 sans MT : gntique (mucoviscidose, trisomie), visuels svres, auditifs svres.
> MT sans correspondance O16 directe : nphrologue (pas dans O16).

### CAT_04  Autonomie dans les actes quotidiens

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_081 (ex MT_V2_060) | Contacter MT pour lettre adressage urologue + prescription kin (rducation) | MED | MT |  | Legacy (RECO_03) |
| MT_V4_082 (ex MT_V2_071) | RDV nutritionniste pour bilan nutritionnel | MED | MT |  | Legacy (RECO_03) |
| MT_V4_083 (ex MT_V2_048) | Contacter MT pour rvaluation APA + lettre adressage bilan griatre complet | MED | MT |  | Legacy (RECO_04) |

> 3 MT  toutes MED (). Pas d'ORGA ni d'INFO.
>
>  **Observations** :
> - MT_V4_081 (urologue + kin)  pour incontinence (O11). Le lien est cliniquement correct.
> - MT_V4_082 (nutritionniste)  pour alimentation (O12). Correct.
> - MT_V4_083 (APA + griatre)  pour autonomie globale. Correct.
> - **Manque** : rien pour E33 (utilisation appareils). Ni ORGA (valuer la difficult), ni INFO (former).

>  **Propositions** :
> - Ajouter MT ORGA : "valuer les capacits restantes pour les gestes quotidiens (manger, tlphone, transferts)"
> - Ajouter MT INFO : "Former l'aidant aux aides  l'alimentation et aux gestes de scurit"

###  Dcisions Action 3

| # | Proposition | Dcision |
|---|---|---|
| 1 | Dplacer MT_V4_066 (fugue) vers F3 |  |
| 2 | Remplacer 12 MT spcialistes par 1 MT paramtrique + mapping |  |
| 3 | toffer CAT_02 (14 MT) |  |
| 4 | Ajouter MT pour E33 (appareils) dans CAT_04 |  |

> **Condition ASR par catgorie** :
> - CAT_01 :  1 (MED)  ASR **fragile**
> - CAT_02 :  1 (MED)  ASR **fragile**
> - CAT_03 :  12 (SEC)  ASR **possible** (mais design  revoir)
> - CAT_04 :  3 (MED3)  ASR **possible**

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

### Tableau consolid des MT de F6

| MT_ID | Libell | Type | Acteur | Domaine | / | Cat | Source |
|---|---|---|---|---|---|---|---|
| MT_V4_065 | valuer risque chute | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_066 | valuer risque fugue (  F3?) | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_067 | Bilan chute + kin | MED | MT |  |  | CAT_01 | Legacy |
| MT_V4_068 | Prescription matriel + ergo | MED | MT |  |  | CAT_02 | Legacy |
| MT_V4_069-080 | RDV spcialistes 12 | SEC | IDEC |  |  | CAT_03 | Legacy |
| MT_V4_081 | Urologue + kin rducation | MED | MT |  |  | CAT_04 | Legacy |
| MT_V4_082 | RDV nutritionniste | MED | MT |  |  | CAT_04 | Legacy |
| MT_V4_083 | Rvaluation APA + griatre | MED | MT |  |  | CAT_04 | Legacy |

> **Rsum** :
> - Total MT : 18 (dont 12 = dispatch spcialistes)
> - Contributives () : 16 / Non-contributives () : 2
> - Mix types : SEC (12), MED (5), ORGA (2), INFO (0), STRUC (0)
> -  **87% des MT sont des "prises de RDV"**  F6 est un MP d'orientation, pas de diagnostic

###  Propositions acteurs supplmentaires

| Acteur propos | Justification |
|---|---|
| Ergothrapeute | Acteur-cl pour CAT_02 (adaptation domicile), prsent dans RECO_02/06 mais pas dans les MT legacy |
| Kinsithrapeute | Cit dans RECO_01/07 mais absent des acteurs MT |
| Orthophoniste | Cit dans RECO_04 (troubles dglutition) mais absent des MT |

> **Dcision Dr. Monka** :  Valid |  Modifications

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base

| CAT | Reco ID | Reco Utilisateur | Reco IDEC | / |
|---|---|---|---|---|
| CAT_01 | F6_RECO_01 | Prvenir le risque de chute et scuriser les transferts | Identifier les situations  risque |  |
| CAT_01 | F6_RECO_07 | Bilan de chute + bilan kin (semelles si besoin) | Contacter MT pour bilan chute |  |
| CAT_02 | F6_RECO_02 | Prescription matriel mdical + bilan ergo | RDV MT pour prescriptions |  |
| CAT_02 | F6_RECO_06 | Bilan + aides techniques vie quotidienne | Contact ergo du territoire |  |
| CAT_03 | F6_RECO_05 | Suivi rgulier selon prconisations | Prendre RDV avec le spcialiste |  |
| CAT_04 | F6_RECO_03 | Bilan + plan nutritionnel | MT pour urologue + kin |  |
| CAT_04 | F6_RECO_04 | APA + rvaluation + courrier griatre/orthophoniste | MT pour rvaluation APA + griatre |  |

>  **F6_RECO_05** : "Un suivi rgulier est  prvoir" est trop gnrique. Ne dit pas quel suivi, quel spcialiste, quelle frquence.
>  **F6_RECO_03** : Texte = "bilan nutritionnel", action IDEC = "urologue + kin". Incohrence complte  texte et action ne correspondent pas.
>  **F6_RECO_04** : Texte mentionne orthophoniste (troubles dglutition) mais l'action IDEC ne le fait pas.

### Phase 2  Versioning par criticit

#### CAT_01  Prvention des chutes

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Un risque de chute a t identifi  un bilan prventif est recommand | valuer le risque et contacter MT pour bilan chute |
|  CCC ( 30j) | Votre proche a chut avec des complications  un bilan urgent est ncessaire | Organiser bilan chute complet + kin + scurisation transferts |

#### CAT_02  Adaptation du domicile

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | L'adaptation du lieu de vie de votre proche peut amliorer sa scurit | Contacter un ergothrapeute pour valuation domicile |
|  CCC ( 30j) | Le domicile n'est pas scuris malgr une perte d'autonomie avre | Prescription matriel mdical + bilan ergo en urgence |

#### CAT_03  Suivi spcialis

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Veillez  ce que votre proche suive rgulirement les spcialistes pour ses pathologies | Prendre RDV avec le(s) spcialiste(s) correspondant(s) |
|  CCC ( 30j) | Votre proche a de multiples pathologies  une coordination de soins est ncessaire | Organiser un parcours coordonn avec les spcialistes concerns |

#### CAT_04  Autonomie quotidienne

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Certaines capacits de votre proche se dgradent  un bilan fonctionnel est recommand | valuer les capacits restantes et adapter les aides |
|  CCC ( 30j) | Votre proche a perdu plusieurs capacits quotidiennes  rvaluation urgente | Rvaluation APA + bilan griatrique + orientation spcialise |
|  Critique ( 72h) | Votre proche ne peut plus manger, se dplacer ni utiliser d'appareils  rorganisation immdiate | Contact MT urgence pour valuation complte + alerte services sociaux |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

| | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Prvention | Anticipez les besoins d'adaptation du domicile et de suivi mdical | Maintenir  jour les RDV spcialistes et valuer priodiquement l'autonomie |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V4_PREV_12 | Surveillance de l'autonomie fonctionnelle | ORGA | Point trimestriel sur les capacits (transferts, alimentation, appareils) | Observez si votre proche a plus de mal  se lever, manger ou utiliser son tlphone |
| MT_V4_PREV_13 | Rappel suivi spcialistes | INFO | Vrifier annuellement que les RDV spcialistes sont  jour | Pensez  vrifier que votre proche a bien ses RDV de suivi mdical |
| MT_V4_PREV_14 | valuation environnement domicile | ORGA | Audit annuel scurit domicile (tapis, clairage, barres) | Vrifiez que le domicile de votre proche reste scuris (sol, luminosit, barres) |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Dtail |
|---|---|---|---|
| 1 | Chaque question  1 rgle |    | **0 rgle legacy**  toutes proposes |
| 2 | Chaque rgle  1 reco |  | 7 recos legacy (pas lies aux rgles) |
| 3 | Chaque CAT  ses MT |  | CAT_01: 3, CAT_02: 1, CAT_03: 12, CAT_04: 3 |
| 4 | K3 respect |    | 0 legacy, toutes rgles proposes |
| 5 | Aucune MT orpheline |  | MT_V4_066 (fugue) mal place |
| 6 | Reco prvention |  Propose |  valider |
| 7 | Wording correct |  | 1 incohrence majeure (RECO_03), 2 wordings vagues |
| 8 | Sens clinique |  | Pas de rgles legacy = pas de sens clinique  valuer |

> **Anomalies critiques** :
> -  **0 rgle d'activation**  MP entier sans logique de dclenchement
> -  **F6_RECO_03** : incohrence texte/action
> -  **12 MT de dispatch spcialistes**  architecture  repenser (MT paramtrique ?)
> -  **MT fugue** (MT_V4_066) mal affecte  F3
> -  **CAT_02 trop maigre** (1 MT pour adaptation domicile)

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories | 4 (propos) | 4 |
| Rgles | :0 :0 :0 | :_ :_ :_ |
| MT totales | 18 (dont 12 dispatch) | ~10-12 (si MT paramtrique) |
| Questions couvertes | 0/8 (legacy)  8/8 (propos) | /8 |
| Checks OK | 2/8 | /8 |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | **Crer TOUTES les rgles** (0 legacy) |  |
| 2 | Dcider : 12 MT spcialistes ou 1 MT paramtrique ? |  |
| 3 | Corriger incohrence F6_RECO_03 |  |
| 4 | toffer CAT_02 (domicile : 14 MT) |  |
| 5 | Dplacer MT_V4_066 (fugue) vers F3 |  |
| 6 | Ajouter acteurs ergo/kin/orthophoniste |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,ab=`#  Fiche de Validation MP  M1  Comprhension du diagnostic et de la maladie

> **Vulnrabilit** : V5  Parcours Mdical  
> **ASR** :  M1-A : Diagnostic clarifi et compris par l'aidant | M1-B : Parcours de soins lisible et stable   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## BIG PICTURE  V5 entire (6 MPs, ~35 questions)

| MP | Sous-bloc | Nb Q | Questions | Thmatique |
|---|---|---|---|---|
| **M1** | 6.1  Diagnostic | **7** | E34, E35, E36, E37, E38, N17, N41 | Comprhension maladie, errance diagnostique, transition enfant/adulte, ALD |
| M2 | 6.2  Accs soins | 9 | E39, E40, E41, O17, O18, O19, O20, O21, O24 | Proximit, difficults accs, ETP, spcialistes, bilans |
| M3 | 6.3  Urgences/hospit | 4 | E42, E43, E44, E46 | RDV imprvus, ruptures suivi, bilan synthse, suivi post-hospit |
| M4 | 6.4  Addictions/psy | 5 | E45, E46, E47, E48, E49, E50, E51 | Suivi addictologie, plan de crise, suivi psy, observance |
| M5 | 6.5  Coordination | 4 | E52, E53, E55, O59 | Rfrent coordonnateur, intervenants domicile |
| M6 | 6.6  Vision globale | 5 | E54, E56, E57, E58, E59, E60 | Organisation soins, inquitudes, plan de route, bilans spcialiss |

>  **Note** : E46 est mappe  la fois M3 ET M4 (cross-MP). Ces partages inter-MP sont normaux  les questions sont figes, seule l'activation diffre.

M1 est le **MP fondateur** de V5. Il pose la question de base : l'aidant comprend-il la maladie de son proche ? Le diagnostic est-il clair ? Y a-t-il eu errance mdicale ? C'est le socle sur lequel reposent tous les autres MPs de V5  si le diagnostic n'est pas clair, aucune coordination (M5), aucun suivi (M3), aucun accs aux soins (M2) ne peut fonctionner correctement.

>  **Particularit M1** : Premier MP de V5  tre **K3-conforme** (STD + CCC sur au moins CAT_01). C'est aussi le seul MP de V5  contenir N17 (type de handicap) et N41 (ALD), deux questions **conditionnelles** importantes.

>  **Frontire M1/M2** : M1 = "comprend-on la maladie ?" (diagnostic). M2 = "accde-t-on aux soins ?" (logistique). E34/E35 = comprhension  M1. E39/E40 = accs  M2. Pas de chevauchement.

>  **Frontire M1/M6** : M1 = diagnostic initial clarifi. M6 = vision globale du parcours. E57 (plan de route) et E58 (bilans spcialiss) sont en M6 car ils portent sur le suivi  long terme, pas sur la comprhension initiale.

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

> Ces questions traversent toutes les actions. Y revenir rgulirement.

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : est-ce que les MT/recos de ce MP risquent de doublonner avec un autre MP de la mme vulnrabilit ? Ou d'une autre vulnrabilit ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : est-ce qu'on couvre le minimum vital pour un patient dans cette situation ? Un professionnel pourrait-il dire "il manque quelque chose" ? | Actions 1, 3 |
| T3 | **Actionnabilit** : est-ce que chaque lment produit (reco, MT, wording) est concrtement excutable par l'acteur dsign ? Pas de formulation floue. | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : est-ce que le nombre d'lments (catgories, rgles, MT) est proportionnel  la complexit clinique du MP ? Ni trop, ni pas assez. | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : pour chaque MT, l'aidant pourrait-il la raliser seul ? Si oui, l'acteur devrait peut-tre tre \`Aidant (autonome)\`. | Actions 3, 4 |
| T6 | **Chane d'action** : dans chaque catgorie, les MT forment-elles une squence logique (diagnostiquer  informer  structurer  scuriser) ? | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  M1

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E34 | Comprenez-vous bien la maladie, l'tat de sant et les besoins mdicaux de votre proche ? | tat | Oui  Partiellement  Pas du tout |
| 2 | E35 | Avez-vous l'impression que le diagnostic de votre proche est clair et bien tabli aujourd'hui ? | tat | Oui, le diagnostic est clair  On m'a voqu plusieurs hypothses, mais rien de vraiment tranch  Non, personne ne nous a vraiment donn de diagnostic  Je ne sais pas |
| 3 | E36 | Depuis le dbut des problmes de sant de votre proche, avez-vous le sentiment d'avoir consult beaucoup de professionnels ou fait beaucoup d'examens sans que la situation soit vraiment clarifie ? | tat | Non, pas particulirement  Oui, un peu  Oui, beaucoup (impression de tourner en rond) |
| 4 | E37 | Avez-vous dj reu des avis mdicaux contradictoires sur la situation de votre proche (diagnostic ou traitement) ? | tat | Non  Oui, parfois  Oui, souvent |
| 5 | E38 | Si votre proche est pass ou va passer de services 'enfant'  des services 'adulte' (pdopsychiatrie  psychiatrie adulte, pdiatrie  mdecine adulte), ce passage a-t-il t prpar et organis ? | Facteur | Oui, bien prpar  Un peu, mais cela reste flou  Non, pas du tout  Pas concern |
| 6 | N17 | Quel est son type de handicap ? (plusieurs rponses possibles) | Facteur | Handicap cognitif  Handicap psychique  Handicap visuel  Handicap auditif  Handicap intellectuel  Handicap moteur  Traumatisme cranien  Autisme ou autres TED  Troubles majeurs du comportement  Maladie invalidante |
| 7 | N41 | Bnficie-t-elle d'une reconnaissance officielle d'une maladie chronique (ALD) auprs de l'Assurance Maladie ? | Facteur | Oui  Non  Je ne sais pas |

> Total : **7 questions** rattaches  M1

>  **E38 est conditionnelle** : N3 rponse 2,3,4,5 ET O1 rponse 1 (= proche est un enfant). Ne s'affiche pas pour tous les aidants.
>  **N17 est conditionnelle** : N3 rponse 2 (= handicap). 
>  **N41 est universelle** : pas de condition, s'affiche pour tous.

### Questions candidates exclues

> Pour CHAQUE question de V5 non rattache  M1 : analyse de pertinence.

| Question ID | Libell | Pertinente pour M1 ? | Raisonnement |
|---|---|---|---|
| E39 | Premier professionnel de sant  moins de 15 min ? |  Non | Accs gographique  M2 |
| E40 | Difficults pour accder aux soins ? |  Non | Logistique accs  M2 |
| E41 | Programme ETP dj ralis ? |  Non | ducation thrapeutique  M2, pas comprhension diagnostic |
| O17 | A-t-elle un mdecin traitant ? |  Non | Structure de suivi  M2 |
| O18/O19 | Spcialistes qui la suivent ? Lesquels ? |  Non | Cartographie intervenants  M2 |
| O20/O21 | RDV mdicaux raliss cette anne ? Lesquels ? |  Non | Historique de suivi  M2 |
| O24 | Difficults  prendre RDV spcialistes ? |  Non | Accs logistique  M2 |
| E42 | RDV non prvus ce mois-ci ? |  Non | Urgences  M3 |
| E43 | Priodes sans suivi mdical ? |  Non | Ruptures  M3 |
| E44 | Bilan de synthse dj ralis ? |  Potentiel | Un bilan de synthse CLARIFIE le diagnostic. Mais cliniquement, c'est un acte de coordination (M3), pas de comprhension initiale. **Garder en M3.** |
| E46 | Suivi post-hospitalisation organis ? |  Non | Coordination post-hospit  M3/M4 |
| E45 | Suivi addictologie ? |  Non | Addictions  M4 |
| E47 | Plan clair en cas de dgradation ? |  Non | Gestion de crise  M4 |
| E48-E51 | Suivi psy/addictions/observance |  Non | Suivi spcialis  M4 |
| E52/E53/E55 | Coordinateur identifi ? Rfrent ? |  Non | Coordination  M5 |
| O59 | Professionnels au domicile ? |  Non | Intervenants domicile  M5 |
| E54/E56/E57/E58/E59/E60 | Organisation soins, inquitudes, bilans |  Non | Vision globale  M6 |

>  **Seule E44** a un potentiel M1, mais le bilan de synthse est un ACTE (coordination), pas une comprhension. Dcision : rester en M3.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

> **Objectif** : Identifier les types d'actions DIFFRENTES que ce MP peut proposer.  
> **Mthode** : Ignorer la criticit. Se demander : "Quelles grandes actions cliniques distinctes pour ce MP ?"  
> **Source** : Jugement clinique + recos legacy existantes

###  Questions  se poser  Action 1

| # | Question | Rponse |
|---|---|---|
| 1.1 | Les catgories couvrent-elles des dimensions cliniques **rellement distinctes** ? |  Oui  comprhension maladie, clarification parcours, transition enfant/adulte = 3 axes distincts |
| 1.2 | Y a-t-il une action clinique vidente que **aucune catgorie** ne couvre ? |  La question ALD (N41) n'a pas de catgorie ddie. Proposition : l'intgrer dans CAT_01 comme action administrative lie au diagnostic. |
| 1.3 | Faut-il **fusionner** deux catgories proches ? | Non. La transition enfant/adulte (CAT_03) est spcifique aux jeunes, pas fusionnable avec la comprhension gnrale. |
| 1.4 | Faut-il **clater** une catgorie trop large en deux ? | Non. Le nombre est proportionnel. |
| 1.5 | Combien de catgories est raisonnable pour ce MP ? | 3 catgories pour 7 questions = proportionnel (T4 OK) |

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | M1_CAT_01 | Comprhension du diagnostic | Clarifier la maladie, ses implications, et la reconnaissance ALD |  IA (regroupement E34, E35, N41) |
| 2 | M1_CAT_02 | Errance diagnostique et cohrence mdicale | Lutter contre l'errance (trop d'examens, avis contradictoires) | Legacy  (E36, E37 utilises dans les rgles) |
| 3 | M1_CAT_03 | Transition enfant-adulte | Scuriser le passage entre services pdiatriques et adultes | Legacy  (E38, N17 contextuels) |

###  Raisonnement

> **Pourquoi 3 catgories et pas 2 ?** CAT_03 (transition) est conditionnelle (ne concerne que les proches jeunes via E38). Si on la fusionne avec CAT_01, on perd la spcificit de la cible. De plus, les MTs legacy pour E38 sont distinctes (coordination entre services).
>
> **Pourquoi pas 4 ?** N41 (ALD) n'est pas assez riche pour une catgorie ddie (1 seule question, 1 seule MT). L'intgrer dans CAT_01 comme action complmentaire  la comprhension du diagnostic est cliniquement pertinent : l'ALD est une consquence administrative de la clarification du diagnostic.
>
> **N17 (type de handicap)** est une question de contexte pur  elle ne gnre pas d'action spcifique en M1, mais enrichit le profil du proche. Elle est utilise implicitement dans CAT_01 et CAT_03 pour adapter les recos.

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

> **Objectif** : Pour chaque catgorie, quelles Q/A la dclenchent et  quel niveau ?  
> **Rgle K3** : S'applique  L'INTRIEUR de chaque catgorie (pas entre catgories)  
> **Format obligatoire** : Afficher la question en texte complet avec toutes ses options. Mettre en **gras** la rponse dclenchante.

###  Questions  se poser  Action 2

| # | Question | Rponse |
|---|---|---|
| 2.1 | Chaque question du MP  1 rgle ? |  Non  E34, E35, N17, N41 sont orphelines (4/7). Seulement E36, E37, E38 sont dans des rgles. |
| 2.2 | Chaque combo cliniquement significatif a une rgle ? |  Non  E34 = "Pas du tout" (ne comprend RIEN) n'a aucune rgle. C'est critique. |
| 2.3 | Niveaux cliniquement justifis ? |  STD = signal isol, CCC = cumul de signaux  logique |
| 2.4 | Combos multi-questions pour niveau suprieur ? |  CCC_01 = E36 + E37, CCC_02 = E38 + E36 |
| 2.5 | Rponses extrmes non exploites ? |  E34 "Pas du tout" + E35 "Non, personne ne nous a donn de diagnostic" = combo extrme sans rgle |
| 2.6 | 2 niveaux par catgorie ? |  CAT_02 (STD + CCC).  CAT_01 et CAT_03 = 0 niveau legacy |
| 2.7 | Une rgle active plusieurs catgories ? | Non |

### Catgorie 1  Comprhension du diagnostic

>  **0 rgle legacy** sur cette catgorie.  
> E34 et E35 ne sont dans AUCUNE rgle d'activation. N41 non plus.  
> **C'est un angle mort majeur** : l'aidant peut ne RIEN comprendre  la maladie et le moteur ne ragit pas.

**Rgles PROPOSES :**

> **E34** :  Comprenez-vous bien la maladie, l'tat de sant et les besoins mdicaux de votre proche ? 
> Options :  Oui /  **Partiellement** /  **Pas du tout**

> **E35** :  Avez-vous l'impression que le diagnostic de votre proche est clair et bien tabli aujourd'hui ? 
> Options :  Oui, le diagnostic est clair /  **On m'a voqu plusieurs hypothses, mais rien de vraiment tranch** /  **Non, personne ne nous a vraiment donn de diagnostic** /  **Je ne sais pas**

> **N41** :  Bnficie-t-elle d'une reconnaissance officielle d'une maladie chronique (ALD) ? 
> Options :  Oui /  **Non** /  **Je ne sais pas**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M1_STD_P01 | E34 = "Partiellement" | Activer CAT_01 | Comprhension partielle  besoin d'information complmentaire |  Propos |
|  Standard | V4_M1_STD_P02 | N41  {"Non", "Je ne sais pas"} | Activer CAT_01 | Pas d'ALD  vrifier ligibilit (impact financier majeur) |  Propos |
|  CCC | V4_M1_CCC_P01 | E34 = "Pas du tout" **OU** E35  {"Non, personne ne nous a donn de diagnostic", "Je ne sais pas"} | Activer CAT_01 | Incomprhension totale ou diagnostic inexistant  intervention prioritaire |  Propos |
|  Critique | V4_M1_CRIT_P01 | E34 = "Pas du tout" **ET** E35 = "Non, personne ne nous a donn de diagnostic" | Activer CAT_01 | Aucune comprhension ET aucun diagnostic  situation d'errance totale, risque de dcompensation par manque d'accompagnement |  Propos |

> **K3 CAT_01** :  4 niveaux proposs (STD + CCC + CRIT)  K3 conforme si valid.

### Catgorie 2  Errance diagnostique et cohrence mdicale

> **E36** :  Depuis le dbut des problmes de sant de votre proche, avez-vous le sentiment d'avoir consult beaucoup de professionnels ou fait beaucoup d'examens sans que la situation soit vraiment clarifie ? 
> Options :  Non, pas particulirement /  **Oui, un peu** /  **Oui, beaucoup (impression de tourner en rond)**

> **E37** :  Avez-vous dj reu des avis mdicaux contradictoires sur la situation de votre proche (diagnostic ou traitement) ? 
> Options :  Non /  Oui, parfois /  **Oui, souvent**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M1_STD_01 | E36 = "Oui, beaucoup" | Activer CAT_02 | Examens nombreux sans clarification  errance diagnostique | Legacy  |
|  Standard | V4_M1_STD_02 | E37 = "Oui, souvent" | Activer CAT_02 | Avis mdicaux contradictoires frquents | Legacy  |
|  CCC | V4_M1_CCC_01 | E36 = "Oui, beaucoup" **ET** E37 = "Oui, souvent" | Activer CAT_02 | Parcours sans diagnostic stabilis + perte de repres (double signal) | Legacy  |

> **K3 CAT_02** :  2 niveaux (STD + CCC)  K3 conforme.

>  **Proposition** : Ajouter une rgle CCC ou Critique pour E36 = "Oui, beaucoup" **ET** E34 = "Pas du tout" (errance + incomprhension totale = croiser M1_CAT_01 et M1_CAT_02). Cela activerait CAT_01 + CAT_02 simultanment.

### Catgorie 3  Transition enfant-adulte

> **E38** :  Si votre proche est pass ou va passer de services 'enfant'  des services 'adulte' (pdopsychiatrie  psychiatrie adulte, pdiatrie  mdecine adulte), ce passage a-t-il t prpar et organis ? 
> Options :  Oui, bien prpar /  **Un peu, mais cela reste flou** /  **Non, pas du tout** /  Pas concern

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V4_M1_CCC_02 | E38 = "Non, pas du tout" **ET** E36  {"Oui, un peu", "Oui, beaucoup"} | Activer CAT_03 | Passage enfant/adulte mal prpar + errance mdicale | Legacy  |

>  **K3 CAT_03** :  1 seul niveau (CCC). Pas de Standard.

>  **Proposition K3 CAT_03** :
> |  Standard | V4_M1_STD_P03 | E38 = "Un peu, mais cela reste flou" | Activer CAT_03 | Transition engage mais mal structure  besoin d'accompagnement |  Propos |

###  Raisonnement

> **Legacy** : 4 rgles (2 STD + 2 CCC) sur 2 questions seulement (E36, E37). Bonne qualit sur CAT_02 (errance), mais angle mort total sur CAT_01 (comprhension) et quasi-vide sur CAT_03 (transition).
>
> **Propositions** : 5 nouvelles rgles pour combler les lacunes :
> - CAT_01 : 4 rgles proposes (STD 2, CCC 1, CRIT 1)  couvre E34, E35, N41
> - CAT_03 : 1 rgle Standard propose  couvre E38 isol (cas flou sans errance)
>
> **Si DR. Monka valide** : M1 passe de 4 rgles  9, de 2 questions actives  5 actives, et K3 passe de 1/3 conforme  3/3 conforme.

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification |
|---|---|---|
| 1 | Crer STD_P01 (E34 = Partiellement) | Comprhension partielle ncessite un complment d'info  signal faible mais actionnable |
| 2 | Crer STD_P02 (N41  Non/NSP) | Pas d'ALD = charge financire potentielle, vrification ligibilit ncessaire |
| 3 | Crer CCC_P01 (E34 = Pas du tout OU E35 = Non/NSP) | Incomprhension totale ou absence de diagnostic  intervention IDEC ncessaire |
| 4 | Crer CRIT_P01 (E34 = Pas du tout ET E35 = Non) | Double signal extrme : aucun diagnostic + aucune comprhension = errance totale |
| 5 | Crer STD_P03 (E38 = Flou) | Transition flou sans errance mdicale = Standard, pas CCC |

> **Contrle K3** :  Vrifi  CAT_01  (STD+CCC+CRIT), CAT_02  (STD+CCC), CAT_03  si STD_P03 valid  
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

> **Objectif** : Quelles MT concrtes pour chaque catgorie ?  
> **Principe** : Les MT sont rattaches  la catgorie, PAS au niveau de criticit. Le niveau change le wording, pas les tches.

###  Questions  se poser  Action 3

| # | Question | Rponse |
|---|---|---|
| 3.1 | Chane complte ? |  ORGA  INFO  SEC  MED couvert dans les MT legacy |
| 3.2 | MT d'autres CAT/MP  rcuprer ? | Non, les MT de M2 sont distinctes (accs vs comprhension) |
| 3.3 | MT mal affectes ? |  MT_V4_050 ("Noter que la situation n'est pas concerne" pour E38 = "Pas concern")  pas une vraie MT, c'est un flag.  convertir en logique moteur. |
| 3.4 | Pourquoi pas 1 de plus ? | Voir analyse par CAT |
| 3.5 | Pourquoi pas 1 de moins ? | Voir analyse par CAT |
| 3.6 | 1 MT contributive par CAT ? |  CAT_02 : SEC + MED.  CAT_01 :  vrifier (recos sans MT spcifiques).  CAT_03 : SEC + STRUC |
| 3.7 | Mix quilibr ? |  Beaucoup d'ORGA, peu de MED directs |

### CAT_01  Comprhension du diagnostic

>  **Aucune MT legacy explicitement rattache  CAT_01** (car aucune reco legacy n'est sur E34/E35). Les MT de M1_RECO_01 et M1_RECO_02 traitent de la comprhension mais sont rattaches aux recos lies  V4_M1_STD_02 (E37).

**MT existantes raffectes  CAT_01 :**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_023 | Identifier les points incompris ou sources de doute | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_074 | Proposer un temps d'change ddi | SEC | IDEC |  | Legacy  |
| MT_V4_003 | Identifier les zones d'incertitude exprimes par l'aidant | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_034 | Valoriser la comprhension de l'aidant | ORGA | IDEC |  | Legacy  |
| MT_V4_064 | Proposer un temps d'change pour faire le point | SEC | IDEC |  | Legacy  |
| MT_V4_124 | Proposer une consultation mdicale explicative | MED | Professionnel de sant |  | Legacy  |
| MT_V4_131 | Contacter le mdecin traitant pour dossier ALD (100%) | MED | Mdecin traitant |  | Legacy  |

####  Pourquoi 7 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- MT_V4_131 (ALD) : si on l'enlve, on perd le levier financier. L'ALD = prise en charge 100% des soins. Impact concret majeur.
- MT_V4_124 (consultation explicative) : si on l'enlve, on reste dans l'change IDEC. Or, seul un mdecin peut VRAIMENT expliquer le diagnostic.

**Pourquoi pas 1 de plus ?**
-  **MT propose** : "Fournir un document explicatif vulgaris sur la pathologie" (type INFO). Actuellement, on change et on propose des RDV, mais on ne donne pas de support crit. Un document adapt au profil N17 serait un vrai plus.

### CAT_02  Errance diagnostique et cohrence mdicale

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_028 | Confirmer que le parcours de soins est peru comme clair | ORGA | IDEC |  | Legacy  |
| MT_V4_051 | Identifier les zones d'incomprhension du parcours mdical | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_009 | Identifier les points de divergence perus par l'aidant | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_032 | Confirmer la bonne comprhension du diagnostic par l'aidant | ORGA | IDEC |  | Legacy  |
| MT_V4_045 | Confirmer l'absence de contradiction perue | ORGA | IDEC |  | Legacy  |

####  Pourquoi 5 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- MT_V4_009 et MT_V4_051 semblent proches (identifier divergences / identifier incomprhensions). Mais cliniquement : divergence = "les mdecins ne sont pas d'accord", incomprhension = "je ne comprends pas ce qu'ils disent". Ce sont deux diagnostics diffrents.

**Pourquoi pas 1 de plus ?**
-  **Aucune MT contributive** dans CAT_02 ! 5 MT dont 5 sont ORGA (). Pas de SEC, pas de MED.
-  **Proposition** : Ajouter une MT SEC "Organiser une runion de coordination entre les professionnels ayant mis des avis divergents" (acteur IDEC). + une MT MED "Demander un second avis mdical auprs d'un centre de rfrence" (acteur Mdecin spcialiste).

>  **CAT_02 n'a 0 MT contributive ()  ASR impossible en l'tat.** C'est un problme majeur. Les 5 MT ORGA ne font que "diagnostiquer" le problme sans le rsoudre.

### CAT_03  Transition enfant-adulte

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_050 | Noter que la situation n'est pas concerne | ORGA | IDEC |  | Legacy  |
| MT_V4_054 | Proposer une coordination entre les services | SEC | IDEC |  | Legacy  |
| MT_V4_135 | Identifier les zones d'incertitude de la transition | STRUC | IDEC |  | Legacy  |

####  Pourquoi 3 MT  ni plus, ni moins ?

**Pourquoi pas 1 de moins ?**
- MT_V4_050 ("noter pas concern") n'est pas une vraie MT. C'est un flag moteur. **Proposition : la retirer et la traiter comme logique moteur (E38 = "Pas concern"  ne pas activer CAT_03).**

**Pourquoi pas 1 de plus ?**
-  **MT propose** : "Identifier les rfrents enfants et adultes pour assurer le relais" (type STRUC, acteur IDEC). La transition ncessite d'identifier QUI passe le relais  QUI.

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | Retirer MT_V4_050 (flag moteur, pas une MT) |  Propos |  |
| 2 | Ajouter MT INFO "Document explicatif vulgaris" dans CAT_01 |  Propos | MT_V5_M1_P01 |
| 3 | Ajouter MT SEC "Runion coordination professionnels" dans CAT_02 |  Propos | MT_V5_M1_P02 |
| 4 | Ajouter MT MED "Second avis mdical centre de rfrence" dans CAT_02 |  Propos | MT_V5_M1_P03 |
| 5 | Ajouter MT STRUC "Identifier rfrents enfants/adultes" dans CAT_03 |  Propos | MT_V5_M1_P04 |

> **Condition ASR par catgorie** :
> - CAT_01 :  3 (SEC 2, MED 2)  ASR complte 
> - CAT_02 :  0 legacy  **ASR impossible**  ( 2 si propositions valides)
> - CAT_03 :  2 (SEC + STRUC)  ASR complte 

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

> **Objectif** : Complter chaque MT avec ses mtadonnes

###  Questions  se poser  Action 4

| # | Question | Rponse |
|---|---|---|
| 4.1 | MED prsent ? |  2 MT MED (consultation explicative + ALD) |
| 4.2 | Acteurs corrects ? |  MT_V4_023 et MT_V4_003 : acteur "Aidant (autonome)" OK car c'est de l'auto-observation |
| 4.3 | MT aidant autonome ? |  3 MT dj en Aidant autonome |
| 4.4 | Domaines corrects ? |  MT_V4_028/032/045 sont en mdico-social mais traitent de comprhension mdicale  limite |
| 4.5 | Nouvel acteur ? | Non ncessaire |
| 4.6 | Attributs manquants ? |  MT_V4_131 (ALD) : dlai = "ds que possible", prrequis = "diagnostic confirm" |
| 4.7 | Ordre logique ? | CAT_01 : ORGA (identifier)  SEC (planifier change)  MED (consultation + ALD)  |

### Tableau consolid des MT de M1

| MT_ID | Libell | Type | Acteur | Domaine | / | Catgorie | Source |
|---|---|---|---|---|---|---|---|
| MT_V4_023 | Identifier les points incompris ou sources de doute | ORGA | Aidant (autonome) |  |  | CAT_01 | Legacy |
| MT_V4_074 | Proposer un temps d'change ddi | SEC | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_003 | Identifier les zones d'incertitude exprimes par l'aidant | ORGA | Aidant (autonome) |  |  | CAT_01 | Legacy |
| MT_V4_034 | Valoriser la comprhension de l'aidant | ORGA | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_064 | Proposer un temps d'change pour faire le point | SEC | IDEC |  |  | CAT_01 | Legacy |
| MT_V4_124 | Proposer une consultation mdicale explicative | MED | Professionnel de sant |  |  | CAT_01 | Legacy |
| MT_V4_131 | Contacter le mdecin traitant pour dossier ALD (100%) | MED | Mdecin traitant |  |  | CAT_01 | Legacy |
| MT_V4_028 | Confirmer que le parcours de soins est peru comme clair | ORGA | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_051 | Identifier les zones d'incomprhension du parcours mdical | ORGA | Aidant (autonome) |  |  | CAT_02 | Legacy |
| MT_V4_009 | Identifier les points de divergence perus par l'aidant | ORGA | Aidant (autonome) |  |  | CAT_02 | Legacy |
| MT_V4_032 | Confirmer la bonne comprhension du diagnostic par l'aidant | ORGA | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_045 | Confirmer l'absence de contradiction perue | ORGA | IDEC |  |  | CAT_02 | Legacy |
| MT_V4_054 | Proposer une coordination entre les services | SEC | IDEC |  |  | CAT_03 | Legacy |
| MT_V4_135 | Identifier les zones d'incertitude de la transition | STRUC | IDEC |  |  | CAT_03 | Legacy |

> **Rsum** :  
> - Total MT : 14 (hors MT_V4_050 retire)
> - Domaine  Mdical : 2 / Domaine  Mdico-social : 12
> - Contributives () : 6  SEC: 3, MED: 2, STRUC: 1  
> - Non-contributives () : 8  ORGA: 8

###  Propositions d'amlioration  Types, acteurs et domaine

| # | Proposition | Justification |
|---|---|---|
| 1 |  CAT_02 : 0 MT contributive. Ajouter SEC + MED. | Sans MT contributive, l'ASR ne peut pas tre valide |
| 2 |  Ratio ORGA/contributive dsquilibr (8 ORGA pour 6 contributives) | Trop de "diagnostic" de la situation, pas assez d'action concrte |
| 3 | MT_V4_074 et MT_V4_064 sont quasi-identiques ("temps d'change ddi" vs "temps d'change pour faire le point") |  Fusionner en 1 seule MT |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording de base : MT et Recos

#### Wording des Recos de base

| CAT | Reco ID | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | Source | / |
|---|---|---|---|---|---|
| CAT_01 | M1_RECO_01 | Renforcer l'information et clarifier certains points mdicaux | Identifier les points incompris ou sources de doute | Legacy |  "Renforcer l'information" est un verbe d'action, pas un conseil succinct |
| CAT_01 | M1_RECO_02 | Clarifier la situation mdicale et les hypothses en cours | Confirmer la bonne comprhension du diagnostic par l'aidant | Legacy |  Mme problme  verbe d'action |
| CAT_02 | M1_RECO_03 | Maintenir le suivi mdical actuel et rester attentif  l'volution | Confirmer l'absence de contradiction perue | Legacy |  Trop vague pour une reco CCC |
| CAT_02 | M1_RECO_04 | Clarifier le parcours de soins et les tapes  venir | Identifier les zones d'incomprhension du parcours mdical | Legacy |  Verbe d'action |
| CAT_02 | M1_RECO_05 | Mettre en place un accompagnement renforc pour harmoniser le suivi | Identifier les points de divergence perus par l'aidant | Legacy |  "Mettre en place" = verbe d'action |
| CAT_03 | M1_RECO_06 | Clarifier les modalits de la transition et les interlocuteurs | Identifier les zones d'incertitude de la transition | Legacy |  Verbe d'action |
| CAT_01 | M1_RECO_07 | Demandez  vrifier l'ligibilit  la mise sous ALD | Contacter le mdecin traitant pour dossier ALD (100%) | Legacy |  Reco claire et actionnable |

>  **Wording recos propos** (format conseil succinct, pas verbe d'action) :

| CAT | Reco ID | Reco Utilisateur propose | Reco IDEC propose |
|---|---|---|---|
| CAT_01 | M1_RECO_01 | Information complmentaire sur la pathologie | Complter l'information mdicale pour l'aidant |
| CAT_01 | M1_RECO_02 | clairage sur le diagnostic en cours | Vrifier et clarifier la comprhension du diagnostic |
| CAT_02 | M1_RECO_03 | Suivi attentif du parcours mdical | Surveiller la cohrence du parcours de soins |
| CAT_02 | M1_RECO_04 | Parcours de soins  structurer | Structurer le parcours avec les chances  venir |
| CAT_02 | M1_RECO_05 | Harmonisation des avis mdicaux | Coordonner les professionnels pour un avis unifi |
| CAT_03 | M1_RECO_06 | Transition services enfant  adulte  accompagner | Identifier et coordonner les relais enfant/adulte |
| CAT_01 | M1_RECO_07 | ligibilit ALD  vrifier | Dclencher la demande ALD avec le mdecin traitant |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit (Reco + MT)

#### CAT_01  Comprhension du diagnostic

> Niveaux existants :  STD_P01/P02 /  CCC_P01 /  CRIT_P01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Des questions sur la maladie de votre proche ? N'hsitez pas  demander des prcisions  l'quipe | Proposer un complment d'information adapt au niveau de comprhension |
|  CCC ( 30j) | Le diagnostic de votre proche ncessite des claircissements  une consultation explicative est recommande | Organiser un temps mdical ddi pour clarifier le diagnostic |
|  Critique ( 7j) | La situation mdicale de votre proche doit tre clarifie en urgence  contactez le mdecin traitant rapidement | Dclencher un RDV mdical explicatif dans les 7 jours |

#### CAT_02  Errance diagnostique

> Niveaux existants :  STD_01/02 /  CCC_01

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Le parcours mdical semble complexe  un point rgulier avec l'IDEC peut aider | Vrifier la perception du parcours et lever les zones d'ombre |
|  CCC ( 30j) | Trop d'examens et d'avis contradictoires  une coordination entre professionnels est ncessaire | Organiser une mise en cohrence du parcours mdical |

#### CAT_03  Transition enfant-adulte

> Niveaux existants :  STD_P03 /  CCC_02

**Reco versionne :**

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | La transition vers les services adultes se prpare  votre IDEC peut vous aider  identifier les relais | Vrifier que les interlocuteurs enfants/adultes sont identifis |
|  CCC ( 30j) | Le passage services enfant  adulte n'est pas organis  une coordination entre les quipes est urgente | Contacter les deux services pour organiser un relais structur |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

> S'affiche quand le MP n'est PAS activ (aucune rgle n'a fir)

| | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ |
|---|---|---|
|  Prvention | Le diagnostic de votre proche semble bien compris  restez attentif aux volutions et n'hsitez pas  poser des questions | Confirmer la bonne comprhension du diagnostic  rester en veille sur les volutions cliniques |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V5_M1_PREV_01 | Vrifier la comprhension de la maladie | ORGA | Interroger l'aidant sur sa comprhension actuelle de la pathologie | Prenez le temps de noter ce que vous comprenez de la maladie de votre proche |
| MT_V5_M1_PREV_02 | Signaler tout changement de diagnostic ou nouveau traitement | INFO | Informer l'aidant qu'il doit signaler tout changement mdical | Si un nouveau diagnostic ou traitement est propos, contactez votre IDEC |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question du MP  1 rgle |  3/7 (E34,E35,N41 orphelines) |  6/7 (N17 = contexte pur) | +5 rgles proposes |
| 2 | Chaque rgle  1 version de reco |  |  | 7 recos legacy couvrent |
| 3 | Chaque catgorie  ses MT assignes |  |  | MT redistribues par CAT |
| 4 | K3 respect (2 niveaux par catgorie) |  1/3 (seul CAT_02) |  3/3 si propositions valides | +5 rgles |
| 5 | Aucune MT orpheline |  |  | |
| 6 | Reco prvention prsente |  |  | +1 reco + 2 MT prvention |
| 7 | Wording reco = conseil succinct, MT = verbe d'action |  (verbes d'action dans recos) |  si wording propos valid | |
| 8 | Sens clinique renseign pour chaque rgle |  |  | |

> **Anomalies dtectes** :
> -  **CAT_02 : 0 MT contributive**  problme majeur non rsolu par le legacy. 2 MT proposes (SEC + MED).
> -  **MT_V4_074 et MT_V4_064 quasi-identiques**  fusionner ?
> -  **MT_V4_050** ("pas concern") n'est pas une MT clinique  convertir en logique moteur.
> -  **N17 reste sans rgle**  c'est une question de profil, pas d'activation. OK si document.

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 0 formalises | 3 (CAT_01, CAT_02, CAT_03) |
| Rgles d'activation | :2 :2 :0 | :4 :3 :1 |
| MT totales | 15 | 14 (-1 flag) + 4 proposes = 18 |
| MT contributives | 6 | 8 (+2 proposes CAT_02) |
| Domaine  /  | 2 / 12 | 3 / 15 |
| ASR | Non formule | M1-A  / M1-B  (si propositions valides) |
| Reco prvention |  Absente |  1 reco + 2 MT |
| Checks OK | 3/8 | 8/8 (si propositions valides) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | CAT_01 couvre E34, E35, N41  M1_RECO_07 (ALD) rattache |  Propos |
| 2 | 5 rgles proposes pour combler KPI questions orphelines |  Propos |
| 3 | MT_V4_050 retire (flag moteur) |  Propos |
| 4 | 4 MT proposes (INFO, SEC, MED, STRUC) |  Propos |
| 5 | Wording recos reformul (conseil succinct au lieu de verbe d'action) |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | **CAT_02 : ajouter MT contributives SEC + MED**  sans a, ASR impossible |  |
| 2 | **Valider les 5 nouvelles rgles** (K3 en dpend) |  |
| 3 | **Fusionner MT_V4_074 et MT_V4_064** (quasi-doublons) |  |
| 4 | **Confirmer que N17 ne ncessite pas de rgle** |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,rb=`#  Fiche de Validation MP  M2  Accs aux soins et aux professionnels de sant

> **Vulnrabilit** : V5  Parcours Mdical  
> **ASR** :  M2-A : Accs aux professionnels de sant fonctionnel | M2-B : Suivi prventif et ducation thrapeutique engags   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## BIG PICTURE  V5 entire (6 MPs, ~35 questions)

| MP | Sous-bloc | Nb Q | Questions | Thmatique |
|---|---|---|---|---|
| M1 | 6.1  Diagnostic | 7 | E34, E35, E36, E37, E38, N17, N41 | Comprhension maladie, errance diagnostique, transition |
| **M2** | **6.2  Accs soins** | **9** | **E39, E40, E41, O17, O18, O19, O20, O21, O24** | **Proximit, difficults accs, ETP, spcialistes, bilans** |
| M3 | 6.3  Urgences/hospit | 4 | E42, E43, E44, E46 | RDV imprvus, ruptures, bilan synthse, post-hospit |
| M4 | 6.4  Addictions/psy | 7 | E45, E46, E47, E48, E49, E50, E51 | Suivi addictologie, plan crise, suivi psy |
| M5 | 6.5  Coordination | 4 | E52, E53, E55, O59 | Rfrent, intervenants domicile |
| M6 | 6.6  Vision globale | 6 | E54, E56, E57, E58, E59, E60 | Organisation soins, inquitudes, bilans spcialiss |

M2 est le **MP logistique** de V5. L o M1 traite de la comprhension (le diagnostic est-il clair ?), M2 traite de l'accs concret : le proche peut-il physiquement voir un mdecin ? Y a-t-il des spcialistes  proximit ? Les bilans sont-ils faits ? C'est le MP qui gnre le plus de MTs de type "prise de RDV spcialistes"  un pattern de dispatch similaire  F6_RECO_05 (V4).

>  **Particularit M2** : C'est le **MP le plus riche en questions** de V5 (9 questions) mais aussi le plus problmatique en activation : **seulement 2 rgles CCC, 0 Standard**. K3 totalement non-conforme sur toutes les catgories.

>  **Frontire M2/M5** : M2 = "accde-t-on aux soins ?" (disponibilit). M5 = "les soins sont-ils coordonns ?" (organisation). O17 (mdecin traitant) est en M2 car c'est une question d'accs, pas de coordination. O59 (intervenants domicile) est en M5 car c'est de la coordination.

>  **Cross-activation critique** : V4_M2_CCC_02 utilise E42 + E43 (questions de M3). Cela signifie que M2 peut tre activ par des questions qui ne lui sont PAS rattaches. C'est un choix clinique valide (ruptures de suivi = difficults d'accs) mais  documenter.

---

## QUESTIONS TRANSVERSALES ( se poser AVANT et APRS chaque action)

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : doublons MT/recos avec un autre MP ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : minimum vital couvert ? | Actions 1, 3 |
| T3 | **Actionnabilit** : chaque lment excutable ? | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : nombre proportionnel  la complexit ? | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : MT faisable seul ? | Actions 3, 4 |
| T6 | **Chane d'action** : squence logique ? | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  M2

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E39 | Le premier professionnel de sant (mdecin, infirmier, spcialiste) est-il situ  moins de 15 minutes du domicile de votre proche ? | Facteur | Oui  Non |
| 2 | E40 | Quelles sont les principales difficults pour accder aux soins dont votre proche aurait besoin ? (plusieurs rponses possibles) | tat | Dlais RDV  Peu/pas de mdecins  Difficults transport  Difficults outils en ligne  Organisation travail/vie perso  Cot des soins  Autre  Pas de difficults |
| 3 | E41 | Votre proche a-t-il dj particip  un programme d'ETP li  sa maladie ? | Facteur | Oui  Non, on ne nous en a jamais parl  Non, mais on nous l'a propos  Je ne sais pas |
| 4 | O17 | A-t-elle un mdecin traitant ? | Facteur | Oui  Non |
| 5 | O18 | A-t-elle d'autres mdecins spcialistes qui la suivent actuellement ? | Facteur | Oui  Non |
| 6 | O19 | Lesquels ? (plusieurs rponses possibles) | Facteur | Cardiologue  Oncologue  Neurologue  Pneumologue  Ophtalmologue  Psychiatre  Chirurgien-Dentiste  Gastro-entrologue  Endocrinologue  ORL  Gyncologue  Nphrologue  Griatre  Dermatologue  Autre |
| 7 | O20 | La personne aide a-t-elle dj ralis des RDV mdicaux cette anne ? | Facteur | Oui  Non |
| 8 | O21 | Lesquels ? (plusieurs rponses possibles) | Facteur | Bilan de sant gnral  Audition  Vue  Contrle dentaire  Suivi cardiovasculaire  Ostodensitomtrie  Vaccination  Examen gyncologique  Suivi dermatologique  Suivi psychologique  Dpistage des cancers |
| 9 | O24 | prouvez-vous des difficults  prendre RDV chez des spcialistes autour de son domicile ? | tat | Pas du tout  Un peu  Oui |

> Total : **9 questions** rattaches  M2

>  **E41 est conditionnelle** : N3 rponse 1 ou 3 (vieillissement ou maladie chronique). Ne s'affiche pas pour handicap/psy/addictions.
>  **O19 est conditionnel** : O18 = Oui (a des spcialistes). Sinon masque.
>  **O21 est conditionnel** : O20 = Oui (a ralis des RDV). Sinon masque.

### Questions candidates exclues

| Question ID | Libell | Pertinente pour M2 ? | Raisonnement |
|---|---|---|---|
| E34-E38 | Comprhension diagnostic, errance, transition |  Non | Comprhension  M1, pas accs |
| N17 | Type de handicap |  Non | Profil  M1 |
| N41 | ALD |  Potentiel | L'ALD impacte le COT d'accs aux soins (E40 = "Cot des soins"). Mais cliniquement, l'ALD est un acte administratif li au diagnostic (M1). **Garder en M1.** |
| E42/E43 | RDV imprvus / ruptures de suivi |  Utilises en cross-activation | Questions de M3, mais utilises dans V4_M2_CCC_02. Les ruptures de suivi PEUVENT tre causes par des difficults d'accs. Cross-activation valide. |
| E44 | Bilan de synthse |  Non | Coordination  M3 |
| E46/E47 | Suivi post-hospit / plan crise |  Non | Urgences  M3/M4 |
| E45/E48-E51 | Addictions/psy |  Non | Suivi spcialis  M4 |
| E52/E53/E55/O59 | Coordination |  Non | Organisation  M5 |
| E54/E56-E60 | Vision globale |  Non | Macro  M6 |
| N14 | Mdicaments de la personne aide grs par ? |  Potentiel | Utilise dans M2_RECO_04. N14 est mappe V4 (F2), pas V5. **Cross-vulnrabilit** documente. |

>  **N14 est utilise dans M2_RECO_04** (bilan griatrique) mais elle appartient  V4/F2, pas V5/M2. C'est une cross-vulnrabilit : le moteur utilise la rponse N14 pour dclencher une reco dans un autre primtre.  documenter pour Dr. Monka.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Questions  se poser  Action 1

| # | Question | Rponse |
|---|---|---|
| 1.1 | Catgories cliniquement distinctes ? |  Accs gographique, difficults pratiques, ducation thrapeutique, rseau de spcialistes = 4 axes distincts |
| 1.2 | Angle mort ? |  Les questions O20/O21 (bilans raliss) n'ont pas de catgorie propre  elles servent de contexte pour savoir si le suivi prventif est  jour. Intgrer dans CAT_04. |
| 1.3 | Fusionner ? | Oui. E39 (proximit) et O24 (difficults RDV spcialistes) traitent du mme problme  fusionner dans CAT_01. |
| 1.4 | clater ? | Non. |
| 1.5 | Combien raisonnable ? | 4 catgories pour 9 questions = proportionnel (T4 OK) |

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | M2_CAT_01 | Accessibilit gographique et prise de RDV | Faciliter l'accs physique aux professionnels de sant |  IA (E39, O24, E40 partiel) |
| 2 | M2_CAT_02 | Difficults pratiques d'accs aux soins | Lever les freins logistiques (transport, cot, outils numriques, organisation) | Legacy  (E40) |
| 3 | M2_CAT_03 | ducation thrapeutique du patient (ETP) | Engager ou relancer un programme ETP | Legacy  (E41) |
| 4 | M2_CAT_04 | Rseau de spcialistes et suivi prventif | S'assurer que le proche a un MT, des spcialistes identifis, et des bilans  jour | Legacy  (O17, O18, O19, O20, O21) |

###  Raisonnement

> **Pourquoi 4 catgories et pas 3 ?** L'ETP (CAT_03) est une dimension distincte de l'accs logistique (CAT_02). L'ETP n'est pas un problme d'accs mais d'ducation  c'est un levier de prvention qui change fondamentalement la nature de l'intervention. Fusionner ETP avec "accs aux soins" diluerait le message clinique.
>
> **Pourquoi pas 5 ?** CAT_01 (proximit gographique) et une ventuelle "CAT prise de RDV" traiteraient du mme problme sous un angle diffrent. Mieux : les fusionner car la solution est la mme (aider  trouver des professionnels / organiser les RDV).
>
> **CAT_04 est la plus riche en questions** (5 questions : O17, O18, O19, O20, O21) mais elles sont surtout de contexte (factorielle). Les actions concrtes sont : vrifier MG, prendre RDV spcialistes manquants, planifier les bilans prventifs non faits.

> **Dcision Dr. Monka** :  Valid 4 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Questions  se poser  Action 2

| # | Question | Rponse |
|---|---|---|
| 2.1 | Chaque question  1 rgle ? |  **7/9 orphelines** (E39, E41, O17, O18, O19, O20, O21). Seules E40 et O24 sont dans des rgles. E42/E43 sont utilises mais ne sont PAS rattaches  M2. |
| 2.2 | Chaque combo significatif a une rgle ? |  O17 = "Non" (pas de mdecin traitant !) n'a aucune rgle. C'est **critique**. |
| 2.3 | Niveaux cliniquement justifis ? |  Les 2 rgles legacy sont CCC. Pas de Standard  tout ou rien. |
| 2.4 | Combos multi-questions ? |  CCC_01 = O24 + E40, CCC_02 = E42 + E43 (cross-MP) |
| 2.5 | Rponses extrmes non exploites ? |  O17 = "Non" (pas de MT !), O20 = "Non" (aucun bilan cette anne), E41 = "Non, on ne nous en a jamais parl" |
| 2.6 | 2 niveaux par catgorie ? |  0/4 catgories K3-conformes |
| 2.7 | Une rgle active plusieurs catgories ? | Oui  V4_M2_CCC_01 pourrait activer CAT_01 + CAT_02 (accs + difficults) |

### Catgorie 1  Accessibilit gographique et prise de RDV

>  **0 rgle legacy** directement sur cette catgorie.
> O24 est utilise dans V4_M2_CCC_01 mais combine avec E40. E39 n'est dans aucune rgle.

> **E39** :  Le premier professionnel de sant est-il situ  moins de 15 minutes du domicile ? 
> Options :  Oui /  **Non**

> **O24** :  prouvez-vous des difficults  prendre RDV chez des spcialistes ? 
> Options :  Pas du tout /  **Un peu** /  **Oui**

**Rgles legacy (partiellement lies) :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V4_M2_CCC_01 | O24 = "Oui" **ET** E40  "Pas de difficults" | Activer CAT_01 + CAT_02 | Difficults concrtes et persistantes d'accs | Legacy  |

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M2_STD_P01 | O24 = "Un peu" | Activer CAT_01 | Difficults modres de prise de RDV |  Propos |
|  Standard | V4_M2_STD_P02 | E39 = "Non" | Activer CAT_01 | loignement gographique  facteur de risque d'abandon de suivi |  Propos |

> **K3 CAT_01** :  si propositions valides (STD + CCC)

### Catgorie 2  Difficults pratiques d'accs aux soins

> **E40** :  Quelles sont les principales difficults pour accder aux soins ? (choix multiples) 
> Options :  Dlais RDV /  Peu/pas de mdecins /  **Difficults transport** /  **Difficults outils en ligne** /  **Organisation travail/vie perso** /  **Cot des soins** /  Autre /  Pas de difficults

**Rgles legacy :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  CCC | V4_M2_CCC_01 | O24 = "Oui" **ET** E40  "Pas de difficults" | Activer CAT_01 + CAT_02 | Difficults concrtes d'accs | Legacy  |

>  V4_M2_CCC_01 est partage entre CAT_01 et CAT_02. C'est cliniquement valide : les difficults d'accs et les problmes de RDV sont lis.

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M2_STD_P03 | E40  "Pas de difficults" (au moins 1 difficult coche) | Activer CAT_02 | Au moins une difficult d'accs identifie  signal faible |  Propos |

> **K3 CAT_02** :  si propositions valides (STD + CCC)

### Catgorie 3  ducation thrapeutique (ETP)

> **E41** :  Votre proche a-t-il dj particip  un programme d'ETP ? 
> Options :  Oui /  **Non, on ne nous en a jamais parl** /  **Non, mais on nous l'a propos** /  **Je ne sais pas**

>  **0 rgle legacy** sur cette catgorie. E41 est orpheline.

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M2_STD_P04 | E41 = "Non, mais on nous l'a propos" | Activer CAT_03 | ETP propose mais non engage  lever les freins |  Propos |
|  CCC | V4_M2_CCC_P01 | E41  {"Non, on ne nous en a jamais parl", "Je ne sais pas"} | Activer CAT_03 | Patient jamais inform de l'ETP  carence informationnelle |  Propos |

> **K3 CAT_03** :  si propositions valides (STD + CCC)

### Catgorie 4  Rseau de spcialistes et suivi prventif

> **O17** :  A-t-elle un mdecin traitant ?   Options :  Oui /  **Non**
> **O18** :  A-t-elle des spcialistes qui la suivent ?   Options :  Oui /  **Non**
> **O20** :  A-t-elle ralis des RDV mdicaux cette anne ?   Options :  Oui /  **Non**

>  **0 rgle legacy** sur cette catgorie. O17, O18, O20 sont toutes orphelines.
>  **O17 = "Non"** est un signal CRITIQUE : un proche sans mdecin traitant est en rupture de parcours mdical. Pourtant, aucune rgle ne le capte.

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M2_STD_P05 | O20 = "Non" | Activer CAT_04 | Aucun RDV mdical ralis cette anne  suivi prventif en retard |  Propos |
|  Standard | V4_M2_STD_P06 | O18 = "Non" | Activer CAT_04 | Pas de spcialiste en suivi  risque de lacune dans le parcours |  Propos |
|  CCC | V4_M2_CCC_02 | E42  2 **ET** E43 = "Oui, plusieurs priodes ou plus de 6 mois" | Activer CAT_04 | Crises non anticipes + ruptures prolonges de suivi | Legacy  |
|  Critique | V4_M2_CRIT_P01 | O17 = "Non" | Activer CAT_04 | **Pas de mdecin traitant = rupture totale du parcours.** Aucun pivot de coordination. Urgence absolue. |  Propos |

> **K3 CAT_04** :  si propositions valides (STD + CCC + CRIT)

###  Raisonnement

> **Legacy** : 2 rgles (CCC  2) sur seulement 3 questions effectives (O24, E40, E42+E43). **7/9 questions orphelines  pire score V5**.
>
> **Pattern identique V4** : rappelle F5 et F6 de V4 (0-2 rgles pour 8-12 questions). Le legacy ne couvre que les combos composites (CCC), jamais les signaux isols (Standard).
>
> **Propositions** : 8 nouvelles rgles pour passer de 0/4 K3 conforme  4/4.
>
> **Dcision critique** : O17 = "Non" (pas de MT) est propose en  Critique. C'est le signal le plus grave de M2 : sans mdecin traitant, aucun parcours de soin n'est possible.

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification |
|---|---|---|
| 1 | STD_P01 : O24 = "Un peu" | Signal faible de difficult de RDV |
| 2 | STD_P02 : E39 = "Non" | loignement = facteur d'abandon |
| 3 | STD_P03 : E40  "Pas de difficults" | Au moins 1 frein identifi |
| 4 | STD_P04 : E41 = "Non, mais propos" | ETP non engage  lever les freins |
| 5 | CCC_P01 : E41 = "Non/NSP" | Carence informationnelle ETP |
| 6 | STD_P05 : O20 = "Non" | 0 bilan cette anne |
| 7 | STD_P06 : O18 = "Non" | Pas de spcialiste |
| 8 | **CRIT_P01** : O17 = "Non" | **Pas de mdecin traitant = CRITIQUE** |

> **Contrle K3** :  CAT_01  / CAT_02  / CAT_03  / CAT_04  (si propositions valides)  
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

###  Questions  se poser  Action 3

| # | Question | Rponse |
|---|---|---|
| 3.1 | Chane complte ? |  ORGA  INFO  SEC  MED couvert dans les MT legacy |
| 3.2 | MT d'autres CAT/MP ? | M2_RECO_04 utilise N14 (V4/F2)  cross-vulnrabilit |
| 3.3 | MT mal affectes ? |  M2_RECO_06 contient 16 MTs de dispatch spcialistes (O19). Mme pattern que F6_RECO_05 de V4.  systmatiser. |
| 3.4/3.5 | +1/-1 ? | Voir par CAT |
| 3.6 | 1 contributive par CAT ? |  Toutes les CAT ont des SEC/MED |
| 3.7 | Mix quilibr ? |  Beaucoup de SEC (prise RDV), peu d'INFO |

### CAT_01  Accessibilit gographique et prise de RDV

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_026 | valuer les difficults lies  l'loignement gographique | ORGA | IDEC |  | Legacy  |
| MT_V4_094 | Proposer un accompagnement pour la prise de RDV | SEC | IDEC |  | Legacy  |
| MT_V4_044 | Identifier des professionnels hors secteur immdiat | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_126 | Rechercher des alternatives (autres praticiens, tlconsultation) | MED | Professionnel de sant |  | Legacy  |
| MT_V4_133 | Se reporter  "Procdure pour prendre un RDV spcialiste" | MED | Mdecin spcialiste |  | Legacy  |

####  Pourquoi 5 MT ?

**Pourquoi pas 1 de moins ?** MT_V4_126 (tlconsultation) est un levier moderne important pour les zones sous-dotes. L'enlever prive d'une solution concrte de dsengorgement.

**Pourquoi pas 1 de plus ?**  **Proposition** : "Informer sur les dispositifs de transport sanitaire (VSL, ambulance, transport social)"  type INFO. L'loignement gographique + la mobilit rduite du proche = combo frquent.

### CAT_02  Difficults pratiques d'accs aux soins

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_005 | Confirmer l'absence de difficult d'accs aux soins | ORGA | IDEC |  | Legacy  |
| MT_V4_007 | Prsenter les solutions de tlassistance existantes | ORGA | IDEC |  | Legacy  |
| MT_V4_016 | Confirmer l'accessibilit des professionnels | ORGA | IDEC |  | Legacy  |
| MT_V4_019 | changer avec l'aidant pour prciser la difficult | ORGA | IDEC |  | Legacy  |
| MT_V4_033 | Alerter les professionnels rfrents | ORGA | IDEC |  | Legacy  |
| MT_V4_039 | valuer les besoins de transport | ORGA | IDEC |  | Legacy  |
| MT_V4_046 | Identifier les contraintes organisationnelles | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_085 | Vrifier l'implication du professionnel dans le suivi | SEC | IDEC |  | Legacy  |
| MT_V4_110 | Informer sur les dispositifs de prise en charge existants | INFO | Aidant (autonome) |  | Legacy  |
| MT_V4_120 | Faire le point avec le proche et/ou les professionnels | INFO | IDEC |  | Legacy  |

####  Pourquoi 10 MT ?

**Pourquoi pas 1 de moins ?**
-  MT_V4_005 ("Confirmer l'absence de difficult") et MT_V4_016 ("Confirmer l'accessibilit") sont quasi-identiques. **Proposition : fusionner.**
-  MT_V4_007 ("tlassistance") semble plus pertinente pour V4 (fragilit physique) que V5 (parcours mdical).  vrifier.

**Pourquoi pas 1 de plus ?**
-  **Proposition** : "Accompagner  la demande d'aide au transport CPAM/APA" (type STRUC). Les dispositifs existent mais les aidants ne les connaissent pas.

>  **CAT_02 : 7 ORGA sur 10 MT**. Ratio dsquilibr. Beaucoup de diagnostic/change, peu d'action structurante.

### CAT_03  ducation thrapeutique (ETP)

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_011 | changer sur les raisons de l'arrt du suivi | ORGA | IDEC |  | Legacy  |
| MT_V4_018 | changer sur les raisons du refus ou du report | ORGA | IDEC |  | Legacy  |
| MT_V4_024 | Valoriser la participation au programme ETP | ORGA | IDEC |  | Legacy  |
| MT_V4_037 | Valoriser la participation aux groupes de parole | ORGA | IDEC |  | Legacy  |
| MT_V4_081 | changer sur les effets du suivi | SEC | IDEC |  | Legacy  |
| MT_V4_087 | changer sur les freins au suivi | SEC | IDEC |  | Legacy  |
| MT_V4_116 | Expliquer le principe et les bnfices de l'ETP | INFO | IDEC |  | Legacy  |

####  Pourquoi 7 MT ?

**Pourquoi pas 1 de moins ?**
- MT_V4_011 et MT_V4_018 sont proches ("raisons d'arrt" vs "raisons de refus/report"). Mais cliniquement : l'arrt = le proche tait engag puis a dcroch (motivation), le refus/report = le proche n'a jamais commenc (freins pratiques ou psychologiques). Distinct.

**Pourquoi pas 1 de plus ?**
-  **Proposition** : "Rechercher les programmes ETP disponibles sur le territoire" (type STRUC, acteur IDEC). Actuellement, on explique l'ETP (INFO) et on change sur les freins (ORGA/SEC), mais on ne fait pas la recherche concrte de programme.

### CAT_04  Rseau de spcialistes et suivi prventif

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_052 | Prendre RDV avec un APA du territoire | SEC | IDEC |  | Legacy  |
| MT_V4_053 | Prendre RDV avec pneumologue | SEC | IDEC |  | Legacy  |
| MT_V4_055 | Prendre RDV avec ORL | SEC | IDEC |  | Legacy  |
| MT_V4_057 | Prendre RDV avec griatre | SEC | IDEC |  | Legacy  |
| MT_V4_058 | Prendre RDV avec nphrologue | SEC | IDEC |  | Legacy  |
| MT_V4_060 | Prendre RDV avec chirurgien-dentiste | SEC | IDEC |  | Legacy  |
| MT_V4_069 | Prendre RDV avec oncologue | SEC | IDEC |  | Legacy  |
| MT_V4_073 | Prendre RDV avec psychiatre | SEC | IDEC |  | Legacy  |
| MT_V4_077 | Prendre RDV avec pdicure-podologue | SEC | IDEC |  | Legacy  |
| MT_V4_079 | Prendre RDV avec IDEL | SEC | IDEC |  | Legacy  |
| MT_V4_083 | Prendre RDV avec neurologue | SEC | IDEC |  | Legacy  |
| MT_V4_084 | Prendre RDV avec kinsithrapeute | SEC | IDEC |  | Legacy  |
| MT_V4_086 | Prendre RDV avec cardiologue | SEC | IDEC |  | Legacy  |
| MT_V4_091 | Prendre RDV avec endocrinologue | SEC | IDEC |  | Legacy  |
| MT_V4_095 | Prendre RDV avec gastro-entrologue | SEC | IDEC |  | Legacy  |
| MT_V4_096 | Prendre RDV avec dermatologue | SEC | IDEC |  | Legacy  |
| MT_V4_098 | Prendre RDV avec ophtalmologue | SEC | IDEC |  | Legacy  |

>  **17 MTs de dispatch spcialistes**  mme mcanisme que F6_RECO_05 de V4 (O16 pathologies  spcialistes). Ici, O19 (liste des spcialistes)  MTs de prise de RDV pour chaque spcialiste.

>  **Proposition MT paramtrique** : Comme propos en F6, plutt que 17 MTs quasi-identiques ("Prendre RDV avec [SPCIALISTE]"), crer **1 MT paramtrique** \`MT_V5_M2_DISPATCH : "Prendre RDV avec le spcialiste identifi" {param: O19.selected}\`. Le moteur gnre dynamiquement la MT en fonction des choix O19.

**Autres MTs CAT_04 (non-dispatch) :**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
|  |  Aucune MT legacy hors dispatch |  |  |  |  |

>  **Problme** : CAT_04 n'a QUE des MTs de dispatch (prise de RDV). Il manque :
> - MT ORGA : "Vrifier que le proche a un mdecin traitant" (O17)
> - MT INFO : "Informer sur les bilans de prvention recommands par ge"
> - MT STRUC : "Constituer le dossier de suivi avec les RDV planifis"

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | Fusionner MT_V4_005 et MT_V4_016 (quasi-doublons CAT_02) |  Propos |  |
| 2 | Ajouter MT INFO "Transport sanitaire CPAM/APA" dans CAT_01 |  Propos | MT_V5_M2_P01 |
| 3 | Ajouter MT STRUC "Demande aide transport" dans CAT_02 |  Propos | MT_V5_M2_P02 |
| 4 | Ajouter MT STRUC "Rechercher programmes ETP territoire" dans CAT_03 |  Propos | MT_V5_M2_P03 |
| 5 | Ajouter MT ORGA "Vrifier mdecin traitant" dans CAT_04 |  Propos | MT_V5_M2_P04 |
| 6 | Ajouter MT INFO "Bilans prvention par ge" dans CAT_04 |  Propos | MT_V5_M2_P05 |
| 7 | MT paramtrique dispatch spcialistes |  Propos | MT_V5_M2_DISPATCH |

> **Condition ASR par catgorie** :
> - CAT_01 :  3 (SEC 1, MED 2)  ASR complte 
> - CAT_02 :  1 (SEC 1) + propose STRUC  ASR complte si valid 
> - CAT_03 :  2 (SEC 2) + propose STRUC  ASR complte 
> - CAT_04 :  17 (SEC dispatch)  ASR complte  (dispatch = action concrte)

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

###  Questions  se poser  Action 4

| # | Question | Rponse |
|---|---|---|
| 4.1 | MED prsent ? |  MED dans M2_RECO_04 (bilan griatrique) et M2_RECO_05 (DAC/CPTS) |
| 4.2 | Acteurs corrects ? |  IDEC majoritaire + Aidant (autonome) + Mdecin spcialiste + DAC/CPTS |
| 4.3 | MT aidant autonome ? |  Seulement 2 sur ~30  les aidants pourraient faire plus de recherches seuls |
| 4.4 | Domaines corrects ? |  MT dispatch (prise RDV) : domaine mdical ou mdico-social ? Prise de RDV = acte administratif (mdico-social), mais le RDV lui-mme est mdical. **Convention : domaine du RDV cible.** |
| 4.5 | Nouvel acteur ? | DAC et CPTS dj utiliss dans M2_RECO_05  OK |
| 4.6 | Attributs manquants ? |  MT dispatch : dlai = "selon urgence et disponibilit" |
| 4.7 | Ordre logique ? | ORGA (identifier)  INFO (informer)  SEC (prendre RDV)  MED (consultation)  |

### Tableau consolid des MT de M2 (rsum)

> **Rsum** :  
> - Total MT : 39 legacy + 5 proposes = 44
> - Domaine  Mdical : ~20 (dispatch + MED) / Domaine  Mdico-social : ~24 (ORGA + INFO + STRUC)
> - Contributives () : 22  SEC: 19, MED: 3  
> - Non-contributives () : 17  ORGA: 12, INFO: 5

>  **M2 est le MP le plus riche en MTs de toute V5** (et probablement de tout le KERNEL). C'est d au mcanisme de dispatch spcialistes (17 MTs pour O19). Si le dispatch paramtrique est adopt, on passe de 39  23 MTs.

###  Propositions d'amlioration  Types, acteurs et domaine

| # | Proposition | Justification |
|---|---|---|
| 1 | Dispatch paramtrique O19 : 17 MTs  1 MT dynamique | vite la redondance, simplifie la maintenance |
| 2 | CAT_02 : ratio ORGA trop lev (7/10). Ajouter STRUC + INFO. | Plus de levier concret, moins d'change |
| 3 | Augmenter les MT "Aidant (autonome)" : recherche spcialistes, prise RDV en ligne | L'aidant peut faire ces actions seul avec un guide |

> **Dcision Dr. Monka** :  Valid |  Modifier les types/acteurs/domaines

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording des Recos de base

| CAT | Reco ID | Reco Utilisateur _(conseil succinct)_ | Reco IDEC _(directive)_ | Source | / |
|---|---|---|---|---|---|
| CAT_01 | M2_RECO_01 | Identifier des solutions pour faciliter l'accs aux soins | Confirmer l'accessibilit des professionnels | Legacy |  Verbe d'action |
| CAT_02 | M2_RECO_02 | Accompagner l'utilisation des outils numriques | Confirmer l'absence de difficult d'accs | Legacy |  Trop spcifique (outils numriques), la reco couvre 8 sous-difficults |
| CAT_03 | M2_RECO_03 | Informer sur l'existence et l'intrt de l'ETP | Expliquer le principe et les bnfices | Legacy |  Verbe d'action |
| CAT_04 | M2_RECO_04 | Bilan griatrique et bilan mmoire  demander | Contacter le MT pour lettre d'adressage | Legacy |  Claire et actionnable |
| CAT_04 | M2_RECO_05 | Contactez le DAC de votre territoire | Informer sur les dispositifs DAC/CPTS | Legacy |  |
| CAT_04 | M2_RECO_06 | Un suivi rgulier est  prvoir selon les prconisations | Prendre RDV avec [spcialiste] | Legacy |  Reco trop gnrique pour 14 spcialistes diffrents |

>  **Wording recos propos** :

| CAT | Reco ID | Reco Utilisateur propose | Reco IDEC propose |
|---|---|---|---|
| CAT_01 | M2_RECO_01 | Accessibilit aux soins  amliorer | Lever les freins d'accs gographique aux soins |
| CAT_02 | M2_RECO_02 | Freins d'accs aux soins identifis | Proposer des solutions adaptes  chaque difficult |
| CAT_03 | M2_RECO_03 | ducation thrapeutique  explorer | Orienter vers un programme ETP adapt  la pathologie |
| CAT_04 | M2_RECO_04 | Bilan griatrique recommand | Dclencher un bilan griatrique via le MT |
| CAT_04 | M2_RECO_05 | Coordination territoriale  activer | Mettre en lien avec le DAC/CPTS du territoire |
| CAT_04 | M2_RECO_06 | Suivi spcialiste  planifier | Organiser les RDV selon les spcialistes identifis |

> **Dcision Dr. Monka** :  Wording de base valid |  Corrections  apporter

---

### Phase 2  Versioning par criticit (Reco + MT)

#### CAT_01  Accessibilit gographique

> Niveaux :  STD_P01/P02 /  CCC_01

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Des professionnels de sant sont accessibles  vrifiez que vous n'avez pas de difficult de suivi | Vrifier la bonne couverture gographique en professionnels de sant |
|  CCC ( 30j) | L'accs aux professionnels est difficile pour votre proche  des solutions existent, votre IDEC peut vous aider | Identifier et mettre en place des alternatives (tlconsultation, transport, dplacement) |

#### CAT_02  Difficults pratiques

> Niveaux :  STD_P03 /  CCC_01

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Certaines difficults d'accs sont identifies  votre IDEC peut vous aider  les lever | valuer la difficult et proposer un plan d'action |
|  CCC ( 30j) | Plusieurs freins d'accs aux soins sont identifis  agissons ensemble pour les lever rapidement | Mettre en uvre des solutions sur tous les axes (transport, cot, organisation, outils) |

#### CAT_03  ETP

> Niveaux :  STD_P04 /  CCC_P01

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Un programme d'ducation thrapeutique est disponible  discutez-en avec votre IDEC | Lever les freins  la participation ETP |
|  CCC ( 30j) | L'ducation thrapeutique peut amliorer le quotidien de votre proche  informez-vous auprs de votre IDEC | Rechercher et proposer un programme ETP adapt dans le territoire |

#### CAT_04  Rseau spcialistes et suivi prventif

> Niveaux :  STD_P05/P06 /  CCC_02 /  CRIT_P01

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Le suivi mdical de votre proche mrite d'tre consolid  vrifiez les bilans et spcialistes | Identifier les lacunes du rseau mdical et planifier les RDV manquants |
|  CCC ( 30j) | Le suivi mdical prsente des ruptures  une remise  jour du rseau de soins est ncessaire | Organiser une remise  jour complte : bilans + RDV spcialistes + plan de suivi |
|  Critique ( 7j) | **Votre proche n'a pas de mdecin traitant  c'est une priorit absolue  rsoudre immdiatement** | **Dclencher dans les 7 jours : contact DAC/CPTS + CPAM pour trouver un MT** |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

| | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Prvention | L'accs aux soins de votre proche semble correct  maintenez le suivi et anticipez les prochains RDV | Confirmer le bon accs aux soins  maintenir le rseau de professionnels actif |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V5_M2_PREV_01 | Vrifier les prochains RDV mdicaux planifis | ORGA | Vrifier avec l'aidant que les prochains RDV sont programms | Consultez votre agenda mdical : les prochains RDV de votre proche sont-ils prvus ? |
| MT_V5_M2_PREV_02 | Rappeler les bilans prventifs annuels recommands | INFO | Informer l'aidant sur les bilans recommands pour l'ge et la pathologie | Votre proche a-t-il fait son bilan annuel ? Vrifiez les recommandations avec votre mdecin |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question  1 rgle |  2/9 |  8/9 (O19 = contexte) | +8 rgles proposes |
| 2 | Chaque rgle  1 version de reco |  |  | 6 recos legacy couvrent |
| 3 | Chaque catgorie  ses MT assignes |  |  | MT redistribues par CAT |
| 4 | K3 respect |  0/4 |  4/4 si valid | +8 rgles |
| 5 | Aucune MT orpheline |  |  | |
| 6 | Reco prvention |  |  | +1 reco + 2 MT |
| 7 | Wording reco = conseil succinct |  |  si wording propos valid | |
| 8 | Sens clinique renseign |  |  | |

> **Anomalies dtectes** :
> -  **Cross-activation** : V4_M2_CCC_02 utilise E42+E43 (questions M3). Documenter.
> -  **Cross-vulnrabilit** : M2_RECO_04 utilise N14 (V4/F2). Documenter.
> -  **17 MTs dispatch spcialistes** : proposer le mcanisme paramtrique.
> -  **CAT_02 : ratio ORGA 7/10**  dsquilibre  corriger.

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 0 formalises | 4 (CAT_01  CAT_04) |
| Rgles d'activation | :0 :2 :0 | :6 :3 :1 |
| MT totales | 39 | 39 + 5 proposes = 44 (ou 28 avec dispatch param.) |
| MT contributives | 22 | 24 (+2 proposes STRUC) |
| Domaine  /  | ~20 / ~19 | ~22 / ~22 |
| ASR | Non formule | M2-A  / M2-B  |
| Reco prvention |  |  |
| Checks OK | 2/8 | 8/8 (si valid) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 4 catgories formalises (accs, freins, ETP, rseau spcialistes) |  Propos |
| 2 | 8 rgles proposes pour K3 4/4 |  Propos |
| 3 | O17 = "Non"  Critique (pas de MT = rupture totale) |  Propos |
| 4 | Dispatch paramtrique O19 (17  1 MT dynamique) |  Propos |
| 5 | Cross-activations E42/E43 et N14 documentes |  Document |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | **Valider les 8 nouvelles rgles** (K3 en dpend) |  |
| 2 | **O17 = "Non"  Critique ou CCC ?** Ce choix a un impact fort sur le workflow IDEC |  |
| 3 | **Dispatch paramtrique** : adopter pour M2 et F6 ? Pattern systmique. |  |
| 4 | **Fusionner MT_V4_005 et MT_V4_016** (quasi-doublons CAT_02) |  |
| 5 | **Cross-vulnrabilit N14** : documenter dans les rgles inter-MP |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,ob=`#  Fiche de Validation MP  M3  Urgences, hospitalisations et suivi mdical

> **Vulnrabilit** : V5  Parcours Mdical  
> **ASR** :  M3-A : Suivi mdical rgulier et structur | M3-B : Sorties d'hospitalisation scurises   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## BIG PICTURE  Positionnement M3

| MP | Sous-bloc | Nb Q | Thmatique |
|---|---|---|---|
| M1 | 6.1  Diagnostic | 7 | Comprhension maladie, errance, ALD |
| M2 | 6.2  Accs soins | 9 | Proximit, difficults accs, ETP, spcialistes |
| **M3** | **6.3  Urgences/hospit** | **4** | **RDV imprvus, ruptures suivi, bilan synthse, post-hospit** |
| M4 | 6.4  Addictions/psy | 7 | Suivi addictologie, plan crise, suivi psy, observance |
| M5 | 6.5  Coordination | 4 | Rfrent, intervenants domicile |
| M6 | 6.6  Vision globale | 6 | Organisation, inquitudes, plan de route |

M3 est le **MP de surveillance** de V5. Il dtecte les signaux d'instabilit du parcours mdical : urgences non anticipes, ruptures de suivi, absence de bilan de synthse, suivi post-hospitalisation absent. C'est un MP qui RAGIT aux drapages.

>  **Particularit M3** : MP le plus riche en rgles de V5 (**8 rgles : 5 STD + 3 CCC**). Paradoxe : c'est le MP avec le MOINS de questions (4Q) mais le plus de rgles. Cela s'explique par les **cross-activations massives** : M3 utilise des questions de M4 (E47), M4 (E50, E51) et M5 (E52) dans ses rgles CCC.

>  **Cross-activations** :
> - V4_M3_CCC_01 utilise **E52** (M5  coordination) + E44 (M3)
> - V4_M3_CCC_02 utilise **E47** (M4  plan crise) + E46 (M3)
> - V4_M3_CCC_03 utilise **E50** + **E51** (M4  observance psy/addiction)
> - STD_04 utilise **E47** (M4), STD_05 utilise **E50** (M4)
>
> Seul E42 est **propre**  M3 ET utilise dans ses propres rgles.

>  **Frontire M3/M4** : M3 = "le parcours mdical reste-t-il stable ?" (ractivit). M4 = "les suivis spcialiss psy/addiction fonctionnent-ils ?" (spcialit). E46 est partage M3+M4 dans les questions, E47 est en M4 mais utilise par M3 en cross-activation.

---

## QUESTIONS TRANSVERSALES

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** : doublons MT/recos ? | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** : minimum vital ? | Actions 1, 3 |
| T3 | **Actionnabilit** : excutable ? | Actions 3, 4, 5 |
| T4 | **Proportionnalit** : proportionnel ? | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** : faisable seul ? | Actions 3, 4 |
| T6 | **Chane d'action** : squence logique ? | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  M3

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E42 | Parmi les RDV mdicaux raliss ce mois-ci, combien taient non prvus  l'avance hors hospitalisation ? | Facteur | Aucun  1 seul  2  3  4  5  6 |
| 2 | E43 | Au cours des 12 derniers mois, y a-t-il eu des priodes de plusieurs mois sans aucun suivi mdical pour le problme principal ? | Facteur | Non  Oui, 3  6 mois  Oui, plusieurs priodes ou +6 mois  Je ne sais pas |
| 3 | E44 | Votre proche a-t-il dj bnfici d'un bilan de synthse pour faire le point sur l'ensemble de ses maladies ? | Facteur | Oui, rcemment  Oui, mais il y a +1 an  Non, jamais  Je ne sais pas |
| 4 | E46 | Aprs la dernire hospitalisation, un suivi mdical a-t-il t organis ? | Facteur | Oui, clairement organis  Partiellement  Non, nous avons d tout organiser seuls  Pas hospitalis rcemment |

> Total : **4 questions** rattaches  M3
>  **E44 conditionnelle** : N3 rponse 1 ou 3 (vieillissement ou maladie chronique).
>  **E46 est cross-MP** : aussi mappe  M4.

### Questions candidates exclues

| Question ID | Pertinente pour M3 ? | Raisonnement |
|---|---|---|
| E34-E38, N17, N41 |  Non | Comprhension diagnostic  M1 |
| E39-E41, O17-O21, O24 |  Non | Accs soins  M2 |
| E45 |  Non | Suivi addictologie  M4. Mais utilise dans M4_STD_01 qui est reprise par M3 dans cross-activation |
| E47 |  Cross-utilise | Plan de crise  M4, mais **utilise dans V4_M3_CCC_02 et V4_M3_STD_04**. La question reste en M4, l'activation est cross-MP. |
| E48/E49 |  Non | Suivi psy/addiction  M4 |
| E50 |  Cross-utilise | Observance traitement  M4, mais **utilise dans V4_M3_CCC_03 et V4_M3_STD_05** |
| E51 |  Cross-utilise | Motivation addiction  M4, mais **utilise dans V4_M3_CCC_03** |
| E52 |  Cross-utilise | Coordinateur  M5, mais **utilise dans V4_M3_CCC_01** |
| E53-E60 |  Non | Coordination/vision globale  M5/M6 |

>  **Pattern original** : M3 n'utilise PAS ses propres questions dans 3/3 rgles CCC. Il combine des signaux de M4 et M5 pour dtecter des situations composites plus graves. C'est un design **sentinelle** : M3 surveille les signaux des autres MP pour dclencher des alertes croises.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Questions  se poser  Action 1

| # | Question | Rponse |
|---|---|---|
| 1.1 | Catgories distinctes ? |  Urgences/crises, ruptures de suivi, bilan de synthse, post-hospitalisation = 4 axes |
| 1.2 | Angle mort ? | Non  les 4 questions couvrent bien les 4 axes |
| 1.3 | Fusionner ? |  E42 (urgences) et E43 (ruptures) pourraient tre dans la mme CAT car les deux traitent de l'instabilit du suivi. Mais cliniquement : urgences = vnements aigus, ruptures = absence prolonge. Garder spar. |
| 1.4 | clater ? | Non |
| 1.5 | Combien ? | 3 catgories. 4 serait trop pour 4 questions (1Q = 1 CAT est trop fin). Fusionner E42+E43 dans CAT_01. |

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | M3_CAT_01 | Stabilit du suivi mdical | Dtecter et rduire les urgences non anticipes et les ruptures de suivi | Legacy  (E42, E43) |
| 2 | M3_CAT_02 | Bilan de synthse global | Organiser un bilan multi-pathologies pour structurer le parcours | Legacy  (E44) |
| 3 | M3_CAT_03 | Suivi post-hospitalisation | Scuriser les sorties d'hospitalisation | Legacy  (E46) |

###  Raisonnement

> **Pourquoi 3 et pas 4 ?** E42 et E43 sont deux faces d'un mme problme : l'instabilit du parcours. Les urgences (E42) sont souvent la consquence de ruptures (E43). Les regrouper dans CAT_01 permet une rponse intgre ("stabiliser le suivi"). Sparer serait artificiel car les MT sont similaires (rvaluer la planification).
>
> **Pourquoi pas 2 ?** Le bilan de synthse (CAT_02) est un acte spcifique, distinct du monitoring quotidien (CAT_01) et du post-hospitalier (CAT_03). C'est un bilan multi-pathologies formel, pas une simple vrification de continuit.

> **Dcision Dr. Monka** :  Valid 3 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Questions  se poser  Action 2

| # | Question | Rponse |
|---|---|---|
| 2.1 | Chaque question  1 rgle ? |  4/4  E42, E43 (via cross dans M2_CCC), E44, E46 toutes dans des rgles |
| 2.2 | Combos cliniquement significatifs ? |  Les 3 CCC font des combos cross-MP pertinents |
| 2.3 | Niveaux justifis ? |  STD = signal isol, CCC = combo multi-MP |
| 2.4 | Combos multi-questions ? |  3 CCC composites |
| 2.5 | Rponses extrmes non exploites ? |  E42  4 (4+ urgences/mois) n'a pas de rgle spcifique Critique |
| 2.6 | 2 niveaux par catgorie ? |  CAT_01  (STD+CCC), CAT_02  (STD+CCC), CAT_03  (STD+CCC). K3 OK ! |
| 2.7 | Rgle active plusieurs CAT ? | Non |

>  **Attention** : Certaines rgles de M3 utilisent des questions d'autres MPs. Le rattachement  une CAT de M3 est bas sur le SENS CLINIQUE, pas sur la question source.

### Catgorie 1  Stabilit du suivi mdical

> **E42** :  RDV mdicaux non prvus ce mois-ci ? 
> Options :  Aucun /  1 seul /  **2** /  3 /  4 /  5 /  6

> **E43** :  Priodes sans suivi mdical ces 12 derniers mois ? 
> Options :  Non /  **Oui, 3-6 mois** /  **Oui, plusieurs priodes ou +6 mois** /  Je ne sais pas

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M3_STD_01 | E42  2 | Activer CAT_01 | 2 RDV non programms = instabilit du parcours | Legacy  |
|  CCC |  |  Aucun CCC propre  CAT_01 |  |  |  |

>  **E43 n'a pas de rgle legacy propre** dans M3 (elle est en cross-activation depuis M2_CCC_02). Mais E43 est rattache  M3_RECO_02  il y a une reco sans rgle associe directe.

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M3_STD_P01 | E43  {"Oui, 3-6 mois", "Oui, plusieurs priodes ou +6 mois"} | Activer CAT_01 | Rupture de suivi avre  risque de perte de chance |  Propos |
|  CCC | V4_M3_CCC_P01 | E42  3 **ET** E43  {"Oui, plusieurs priodes ou +6 mois"} | Activer CAT_01 | Urgences frquentes + ruptures prolonges = parcours instable |  Propos |
|  Critique | V4_M3_CRIT_P01 | E42  4 | Activer CAT_01 | 4+ urgences/mois = situation de crise mdicale aigu |  Propos |

> **K3 CAT_01** :  STD + CCC + CRIT (si propositions valides)

### Catgorie 2  Bilan de synthse global

> **E44** :  Bilan de synthse dj ralis ? 
> Options :  Oui, rcemment /  **Oui, mais il y a +1 an** /  **Non, jamais** /  Je ne sais pas

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M3_STD_02 | E44 = "Non, jamais" | Activer CAT_02 | Aucun bilan global  risque d'approche fragmente | Legacy  |
|  CCC | V4_M3_CCC_01 | E44 = "Non, jamais" **ET** E52 = "Non, personne ne coordonne vraiment" | Activer CAT_02 | Pas de bilan + pas de coordinateur  parcours non structur | Legacy  (cross E52/M5) |

> **K3 CAT_02** :  2 niveaux (STD + CCC)

>  **Proposition** : Ajouter une rgle STD pour E44 = "Oui, mais il y a +1 an" (bilan ancien)  le bilan existe mais n'est plus  jour. Cliniquement pertinent pour les pathologies volutives.

### Catgorie 3  Suivi post-hospitalisation

> **E46** :  Suivi post-hospitalisation organis ? 
> Options :  Oui, clairement organis /  **Partiellement** /  **Non, nous avons d tout organiser seuls** /  Pas hospitalis rcemment

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M3_STD_03 | E46 = "Non, nous avons d tout organiser seuls" | Activer CAT_03 | Sortie d'hospitalisation non encadre | Legacy  |
|  CCC | V4_M3_CCC_02 | E47 = "Non, on improvise" **ET** E46 = "Non, nous avons d tout organiser seuls" | Activer CAT_03 | Pas de plan de crise + pas de suivi post-hospit = vulnrabilit maximale | Legacy  (cross E47/M4) |

> **K3 CAT_03** :  2 niveaux (STD + CCC)

>  **Proposition** : Ajouter une rgle STD pour E46 = "Partiellement"  le suivi existe mais est incomplet. C'est un signal faible qui mrite attention.

### Rgles cross-activant d'AUTRES CAT depuis M3

> Les rgles suivantes sont dans le scope M3 mais utilisent des questions de M4/M5. Elles doivent tre documentes ici mme si les questions sources ne sont pas rattaches  M3.

| Rgle ID | Questions | Sens clinique | CAT active | Source |
|---|---|---|---|---|
| V4_M3_STD_04 | E47 (M4) | Pas de plan en cas d'aggravation |  Cross  pertinent pour CAT_03 (gestion urgence) | Legacy  |
| V4_M3_STD_05 | E50 (M4) | Pas d'observance traitement psy |  Cross  mdicalement li  l'instabilit (CAT_01) | Legacy  |
| V4_M3_CCC_03 | E50 + E51 (M4) | Troubles psy/addictifs sans prise en charge ni adhsion |  Cross  combo M4 pur activant M3 | Legacy  |

>  **Observation** : V4_M3_STD_04, STD_05, et CCC_03 sont des rgles M3 qui utilisent EXCLUSIVEMENT des questions de M4. Elles sont probablement mieux places **dans M4** directement. Le fait qu'elles soient dans M3 cre une confusion car M3 se retrouve avec 8 rgles pour 4 questions propres.
>
> **Proposition** : Dplacer STD_04, STD_05, et CCC_03 dans M4. Cela donnerait  M3 un profil cohrent de 5 rgles (3 STD + 2 CCC) toutes sur ses propres questions + E52 (M5).

###  Raisonnement

> **Legacy** : M3 est le **MP le mieux dot en rgles de V5** (8 rgles, K3 conforme), mais 3 de ces rgles sont des "intrus" qui utilisent uniquement des questions de M4 (E47, E50, E51). Le vrai profil de M3 serait 5 rgles propres + cross-E52.
>
> **M3 est le MP "sentinelle"** : il surveille les signaux des autres MP pour dtecter des situations de crise composites. C'est un design original mais qui cre de la complexit. Si on dplace les 3 rgles intrus vers M4, M3 garde son rle de sentinelle via CCC_01 (E52/M5) et CCC_02 (E47/M4), mais les signaux psy purs (STD_04, STD_05, CCC_03) sont mieux grs par M4.

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification |
|---|---|---|
| 1 | STD_P01 : E43 = rupture de suivi | E43 n'a pas de rgle propre dans M3 malgr sa reco |
| 2 | CCC_P01 : E42  3 + E43 = ruptures prolonges | Combo instabilit maximale |
| 3 | CRIT_P01 : E42  4 | Situation de crise aigu (4+ urgences/mois) |
| 4 | STD : E44 = "il y a +1 an" | Bilan ancien,  renouveler |
| 5 | STD : E46 = "Partiellement" | Suivi post-hospit incomplet |
| 6 | **Dplacer STD_04, STD_05, CCC_03 vers M4** | Questions 100% M4, pas de lien avec M3 propre |

> **Contrle K3** :  CAT_01  / CAT_02  / CAT_03   
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

### CAT_01  Stabilit du suivi mdical

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_004 | changer avec l'aidant sur les situations ayant conduit  ces RDV | ORGA | IDEC |  | Legacy  |
| MT_V4_025 | Identifier le motif du RDV imprvu | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_027 | Analyser la rcurrence des situations d'urgence | ORGA | IDEC |  | Legacy  |
| MT_V4_056 | Proposer un temps de synthse mdicale | SEC | IDEC |  | Legacy  |
| MT_V4_061 | Vrifier la continuit du suivi mdical | SEC | IDEC |  | Legacy  |
| MT_V4_063 | Vrifier la rgularit du suivi mdical | SEC | IDEC |  | Legacy  |
| MT_V4_065 | Proposer un temps de concertation ou de synthse mdicale | SEC | IDEC |  | Legacy  |
| MT_V4_067 | Confirmer la stabilit du suivi mdical | SEC | IDEC |  | Legacy  |
| MT_V4_078 | Proposer une rvaluation du plan de soins | SEC | IDEC |  | Legacy  |
| MT_V4_090 | Confirmer la continuit du suivi mdical | SEC | IDEC |  | Legacy  |
| MT_V4_097 | changer avec l'aidant sur les raisons de la rupture de suivi | SEC | IDEC |  | Legacy  |

####  Pourquoi 11 MT ?

**Pourquoi pas 1 de moins ?**
-  **MT quasi-doublons dtects** :
  - MT_V4_056 ("temps de synthse mdicale")  MT_V4_065 ("temps de concertation ou de synthse mdicale")  **fusionner**
  - MT_V4_061 ("vrifier continuit")  MT_V4_063 ("vrifier rgularit")  MT_V4_090 ("confirmer continuit")  MT_V4_067 ("confirmer stabilit")  **4 MT quasi-identiques  fusionner en 1-2**
- Aprs fusion : ~6-7 MT  proportionnel (T4 OK)

**Pourquoi pas 1 de plus ?**
-  **Proposition** : MT MED "Solliciter un avis mdical sur la rcurrence des urgences" (acteur Mdecin traitant). Actuellement, les MT sont toutes ORGA/SEC ct IDEC  pas de levier mdical direct.

>  **8 MT SEC sur 11**  ratio trs lev mais justifi pour un MP de surveillance. La vrification de continuit EST le cur de M3.

### CAT_02  Bilan de synthse global

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_123 | Vrifier la mise en uvre des recommandations du bilan | MED | Mdecin traitant |  | Legacy  |
| MT_V4_127 | Informer sur l'intrt d'une consultation de synthse | MED | Professionnel de sant |  | Legacy  |
| MT_V4_130 | Identifier les volutions depuis le dernier bilan | MED | Mdecin traitant |  | Legacy  |

####  Pourquoi 3 MT ?

**Pourquoi pas 1 de moins ?** Chaque MT couvre une phase : informer (127)  identifier les changements (130)  vrifier la mise en uvre (123). Squence logique complte (T6 ).

**Pourquoi pas 1 de plus ?**
-  **Proposition** : MT ORGA "Aider  la prise de RDV pour le bilan de synthse" (acteur IDEC). Actuellement, toutes les MT sont MED  l'IDEC n'a pas de rle oprationnel dans cette CAT.

>  **CAT_02 : 3 MT MED contributives  ASR OK**  c'est la CAT la plus propre de M3.

### CAT_03  Suivi post-hospitalisation

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_118 | Vrifier le respect des RDV programms | INFO | IDEC |  | Legacy  |
| MT_V4_134 | Reprendre les lments de sortie d'hospitalisation | STRUC | IDEC |  | Legacy  |
| MT_V4_137 | Noter l'absence d'hospitalisation rcente | STRUC | IDEC |  | Legacy  |

####  Pourquoi 3 MT ?

**Pourquoi pas 1 de moins ?**
- MT_V4_137 ("noter absence d'hospitalisation") est un **flag moteur**, pas une vraie MT. Mme cas que MT_V4_050 de M1. **Proposition : retirer.**

**Pourquoi pas 1 de plus ?**
-  **Proposition** : MT SEC "Contacter le mdecin traitant pour vrifier la mise en place du suivi post-sortie" (acteur IDEC). Actuellement, on reprend les documents (STRUC) et on vrifie les RDV (INFO) mais on ne VRIFIE PAS le suivi effectif avec le MT.

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | Fusionner MT_V4_056 et MT_V4_065 (synthse mdicale) |  Propos |  |
| 2 | Fusionner MT_V4_061/063/067/090 (vrifier continuit  4) |  Propos |  |
| 3 | Retirer MT_V4_137 (flag moteur) |  Propos |  |
| 4 | Ajouter MT MED : avis mdical sur rcurrence urgences (CAT_01) |  Propos | MT_V5_M3_P01 |
| 5 | Ajouter MT ORGA : prise RDV bilan synthse (CAT_02) |  Propos | MT_V5_M3_P02 |
| 6 | Ajouter MT SEC : contact MT post-hospitalisation (CAT_03) |  Propos | MT_V5_M3_P03 |

> **Condition ASR par catgorie** :
> - CAT_01 :  8 (SEC 8)  ASR complte 
> - CAT_02 :  3 (MED 3)  ASR complte 
> - CAT_03 :  1 (STRUC 1)  ASR partielle  ( 2 si proposition valide)

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

### Tableau consolid des MT de M3 (rsum)

> **Rsum** :
> - Total MT : 17 legacy ( ~11 aprs fusions/retrait)
> - Domaine  Mdical : 5 / Domaine  Mdico-social : 12
> - Contributives () : 12  SEC: 8, MED: 3, STRUC: 1
> - Non-contributives () : 5  ORGA: 3, INFO: 1, STRUC: 1 (flag)

###  Propositions d'amlioration

| # | Proposition | Justification |
|---|---|---|
| 1 | CAT_01 : 4 MT quasi-identiques  fusionner | Rduire la redondance SEC |
| 2 | CAT_03 : MT_V4_137 = flag, pas MT clinique | Convertir en logique moteur |
| 3 | Ratio SEC trs lev (8/12 contributives) mais justifi pour MP surveillance | Documenter |

> **Dcision Dr. Monka** :  Valid |  Modifications

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording des Recos de base

| CAT | Reco ID | Reco Utilisateur _(legacy)_ | Reco IDEC _(legacy)_ | / |
|---|---|---|---|---|
| CAT_01 | M3_RECO_01 | Rvaluer l'organisation du suivi mdical | Alerter les professionnels rfrents |  "Rvaluer" = verbe d'action |
| CAT_01 | M3_RECO_02 | Clarifier l'historique du suivi mdical | Analyser l'impact de l'absence de suivi |  Verbe d'action |
| CAT_02 | M3_RECO_03 | Rvaluer l'intrt d'un nouveau bilan de synthse | Faire le point avec l'aidant et les professionnels |  Verbe d'action |
| CAT_03 | M3_RECO_04 | Complter et scuriser le suivi post-hospitalisation | Identifier les lments manquants dans le suivi |  Clair |

>  **Wording propos** :

| CAT | Reco ID | Reco Utilisateur propose | Reco IDEC propose |
|---|---|---|---|
| CAT_01 | M3_RECO_01 | Organisation du suivi mdical  revoir | Rvaluer le plan de soins avec les rfrents |
| CAT_01 | M3_RECO_02 | Ruptures de suivi mdical dtectes | Analyser les causes de rupture et scuriser la continuit |
| CAT_02 | M3_RECO_03 | Bilan de synthse  envisager | Organiser un bilan multi-pathologies avec le MT |
| CAT_03 | M3_RECO_04 | Suivi post-hospitalisation  scuriser | Reprendre les lments de sortie et vrifier le suivi |

> **Dcision Dr. Monka** :  Wording valid |  Corrections

---

### Phase 2  Versioning par criticit

#### CAT_01  Stabilit suivi

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Le suivi mdical a connu des perturbations  restez vigilant et programmez les prochains RDV | Vrifier la continuit du suivi et analyser les consultations imprvues |
|  CCC ( 30j) | Le parcours mdical est instable  une coordination renforce est ncessaire | Organiser une synthse mdicale et rvaluer le plan de soins |
|  Critique ( 7j) | Urgences mdicales rptes ce mois  une intervention immdiate est ncessaire | Convoquer une runion de coordination en urgence |

#### CAT_02  Bilan de synthse

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Un bilan de synthse global pourrait aider  mieux structurer le parcours | Informer sur l'intrt d'un bilan et vrifier l'ligibilit |
|  CCC ( 30j) | Aucun bilan global et pas de coordination  une mise  plat est ncessaire | Organiser un bilan multi-pathologies dans les 30 jours |

#### CAT_03  Post-hospitalisation

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | La sortie d'hospitalisation ncessite un suivi  votre IDEC peut aider | Reprendre les lments de sortie et vrifier les RDV programms |
|  CCC ( 30j) | Aucun suivi aprs l'hospitalisation et pas de plan de crise  situation  scuriser rapidement | Contacter le MT et organiser le suivi post-hospitalier dans les 30 jours |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

| | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Prvention | Le parcours mdical de votre proche est stable  continuez  anticiper les RDV et  signaler tout changement | Confirmer la stabilit du suivi  maintenir la vigilance sur les signaux d'alerte |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V5_M3_PREV_01 | Vrifier les prochains RDV mdicaux programms | ORGA | Interroger l'aidant sur le calendrier mdical en cours | Quels sont les prochains RDV mdicaux de votre proche ? Sont-ils programms ? |
| MT_V5_M3_PREV_02 | Rappeler les conduites  tenir en cas d'urgence | INFO | Vrifier que l'aidant connat les numros et procdures d'urgence | Savez-vous qui appeler et quoi faire en cas d'aggravation brutale ? |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question  1 rgle |  4/4 |  4/4 | Dj couvert |
| 2 | Chaque rgle  1 reco |  |  | 4 recos |
| 3 | Chaque catgorie  ses MT |  |  | MT redistribues |
| 4 | K3 (2 niveaux/CAT) |  3/3 |  3/3 | Dj K3-conforme |
| 5 | Aucune MT orpheline |  |  | Aprs fusions |
| 6 | Reco prvention |  |  | +1 reco + 2 MT |
| 7 | Wording OK |  |  si valid | |
| 8 | Sens clinique renseign |  |  | |

> **Anomalies dtectes** :
> -  **4 MT quasi-identiques CAT_01**  fusionner
> -  **3 rgles M3 100% questions M4**  propos de dplacer vers M4
> -  **MT_V4_137** (flag moteur)  retirer

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 0 formalises | 3 |
| Rgles d'activation | :5 :3 :0 | :7 :4 :1 (si propositions + dplacement M4) |
| MT totales | 17 | ~11 (aprs fusions) + 3 proposes = 14 |
| MT contributives | 12 | ~9 + 3 = 12 |
| Domaine  /  | 5 / 12 | 6 / 8 |
| ASR | Non formule | M3-A  / M3-B  |
| Reco prvention |  |  |
| Checks OK | 5/8 | 8/8 |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 3 catgories formalises (stabilit, bilan, post-hospit) |  Propos |
| 2 | Propos de dplacer STD_04, STD_05, CCC_03 vers M4 (questions 100% M4) |  Propos |
| 3 | 3 rgles nouvelles proposes (STD_P01, CCC_P01, CRIT_P01) |  Propos |
| 4 | 4 MT fusionnes, 1 MT retire (flag), 3 proposes |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | **Dplacer 3 rgles vers M4 ?** Si oui, M3 passe de 8  5 rgles. |  |
| 2 | **Fusionner les 4 MT de vrification continuit** |  |
| 3 | **Ajouter CRIT_P01 (E42  4)**  seuil  valider avec Dr. Monka |  |
| 4 | **E44 "il y a +1 an"  STD ?** |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,lb=`#  Fiche de Validation MP  M4  Addictions, troubles psychiques et suivi spcialis

> **Vulnrabilit** : V5  Parcours Mdical  
> **ASR** :  M4-A : Suivi spcialis psy/addiction engag et rgulier | M4-B : Plan de crise formalis et connu de l'aidant   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## BIG PICTURE  Positionnement M4

| MP | Sous-bloc | Nb Q | Thmatique |
|---|---|---|---|
| M1 | 6.1  Diagnostic | 7 | Comprhension maladie, errance, ALD |
| M2 | 6.2  Accs soins | 9 | Proximit, difficults accs, ETP, spcialistes |
| M3 | 6.3  Urgences/hospit | 4 | RDV imprvus, ruptures suivi, bilan synthse |
| **M4** | **6.4  Addictions/psy** | **7** | **Suivi addictologie, suivi post-hospit, plan crise, suivi psy, observance, motivation aide** |
| M5 | 6.5  Coordination | 4 | Rfrent, intervenants domicile |
| M6 | 6.6  Vision globale | 6 | Organisation, inquitudes, plan de route |

M4 est le **MP spcialis** de V5. Il couvre les suivis les plus complexes : addictologie, psychiatrie, et gestion de crise. C'est le MP avec le plus de **questions conditionnelles** (4/7 sont conditionnes sur N3  nature de la pathologie) et le plus de **diversit d'acteurs** (psychiatres, psychologues, CMP, CSAPA, travailleurs sociaux, associations).

>  **Particularit M4** : MP le **plus pauvre en rgles legacy** de V5 (**1 seule rgle : V4_M4_STD_01 sur E45**) mais le plus riche en recos (7) et MTs (22). C'est un dsquilibre massif : 7 recos sont TOUTES rattaches  la seule rgle STD_01, ce qui signifie que le moteur fait "tout ou rien"  soit E45 dclenche et on dploie 7 recos, soit rien ne se passe.

>  **Cross-activations depuis M3** : 3 rgles legacy de M3 (STD_04, STD_05, CCC_03) utilisent EXCLUSIVEMENT des questions M4 (E47, E50, E51). Proposition M3 : les dplacer vers M4. Si accept, M4 passe de 1  4 rgles.

>  **E46 est cross-MP** : mappe  M3 ET M4. Le suivi post-hospitalisation peut relever des deux primtres.

---

## QUESTIONS TRANSVERSALES

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** | Actions 1, 3 |
| T3 | **Actionnabilit** | Actions 3, 4, 5 |
| T4 | **Proportionnalit** | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** | Actions 3, 4 |
| T6 | **Chane d'action** | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  M4

| # | Question ID | Libell | Classification | Options de rponse | Condition |
|---|---|---|---|---|---|
| 1 | E45 | Votre proche est-il suivi dans un service ou une consultation spcialise en addictologie ? | Facteur | Oui, rgulirement  Oui, mais il/elle n'y va plus  Non  Je ne sais pas | N3 = 5 (addiction) |
| 2 | E46 | Aprs la dernire hospitalisation, un suivi mdical a-t-il t organis ? | Facteur | Oui, clairement organis  Partiellement  Non, nous avons d tout organiser seuls  Pas hospitalis rcemment |  (universelle) |
| 3 | E47 | Quand l'tat de sant se dgrade brusquement, avez-vous un plan clair ? | tat | Oui, on sait quoi faire  On a quelques repres, mais pas trs clair  Non, on improvise systmatiquement |  (universelle) |
| 4 | E48 | Votre proche est-il suivi pour ses troubles psychiques ? (choix multiples) | Facteur | MG  Psychiatre libral  CMP/CMPP  Hpital de jour  Psychologue  Aucun suivi | N3 = 4 (trouble psy) |
| 5 | E49 | Dans le suivi de l'addiction, quels types de professionnels sont impliqus ? (choix multiples) | Facteur | Mdecin  Psychiatre/psychologue  Travailleur social  Infirmier  Association  Aucun suivi structur | N3 = 5 (addiction) |
| 6 | E50 | Votre proche est-il suivi pour ses troubles psychiques et suit-il son traitement si prescrit ? | tat | Oui, suivi rgulier et traitement bien pris  Oui, mais irrgulier  Non, pas de suivi | N3 = 4 (trouble psy) |
| 7 | E51 | Votre proche est-il prt  tre aid pour son addiction ? | tat | Oui  Peut-tre / selon les conditions  Non  Je ne sais pas | N3 = 5 (addiction) |

> Total : **7 questions** rattaches  M4
>  **4 questions conditionnelles** : E45/E49/E51 (N3=5, addictions) et E48/E50 (N3=4, trouble psy). Ces MP ne s'affichent que pour les proches avec addiction ou trouble psy.
>  **E46 et E47 sont universelles**  elles s'affichent pour tous et ne dpendent pas de N3.

### Questions candidates exclues

| Question ID | Pertinente pour M4 ? | Raisonnement |
|---|---|---|
| E34-E38 |  Non | Diagnostic  M1 |
| E39-E41, O17-O24 |  Non | Accs soins  M2 |
| E42/E43 |  Non | Instabilit suivi  M3. E42/E43 sont dans cross-activation M2_CCC_02 |
| E44 |  Non | Bilan synthse  M3 |
| E52/E53/E55/O59 |  Non | Coordination  M5 |
| E54/E56-E60 |  Non | Vision globale  M6 |
| N17 |  Non | Type handicap  M1 |

> Pas de question candidate exclue ambigu  M4 est un primtre clairement spcialis.

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Questions  se poser  Action 1

| # | Question | Rponse |
|---|---|---|
| 1.1 | Catgories distinctes ? |  Addictologie, suivi psy, gestion de crise, post-hospitalisation = 4 axes |
| 1.2 | Angle mort ? |  E49 (professionnels impliqus en addiction) est de contexte pur  pas d'action ddie ncessaire |
| 1.3 | Fusionner ? |  Addictologie (E45, E49, E51) et suivi psy (E48, E50) pourraient tre fusionns car les intervenants se chevauchent (psychiatres). Mais cliniquement : l'addictologie = problmatique de MOTIVATION et ADHSION, la psy = problmatique de CONTINUIT de suivi. Garder spar. |
| 1.4 | clater ? | Non |
| 1.5 | Combien ? | 4 catgories pour 7 questions = proportionnel (T4 OK) |

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | M4_CAT_01 | Suivi addictologique | Engager ou maintenir le suivi addictologie (CSAPA, addictologue) | Legacy  (E45, E49, E51) |
| 2 | M4_CAT_02 | Suivi psychiatrique et psychologique | Assurer la continuit et l'observance du suivi psy | Legacy  (E48, E50) |
| 3 | M4_CAT_03 | Plan de crise et gestion de l'aggravation | Formaliser un plan d'action en cas de dgradation brusque | Legacy  (E47) |
| 4 | M4_CAT_04 | Suivi post-hospitalisation (psy/addiction) | Scuriser le retour aprs hospitalisation en milieu spcialis | Legacy  (E46) |

###  Raisonnement

> **Pourquoi 4 et pas 3 ?** CAT_03 (plan de crise) est un acte transversal qui s'applique indpendamment de la nature du trouble (psy ou addiction). C'est un protocole d'urgence qui mrite sa propre CAT car les MTs sont spcifiques (construire un plan, identifier les numros, tester le plan).
>
> **Pourquoi pas 5 ?** E49 (professionnels impliqus) est une question de profiling, pas d'action. Elle enrichit le contexte de CAT_01 mais ne gnre pas de catgorie propre.
>
> **CAT_04 partage E46 avec M3.** M3_CAT_03 traite le post-hospit du point de vue surveillance/coordination gnrale. M4_CAT_04 traite le post-hospit du point de vue suivi spcialis psy/addiction. Les MTs sont diffrentes.

> **Dcision Dr. Monka** :  Valid 4 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Questions  se poser  Action 2

| # | Question | Rponse |
|---|---|---|
| 2.1 | Chaque question  1 rgle ? |  **6/7 orphelines**. Seule E45 est dans une rgle. E46, E47, E48, E49, E50, E51 n'ont AUCUNE rgle propre. |
| 2.2 | Combos significatifs ? |  Pas de combo exploit |
| 2.3 | Niveaux justifis ? |  1 seul STD, 0 CCC  pas de gradation |
| 2.4 | Combos multi-questions ? |  Le legacy ne fait aucun combo |
| 2.5 | Rponses extrmes ? |  E50 = "Non, pas de suivi" (trouble psy non trait !), E51 = "Non" (refus d'aide addiction), E47 = "Non, on improvise"  AUCUNE RGLE |
| 2.6 | 2 niveaux par CAT ? |  0/4 K3-conforme |
| 2.7 | Rgle active plusieurs CAT ? | Non |

>  **M4 a le PIRE ratio questions/rgles de tout V5** : 1 rgle pour 7 questions. Et cette rgle (E45) ne couvre que les addictions. Les troubles psy (E48, E50) n'ont **aucune** activation.

### Rgles legacy de M3  dplacer (proposition)

> Si proposition M3 accepte, ces 3 rgles sont transfres  M4 :

| Rgle ID | Questions | Niveau | CAT propose | Source |
|---|---|---|---|---|
| V4_M3_STD_04 ( M4) | E47 | Standard | CAT_03 | Legacy M3 |
| V4_M3_STD_05 ( M4) | E50 | Standard | CAT_02 | Legacy M3 |
| V4_M3_CCC_03 ( M4) | E50 + E51 | CCC | CAT_01/CAT_02 cross | Legacy M3 |

### Catgorie 1  Suivi addictologique

> **E45** :  Votre proche est-il suivi en addictologie ? 
> Options :  Oui, rgulirement /  **Oui, mais il/elle n'y va plus** /  **Non** /  **Je ne sais pas**

> **E51** :  Votre proche est-il prt  tre aid pour son addiction ? 
> Options :  Oui /  **Peut-tre / selon les conditions** /  **Non** /  **Je ne sais pas**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M4_STD_01 | E45 = "Non" | Activer CAT_01 | Pas de suivi addictologie | Legacy  |
|  CCC (transfr M3) | V4_M3_CCC_03 | E50 = "Non" **ET** E51 = "Non" | Activer CAT_01 + CAT_02 | Troubles psy/addictifs sans prise en charge et refus d'aide | Legacy  (ex-M3) |

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M4_STD_P01 | E45 = "Oui, mais n'y va plus" | Activer CAT_01 | Suivi addictologie interrompu  risque de rechute |  Propos |
|  Standard | V4_M4_STD_P02 | E51 = "Non" | Activer CAT_01 | Refus d'aide explicite  approche motivationnelle ncessaire |  Propos |
|  CCC | V4_M4_CCC_P01 | E45  {"Non", "Je ne sais pas"} **ET** E51 = "Non" | Activer CAT_01 | Pas de suivi + refus d'aide = impasse addictologique |  Propos |

> **K3 CAT_01** :  si propositions valides (STD + CCC)

### Catgorie 2  Suivi psychiatrique et psychologique

> **E48** :  Votre proche est-il suivi pour troubles psychiques ? 
> Options :  MG /  Psychiatre libral /  CMP/CMPP /  Hpital de jour /  Psychologue /  **Aucun suivi actuellement**

> **E50** :  Suivi psy et observance traitement ? 
> Options :  Oui, rgulier et traitement bien pris /  **Oui, mais irrgulier** /  **Non, pas de suivi** /  **Je ne sais pas**

>  **0 rgle legacy propre**  CAT_02.

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M4_STD_P03 | E50 = "Oui, mais irrgulier" | Activer CAT_02 | Observance fragile  risque de dcompensation |  Propos |
|  Standard (transfr M3) | V4_M3_STD_05 | E50 = "Non, pas de suivi" | Activer CAT_02 | Trouble psy non trait | Legacy M3 |
|  CCC | V4_M4_CCC_P02 | E48 = "Aucun suivi" **ET** E50 = "Non" | Activer CAT_02 | Aucune structure de suivi psy  risque maximal |  Propos |
|  Critique | V4_M4_CRIT_P01 | E50 = "Non" **ET** E51 = "Non" **ET** E47 = "Non, on improvise" | Activer CAT_02 + CAT_03 | Triple signal : pas de suivi + refus d'aide + pas de plan de crise = danger immdiat |  Propos |

> **K3 CAT_02** :  si propositions valides (STD + CCC + CRIT)

### Catgorie 3  Plan de crise et gestion aggravation

> **E47** :  Plan clair en cas de dgradation brusque ? 
> Options :  Oui /  **Quelques repres, pas trs clair** /  **Non, on improvise**

>  **0 rgle legacy propre**  CAT_03.

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard (transfr M3) | V4_M3_STD_04 | E47 = "Non, on improvise" | Activer CAT_03 | Pas de plan d'urgence | Legacy M3 |
|  Standard | V4_M4_STD_P04 | E47 = "Quelques repres, pas trs clair" | Activer CAT_03 | Plan flou   formaliser |  Propos |
|  CCC | V4_M4_CCC_P03 | E47 = "Non, on improvise" **ET** E46 = "Non, nous avons d tout organiser seuls" | Activer CAT_03 | Pas de plan + pas de suivi post-hospit = danger |  Propos (= ex-V4_M3_CCC_02 lgrement modifi) |

> **K3 CAT_03** :  si propositions valides (STD + CCC)

### Catgorie 4  Suivi post-hospitalisation (psy/addiction)

> **E46** :  Suivi post-hospitalisation organis ? 
> Options :  Oui /  **Partiellement** /  **Non, tout organiser seuls** /  Pas hospitalis rcemment

>  **0 rgle legacy propre** dans M4.

>  E46 a dj des rgles dans M3 (STD_03 et CCC_02). L'activation M4 est **complmentaire** : elle cible le suivi post-hospit dans le contexte PSY/ADDICTION spcifiquement.

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M4_STD_P05 | E46 = "Partiellement" | Activer CAT_04 | Suivi post-hospit incomplet en contexte psy/addiction |  Propos |
|  CCC | V4_M4_CCC_P04 | E46 = "Non" **ET** E50 = "Non" | Activer CAT_04 | Sortie d'hospit non encadre + pas de suivi psy |  Propos |

> **K3 CAT_04** :  si propositions valides (STD + CCC)

###  Raisonnement

> **Legacy** : 1 rgle pour 7 questions = **le pire ratio de tout V5 et de toutes les vulnrabilits V1-V5**. Mme F5 de V4 (2 rgles pour 12 questions) faisait mieux. La raison : les questions psy/addiction sont apparues tard dans le questionnaire (conditionnelles sur N3) et le legacy n'a pas eu le temps de produire des rgles granulaires.
>
> **Si dplacement M3 accept + propositions** : M4 passe de **1 rgle  14 rgles** (3 transfres + 10 nouvelles + 1 existante). C'est une transformation majeure.
>
> **L'absence de rgles explique pourquoi 7 recos sont lies  1 seule activation** : le moteur dclenche V4_M4_STD_01 (E45) et dploie les 7 recos en bloc. Avec les nouvelles rgles, chaque reco peut tre cible par sa propre activation.

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification |
|---|---|---|
| 1 | STD_P01 : E45 = "n'y va plus" | Suivi addictologie interrompu |
| 2 | STD_P02 : E51 = "Non" (refus aide) | Marqueur de blocage motivationnel |
| 3 | CCC_P01 : E45 + E51 = combo | Impasse complte en addictologie |
| 4 | STD_P03 : E50 = "irrgulier" | Observance fragile |
| 5 | CCC_P02 : E48 + E50 = combo | Pas de suivi + pas d'observance |
| 6 | CRIT_P01 : E50 + E51 + E47 triple signal | Danger immdiat  psy non traite, refus aide, pas de plan |
| 7 | STD_P04 : E47 = "quelques repres" | Plan flou   formaliser |
| 8 | CCC_P03 : E47 + E46 = combo | Improvisation + pas de suivi post-hospit |
| 9 | STD_P05 : E46 = "Partiellement" | Post-hospit incomplet |
| 10 | CCC_P04 : E46 + E50 = combo | Sortie non encadre + pas de suivi psy |

> **Contrle K3** :  CAT_01  / CAT_02  / CAT_03  / CAT_04   
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

### CAT_01  Suivi addictologique

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_062 | Confirmer avec l'aidant le nombre d'heures envisages pour le SAD | SEC | IDEC |  | Legacy  |
| MT_V4_076 | Confirmer avec l'aidant le nombre d'heures pour le SSIAD | SEC | IDEC |  | Legacy  |
| MT_V4_080 | Vrifier la rgularit du suivi et l'adhsion du proche | SEC | IDEC |  | Legacy  |
| MT_V4_100 | Analyser l'impact de l'absence de suivi | SEC | IDEC |  | Legacy  |

>  **MT_V4_062 et MT_V4_076** (heures SAD/SSIAD) sont des MTs de **V4 (Fragilit physique)**, pas d'addictologie. Elles semblent **mal affectes**  probablement un artefact de la migration data. 
> - SAD = Service d'Aide  Domicile
> - SSIAD = Service de Soins Infirmiers  Domicile
>  Ces MT devraient tre en V4/F6 (Autonomie fonctionnelle), pas en V5/M4 (Addictions).
>
> **Proposition** : Retirer MT_V4_062 et MT_V4_076 de M4. Les remplacer par des MTs addictologie pertinentes.

**MTs restantes aprs nettoyage :**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_080 | Vrifier la rgularit du suivi et l'adhsion du proche | SEC | IDEC |  | Legacy  |
| MT_V4_100 | Analyser l'impact de l'absence de suivi | SEC | IDEC |  | Legacy  |

>  **Seulement 2 MT pour CAT_01** aprs nettoyage. C'est insuffisant.

**MTs PROPOSES pour CAT_01 :**

| MT_ID | Libell | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V5_M4_P01 | Orienter vers un CSAPA ou une consultation d'addictologie | MED | IDEC |  |  Propos |
| MT_V5_M4_P02 | Informer sur les groupes de parole et programmes de soutien | INFO | IDEC |  |  Propos |
| MT_V5_M4_P03 | Explorer la motivation au changement avec l'aidant | ORGA | Aidant (autonome) |  |  Propos |

### CAT_02  Suivi psychiatrique et psychologique

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_031 | Explorer les signes de souffrance psychique | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_066 | Vrifier les modalits de suivi aprs prise en charge | SEC | IDEC |  | Legacy  |
| MT_V4_082 | Suivre les objectifs de prise en charge | SEC | IDEC |  | Legacy  |
| MT_V4_099 | Vrifier la continuit du suivi psychiatrique | SEC | IDEC |  | Legacy  |
| MT_V4_010 | Explorer les besoins en sant mentale | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_114 | Faire le point avec l'aidant et/ou les professionnels | INFO | IDEC |  | Legacy  |
| MT_V4_122 | Vrifier la rgularit du suivi et la bonne observance du traitement | MED | Professionnel de sant |  | Legacy  |

####  Pourquoi 7 MT ?

**Pourquoi pas 1 de moins ?**
- MT_V4_010 ("explorer besoins en sant mentale") et MT_V4_031 ("explorer signes souffrance psychique") sont trs proches. Diffrence : 010 = valuation large des besoins, 031 = dtection spcifique de souffrance. **Proposition : garder les 2**  le champ est cliniquement diffrent.

**Pourquoi pas 1 de plus ?**
-  **Proposition** : MT STRUC "Formaliser un rseau de soins psy (CMP, psychiatre, psychologue)"  actuellement on vrifie le suivi mais on ne construit pas le rseau si inexistant.

### CAT_03  Plan de crise

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_012 | Construire un plan d'urgence personnalis | ORGA | IDEC |  | Legacy  |
| MT_V4_030 | Identifier les zones de flou dans la conduite  tenir | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_109 | Vrifier que le plan est connu et  jour | INFO | IDEC |  | Legacy  |

####  Pourquoi 3 MT ?

**Pourquoi pas 1 de moins ?** Les 3 MT couvrent : construire (012)  identifier les flous (030)  vrifier l'actualisation (109). Squence logique complte.

**Pourquoi pas 1 de plus ?**
-  **0 MT contributive () dans CAT_03 !** C'est un problme : 3 MT (ORGA + INFO) mais aucune SEC, STRUC, ou MED. Le plan de crise est "construit" et "vrifi" mais jamais formellement STRUCTUR dans un document ou VALID mdicalement.
-  **Propositions** :
  - MT_V5_M4_P04 : "Formaliser le plan de crise dans un document partag" (type STRUC, acteur IDEC)  
  - MT_V5_M4_P05 : "Faire valider le plan de crise par le mdecin rfrent" (type MED, acteur Mdecin traitant)  

### CAT_04  Suivi post-hospitalisation (psy/addiction)

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_048 | Explorer la situation avec l'aidant et le proche | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_059 | Vrifier la frquence et le contenu du suivi infirmier | SEC | IDEC |  | Legacy  |
| MT_V4_089 | Vrifier la rgularit du suivi | SEC | IDEC |  | Legacy  |
| MT_V4_092 | Vrifier la continuit du suivi psychologique ou psychiatrique | SEC | Psychologue |  | Legacy  |

**MTs de M4_RECO_07 (motivation aide addiction) :**

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_006 | Valoriser la motivation exprime | ORGA | IDEC |  | Legacy  |
| MT_V4_013 | Explorer les conditions et les rticences exprimes | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_017 | Rester disponible et maintenir un lien | ORGA | IDEC |  | Legacy  |
| MT_V4_035 | changer avec l'aidant pour mieux comprendre la situation | ORGA | IDEC |  | Legacy  |

>  Les 4 MT de M4_RECO_07 sont toutes ORGA (). Aucune action contributive pour un patient qui refuse l'aide. C'est cliniquement cohrent : face  un refus, on reste dans l'accompagnement motivationnel, pas dans l'action directive. Mais il manque un levier mdical.

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | Retirer MT_V4_062 et MT_V4_076 (MTs V4/SAD/SSIAD mal affectes) |  Propos |  |
| 2 | Ajouter MT MED : orienter vers CSAPA (CAT_01) |  Propos | MT_V5_M4_P01 |
| 3 | Ajouter MT INFO : groupes de parole (CAT_01) |  Propos | MT_V5_M4_P02 |
| 4 | Ajouter MT ORGA : motivation au changement (CAT_01) |  Propos | MT_V5_M4_P03 |
| 5 | Ajouter MT STRUC : formaliser plan de crise (CAT_03) |  Propos | MT_V5_M4_P04 |
| 6 | Ajouter MT MED : valider plan de crise avec MT (CAT_03) |  Propos | MT_V5_M4_P05 |
| 7 | Ajouter MT STRUC : rseau de soins psy (CAT_02) |  Propos | MT_V5_M4_P06 |

> **Condition ASR par catgorie** :
> - CAT_01 :  2 (SEC) + 1 propos (MED)  ASR possible 
> - CAT_02 :  4 (SEC 3 + MED 1)  ASR complte 
> - CAT_03 :  0 legacy  **ASR impossible**  ( 2 si propositions valides)
> - CAT_04 :  3 (SEC 3)  ASR complte 

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

### Tableau consolid des MT de M4 (rsum)

> **Rsum** :
> - Total MT : 22 legacy ( 20 aprs retrait MTs V4) + 6 proposes = 26
> - Domaine  Mdical : 4 / Domaine  Mdico-social : 18
> - Contributives () : 10  SEC: 8, MED: 2
> - Non-contributives () : 12  ORGA: 10, INFO: 2
> - Acteurs : IDEC (dominant), Aidant (autonome) 5, Professionnel de sant 1, Psychologue 1

>  **Ratio ORGA/contributive : 10/12 non-contributives sont ORGA**. M4 est un MP d'accompagnement motivationnel  les MTs ORGA sont cliniquement justifies (on explore, on valorise, on maintient le lien). Mais l'absence de MED/MED dans CAT_01 et CAT_03 est un frein  l'ASR.

###  Propositions d'amlioration

| # | Proposition | Justification |
|---|---|---|
| 1 | MT_V4_062/076 (SAD/SSIAD) mal affectes  retirer | Erreur d'affectation data |
| 2 | CAT_03 : 0 MT contributive  ajouter STRUC + MED | Plan de crise = document formel  STRUC + validation mdicale |
| 3 | Diversifier les acteurs : ajouter CMP, CSAPA, addictologue | M4 est le MP avec le plus de structures spcialises, mais elles ne sont pas dans les MTs |

> **Dcision Dr. Monka** :  Valid |  Modifications

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording des Recos de base

| CAT | Reco ID | Reco Utilisateur _(legacy)_ | Source Q | / |
|---|---|---|---|---|
| CAT_01 | M4_RECO_01 | Clarifier la situation mdicale et l'historique de suivi | E45 |  Trop gnrique pour de l'addictologie |
| CAT_04 | M4_RECO_02 | Complter et scuriser le suivi post-hospitalisation | E46 |  |
| CAT_03 | M4_RECO_03 | Clarifier et formaliser un plan d'action en cas de crise | E47 |  Pertinent |
| CAT_02 | M4_RECO_04 | Maintenir le lien avec la structure et suivre le projet de soins | E48 |  |
| CAT_01 | M4_RECO_05 | Maintenir l'accompagnement social et ducatif | E49 |  "Accompagnement social et ducatif"  trop V4 (fragilit). En contexte addiction = "maintenir le lien thrapeutique" |
| CAT_02 | M4_RECO_06 | Clarifier la situation de suivi et de traitement | E50 |  Verbe d'action |
| CAT_01 | M4_RECO_07 | Mettre en place rapidement un accompagnement adapt | E51 |  Verbe d'action |

>  **Wording propos** :

| CAT | Reco ID | Reco Utilisateur propose | Reco IDEC propose |
|---|---|---|---|
| CAT_01 | M4_RECO_01 | Suivi addictologique  valuer | Explorer avec l'aidant l'historique et les besoins en addictologie |
| CAT_04 | M4_RECO_02 | Suivi post-hospitalisation  scuriser | Identifier les lments manquants dans le relais post-hospit |
| CAT_03 | M4_RECO_03 | Plan de crise  formaliser | Construire un plan d'urgence personnalis avec l'aidant |
| CAT_02 | M4_RECO_04 | Continuit du suivi psy  maintenir | Vrifier le lien avec la structure de soin et le projet thrapeutique |
| CAT_01 | M4_RECO_05 | Lien thrapeutique  maintenir | Assurer la continuit de l'accompagnement addictologique |
| CAT_02 | M4_RECO_06 | Situation de suivi psy  clarifier | valuer l'observance du traitement et la rgularit du suivi |
| CAT_01 | M4_RECO_07 | Accompagnement adapt  engager rapidement | Mettre en place un accompagnement ajust  la motivation du proche |

> **Dcision Dr. Monka** :  Wording valid |  Corrections

---

### Phase 2  Versioning par criticit

#### CAT_01  Suivi addictologique

> Niveaux :  STD_01/P01/P02 /  CCC_P01

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Un suivi en addictologie peut aider votre proche  parlez-en avec votre IDEC | valuer la situation addictologique et orienter vers une consultation spcialise |
|  CCC ( 30j) | Votre proche n'a pas de suivi addictologique structur  une orientation rapide est recommande | Orienter vers un CSAPA ou un addictologue dans les 30 jours |

#### CAT_02  Suivi psy

> Niveaux :  STD_P03/M3_STD_05 /  CCC_P02 /  CRIT_P01

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Le suivi psy de votre proche mrite attention  restez en lien avec les professionnels | Vrifier la rgularit du suivi et l'observance du traitement |
|  CCC ( 30j) | Votre proche n'a pas de suivi psy structur  une mise en place rapide est recommande | Contacter un CMP ou un psychiatre pour initier un suivi |
|  Critique ( 7j) | Aucun suivi, refus d'aide et pas de plan de crise  situation de danger, contactez immdiatement | Dclencher un contact mdical d'urgence et activer le rseau de crise |

#### CAT_03  Plan de crise

> Niveaux :  STD_P04/M3_STD_04 /  CCC_P03

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | En cas de crise, il est utile d'avoir un plan  votre IDEC peut vous aider  le construire | Formaliser avec l'aidant un plan d'action en cas de dgradation |
|  CCC ( 30j) | Pas de plan de crise et sortie d'hospit non organise  formalisez rapidement un plan avec votre IDEC | Construire et faire valider un plan d'urgence dans les 30 jours |

#### CAT_04  Post-hospitalisation psy/addiction

> Niveaux :  STD_P05 /  CCC_P04

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Le suivi aprs l'hospitalisation ncessite attention  contactez votre IDEC | Reprendre les lments de sortie et vrifier la continuit du suivi psy/addiction |
|  CCC ( 30j) | Sortie d'hospitalisation sans suivi psy structur  situation  scuriser rapidement | Organiser le relais avec la structure d'aval dans les 30 jours |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

| | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Prvention | Le suivi spcialis de votre proche semble en place  restez vigilant et maintenez le lien avec les professionnels | Confirmer la stabilit du suivi psy/addiction et vrifier l'actualisation du plan de crise |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V5_M4_PREV_01 | Vrifier la rgularit du suivi spcialis | ORGA | Interroger l'aidant sur la frquence des consultations psy/addiction | Le suivi de votre proche est-il rgulier ? Quand a eu lieu le dernier RDV ? |
| MT_V5_M4_PREV_02 | Rappeler l'existence du plan de crise | INFO | Vrifier que l'aidant connat le plan de crise et les numros d'urgence | Avez-vous le plan de crise  porte de main ? Connaissez-vous les numros  appeler ? |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question  1 rgle |  1/7 |  7/7 (E49 = contexte) | +10 proposes + 3 transfres |
| 2 | Chaque rgle  1 reco |  |  | 7 recos |
| 3 | Chaque catgorie  ses MT |  |  | MT nettoyes et enrichies |
| 4 | K3 (2 niveaux/CAT) |  0/4 |  4/4 | +10 rgles + transferts |
| 5 | Aucune MT orpheline |  |  | Aprs nettoyage |
| 6 | Reco prvention |  |  | +1 reco + 2 MT |
| 7 | Wording OK |  |  si valid | |
| 8 | Sens clinique renseign |  |  | |

> **Anomalies dtectes** :
> -  **MT_V4_062 et MT_V4_076 (SAD/SSIAD)** mal affectes  M4  artefact data
> -  **CAT_03 : 0 MT contributive**  plan de crise sans formalisation
> -  **7 recos lies  1 seule rgle**  dsquilibre massif corrig par nouvelles activations
> -  **4/7 questions conditionnelles**  M4 ne s'active que pour proches psy/addiction

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 0 formalises | 4 |
| Rgles d'activation | :1 :0 :0 | :7 :4 :1 (si transferts M3 + propositions) |
| MT totales | 22 | 20 (-2 erreurs) + 6 proposes = 26 |
| MT contributives | 10 | 12 (+2 proposes) |
| Domaine  /  | 4 / 18 | 7 / 19 |
| ASR | Non formule | M4-A  (dpend propositions) / M4-B  si STRUC valide |
| Reco prvention |  |  |
| Checks OK | 1/8 | 8/8 (si propositions valides) |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 4 catgories formalises (addiction, psy, crise, post-hospit) |  Propos |
| 2 | 3 rgles transfres de M3 (questions 100% M4) |  Propos |
| 3 | 10 nouvelles rgles proposes (K3 0/4  4/4) |  Propos |
| 4 | 1 rgle Critique (triple signal E50+E51+E47) |  Propos |
| 5 | MT_V4_062/076 (SAD/SSIAD) retires  erreur data |  Propos |
| 6 | 6 MTs proposes (CAT_01 + CAT_03) |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | **Accepter le transfert des 3 rgles M3  M4** |  |
| 2 | **Valider la rgle Critique (triple signal psy)**  seuil le plus grave de V5 |  |
| 3 | **CAT_03 : ajouter MT contributives plan de crise** |  |
| 4 | **Retirer MT_V4_062/076** (erreur data SAD/SSIAD) |  |
| 5 | **7 recos  Redistribuer sur nouvelles rgles** (pas toutes sur STD_01) |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,ub=`#  Fiche de Validation MP  M5  Coordination des soins et personne de rfrence

> **Vulnrabilit** : V5  Parcours Mdical  
> **ASR** :  M5-A : Coordinateur de soins identifi et oprationnel | M5-B : Articulation inter-professionnels structure   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## BIG PICTURE  Positionnement M5

| MP | Sous-bloc | Nb Q | Thmatique |
|---|---|---|---|
| M1 | 6.1  Diagnostic | 7 | Comprhension maladie, errance, ALD |
| M2 | 6.2  Accs soins | 9 | Proximit, difficults accs, ETP, spcialistes |
| M3 | 6.3  Urgences/hospit | 4 | RDV imprvus, ruptures suivi, bilan synthse |
| M4 | 6.4  Addictions/psy | 7 | Suivi addictologie, suivi psy, plan crise |
| **M5** | **6.5  Coordination** | **4** | **Coordinateur soins, rfrent professionnel, besoin coordination, intervenants domicile** |
| M6 | 6.6  Vision globale | 6 | Organisation, inquitudes, plan de route, valuations |

M5 est le **MP pivot** de V5. La coordination est le fil conducteur qui fait que les M1-M4 fonctionnent ensemble. Un aidant peut avoir un bon diagnostic (M1), un bon accs aux soins (M2), un suivi stable (M3) et un traitement psy observ (M4), mais si personne ne coordonne, tout s'effondre.

>  **Particularit M5** : MP compact (4Q) mais transversal. E52 (coordinateur) est utilise en cross-activation dans **V4_M3_CCC_01** (M3). O59 (intervenants domicile) est une question de PROFILING  choix multiples qui cartographie les acteurs au domicile.

>  **Cross-activations** :
> - V4_M5_CCC_01 utilise **E54** (M6  organisation soins) + **E57** (M6  plan de route). C'est une CCC cross-M6.
> - E52 est utilise dans V4_M3_CCC_01 (M3) pour dtecter "pas de bilan + pas de coordinateur".

---

## QUESTIONS TRANSVERSALES

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** | Actions 1, 3 |
| T3 | **Actionnabilit** | Actions 3, 4, 5 |
| T4 | **Proportionnalit** | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** | Actions 3, 4 |
| T6 | **Chane d'action** | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  M5

| # | Question ID | Libell | Classification | Options de rponse |
|---|---|---|---|---|
| 1 | E52 | Avez-vous une personne de rfrence qui coordonne les soins de votre proche ? | Facteur | Oui, clairement identifie  Oui, mais pas sre du rle  Non, personne ne coordonne vraiment  Je ne sais pas |
| 2 | E53 | Pour vous, qui est le professionnel 'rfrent' pour la sant de votre proche ? | Facteur | Mdecin traitant  Spcialiste hospitalier  Spcialiste libral  Aucune personne  Je ne sais pas |
| 3 | E55 | Une meilleure coordination amliorerait-elle beaucoup la situation ? | tat | Non, pas vraiment  Oui, un peu  Oui, normment |
| 4 | O59 | Professionnels/services intervenant dj au domicile ? (choix multiples) | Facteur | SAD/aux. vie  SAD/aide mnagre  SSIAD  IDE libral  Kin  APA  Tl-assistance  Portage repas  ducateur  Podologue  Ergothrapeute  Aucun  Autre |

> Total : **4 questions** rattaches  M5
>  **O59 est un inventaire** (choix multiples, 13 options)  c'est du PROFILING, pas une mesure d'tat. Elle sert  contextualiser les actions, pas  dclencher des rgles.

### Questions candidates exclues

| Question ID | Pertinente pour M5 ? | Raisonnement |
|---|---|---|
| E54 |  Cross-utilise | Organisation des soins  M6, mais **utilise dans V4_M5_CCC_01** (cross-activation M6M5) |
| E57 |  Cross-utilise | Plan de route  M6, mais **utilise dans V4_M5_CCC_01** |
| E42-E51 |  Non | Domaines M3/M4 |
| E34-E41 |  Non | Domaines M1/M2 |
| E56/E58-E60 |  Non | Vision globale / valuations  M6 |

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Questions  se poser  Action 1

| # | Question | Rponse |
|---|---|---|
| 1.1 | Catgories distinctes ? |  Coordinateur de soins, rfrent mdical, besoin de coordination, intervenants domicile = 3-4 axes |
| 1.2 | Angle mort ? |  O59 = inventaire profiling  gnrer une reco serait artificiel |
| 1.3 | Fusionner ? |  E52 (coordinateur) et E53 (rfrent) traitent du mme sujet : "qui pilote ?". Fusionner = cohrent. |
| 1.4 | clater ? | Non |
| 1.5 | Combien ? | 2 catgories. E52+E53 = CAT_01 (qui pilote ?), E55 = CAT_02 (besoin ressenti). O59 = pas de CAT propre (profiling). |

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | M5_CAT_01 | Pilotage et rfrent mdical | Identifier et structurer la fonction de coordination/rfrent | Legacy  (E52, E53) |
| 2 | M5_CAT_02 | Besoin de coordination | valuer et rpondre au besoin de coordination exprim | Legacy  (E55) |

###  Raisonnement

> **Pourquoi 2 et pas 3 ?** O59 inventorie les intervenants domicile mais ne dclenche pas d'action spcifique. Son rle est de contextualiser les recos de CAT_01 (adapter les actions en fonction des acteurs dj prsents). Crer une CAT_03 "intervenants domicile" serait artificiel.
>
> **CCC cross-M6** : V4_M5_CCC_01 (E54+E57) peut activer M5 quand la situation globale est ingrable. Cliniquement, a active CAT_01 (pas de pilotage  besoin de mettre en place la coordination).

> **Dcision Dr. Monka** :  Valid 2 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Questions  se poser  Action 2

| # | Question | Rponse |
|---|---|---|
| 2.1 | Chaque question  1 rgle ? |  1/4  Seule E52 est dans une rgle propre. E53, E55, O59 = orphelines. |
| 2.2 | Combos significatifs ? |  CCC_01 (E54+E57 cross-M6) est pertinent |
| 2.3 | Niveaux justifis ? |  1 STD + 1 CCC  K3 OK pour CAT_01 si CCC rattach |
| 2.4 | Combos multi-questions ? |  1 combo (CCC_01) |
| 2.5 | Rponses extrmes ? |  E53 = "Aucune personne rfrente"  pas de rgle ! |
| 2.6 | 2 niveaux par CAT ? |  CAT_01  (STD+CCC), CAT_02  (0 |
| 2.7 | Rgle active plusieurs CAT ? | CCC_01 peut tre rattach  CAT_01 |

### Catgorie 1  Pilotage et rfrent mdical

> **E52** :  Personne de rfrence qui coordonne les soins ? 
> Options :  Oui, identifie /  **Oui, mais pas sr du rle** /  **Non, personne ne coordonne** /  **Je ne sais pas**

> **E53** :  Qui est le professionnel rfrent ? 
> Options :  Mdecin traitant /  Spcialiste hospitalier /  Spcialiste libral /  **Aucune personne** /  **Je ne sais pas**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M5_STD_01 | E52 = "Non, personne ne coordonne vraiment" | Activer CAT_01 | Aucun coordinateur identifi | Legacy  |
|  CCC | V4_M5_CCC_01 | E54  {"Souvent trs complique", "Ingrable"} **ET** E57 = "Non, on avance au jour le jour" | Activer CAT_01 | Parcours non lisible, non pilot, risque de rupture | Legacy  (cross E54+E57/M6) |

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M5_STD_P01 | E53 = "Aucune personne vraiment rfrente" | Activer CAT_01 | Pas de rfrent identifi  risque de fragmentation |  Propos |
|  Standard | V4_M5_STD_P02 | E52 = "Oui, mais je ne suis pas sre de son rle" | Activer CAT_01 | Coordinateur flou  clarifier le rle |  Propos |
|  CCC | V4_M5_CCC_P01 | E52 = "Non" **ET** E53 = "Aucune personne" | Activer CAT_01 | Ni coordinateur ni rfrent  vide complet |  Propos |
|  Critique | V4_M5_CRIT_P01 | E52 = "Non" **ET** E55 = "Oui, normment" | Activer CAT_01 + CAT_02 | Aucun coordinateur + besoin maximal ressenti = urgence |  Propos |

> **K3 CAT_01** :  STD + CCC + CRIT (si propositions valides)

### Catgorie 2  Besoin de coordination

> **E55** :  Une meilleure coordination amliorerait la situation ? 
> Options :  Non, pas vraiment /  **Oui, un peu** /  **Oui, normment**

>  **0 rgle legacy** pour CAT_02.

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M5_STD_P03 | E55 = "Oui, normment" | Activer CAT_02 | Besoin ressenti maximal   prendre en compte |  Propos |
|  CCC | V4_M5_CCC_P02 | E55 = "Oui, normment" **ET** E52 = "Non" | Activer CAT_02 | Besoin maximal + pas de coordinateur |  Propos |

> **K3 CAT_02** :  si propositions valides (STD + CCC)

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification |
|---|---|---|
| 1 | STD_P01 : E53 = "Aucune personne rfrente" | Pas de rfrent malgr des besoins |
| 2 | STD_P02 : E52 = "pas sr du rle" | Coordinateur flou   clarifier |
| 3 | CCC_P01 : E52 + E53 = double vide | Ni coordination ni rfrence |
| 4 | CRIT_P01 : E52 + E55 = vide + besoin max | Urgence de coordination |
| 5 | STD_P03 : E55 = "normment" | Besoin ressenti simple |
| 6 | CCC_P02 : E55 + E52 = combo | Besoin + vide |

> **Contrle K3** :  CAT_01  / CAT_02   
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

### CAT_01  Pilotage et rfrent

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_047 | Valoriser l'organisation actuelle des soins | ORGA | IDEC |  | Legacy  |
| MT_V4_102 | Expliquer le rle de coordination des soins | INFO | IDEC |  | Legacy  |
| MT_V4_105 | Vrifier que le rle de coordination est bien oprationnel | INFO | IDEC |  | Legacy  |
| MT_V4_002 | Prendre contact avec un ergothrapeute du territoire | ORGA | IDEC |  | Legacy  |
| MT_V4_049 | Identifier un professionnel rfrent | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_093 | Prendre RDV avec ducateur spcialis / contacter CMP de secteur | SEC | IDEC |  | Legacy  |
| MT_V4_101 | Vrifier la transmission des informations mdicales | INFO | IDEC |  | Legacy  |
| MT_V4_129 | Confirmer le rle de rfrent du mdecin traitant | MED | Mdecin traitant |  | Legacy  |
| MT_V4_132 | Identifier le champ d'intervention du spcialiste | MED | Mdecin spcialiste |  | Legacy  |

####  Pourquoi 9 MT ?

**Pourquoi pas 1 de moins ?**
-  MT_V4_002 ("prendre contact avec ergothrapeute") est trs spcifique et semble mal affecte dans M5. Un ergothrapeute relve de M6/valuations spcialises ou de V4 (fragilit physique). **Proposition : dplacer ou retirer.**
-  MT_V4_093 ("prendre RDV ducateur spcialis / CMP") est trs directif et nomme des structures spcifiques. En M5, le rle est d'identifier LE rfrent, pas de contacter tous les intervenants. **Proposition : reformuler** en "Explorer les dispositifs de coordination du territoire".

**Pourquoi pas 1 de plus ?**
-  **Proposition** : MT STRUC "Formaliser un annuaire du rseau de soins du proche" (acteur IDEC). O59 inventorie les intervenants mais aucune MT ne structure cette information.

### CAT_02  Besoin de coordination

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_021 | Mettre en place une coordination renforce et prioritaire | ORGA | IDEC |  | Legacy  |
| MT_V4_029 | Valoriser la prparation et la coordination existantes | ORGA | IDEC |  | Legacy  |
| MT_V4_036 | Identifier les points o la coordination pourrait tre amliore | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_041 | Analyser les dysfonctionnements de l'organisation actuelle | ORGA | IDEC |  | Legacy  |
| MT_V4_042 | Confirmer que la coordination actuelle est juge suffisante | ORGA | IDEC |  | Legacy  |
| MT_V4_075 | Prioriser la coordination comme axe majeur d'intervention | SEC | IDEC |  | Legacy  |

####  Pourquoi 6 MT ?

**Pourquoi pas 1 de moins ?**
-  MT_V4_029 ("valoriser la coordination existante") et MT_V4_042 ("confirmer coordination suffisante") semblent redondantes dans le contexte d'un MP de coordination DFAILLANTE. Si la coordination est bonne, on est en prvention, pas en action. **Proposition : dplacer vers la reco prvention.**

**Pourquoi pas 1 de plus ?**
-  **5 MT ORGA sur 6**  un seul SEC (MT_V4_075). Pas de MED, pas de STRUC. La coordination EST une action ORGA par nature, mais il manque un levier mdical.
-  **Proposition** : MT MED "Solliciter un RDV de concertation pluriprofessionnelle" (acteur Mdecin traitant)  transforme le besoin de coordination en action mdicale concrte.

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | Retirer/dplacer MT_V4_002 (ergothrapeute  M6 ou V4) |  Propos |  |
| 2 | Reformuler MT_V4_093 (trop directif) |  Propos |  |
| 3 | Ajouter MT STRUC : annuaire rseau soins (CAT_01) |  Propos | MT_V5_M5_P01 |
| 4 | Dplacer MT_V4_029/042 vers prvention |  Propos |  |
| 5 | Ajouter MT MED : concertation pluriprofessionnelle (CAT_02) |  Propos | MT_V5_M5_P02 |

> **Condition ASR par catgorie** :
> - CAT_01 :  3 (SEC 1 + MED 2)  ASR complte 
> - CAT_02 :  1 (SEC 1)  ASR partielle  ( 2 si proposition valide)

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

### Tableau consolid des MT de M5 (rsum)

> **Rsum** :
> - Total MT : 15 legacy + 2 proposes = 17
> - Domaine  Mdical : 5 / Domaine  Mdico-social : 10
> - Contributives () : 3  SEC: 1, MED: 2
> - Non-contributives () : 12  ORGA: 8, INFO: 4

>  **Ratio contributive/non-contributive : 3/15 = 20%**. C'est le ratio le plus faible de V5 (et l'un des plus faibles du KERNEL). La coordination est par nature un acte ORGA/INFO (on organise, on informe, on met en lien), mais la faiblesse en SEC/MED/STRUC limite la traabilit des actions.

###  Propositions

| # | Proposition | Justification |
|---|---|---|
| 1 | MT_V4_002 (ergothrapeute)  M6 ou V4 | Inadapte au primtre coordination |
| 2 | Augmenter le ratio contributif (SEC/MED/STRUC) | 20%  cible 30% minimum |

> **Dcision Dr. Monka** :  Valid |  Modifications

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording des Recos de base

| CAT | Reco ID | Reco Utilisateur _(legacy)_ | / |
|---|---|---|---|
| CAT_01 | M5_RECO_01 | Clarifier l'organisation actuelle des soins |  "Clarifier" = trop flou pour de la coordination |
| CAT_01 | M5_RECO_02 | Faire le point avec l'aidant sur les intervenants existants |  Correct |
| CAT_02 | M5_RECO_03 | Mettre en place une coordination renforce et structure |  Pertinent |

>  **Wording propos** :

| CAT | Reco ID | Reco Utilisateur propose | Reco IDEC propose |
|---|---|---|---|
| CAT_01 | M5_RECO_01 | Coordination des soins  structurer | Identifier et formaliser le rle du coordinateur |
| CAT_01 | M5_RECO_02 | Rfrent mdical  confirmer | Confirmer le rfrent avec le MT et cartographier le rseau |
| CAT_02 | M5_RECO_03 | Coordination renforce ncessaire | Organiser une concertation pluriprofessionnelle |

> **Dcision Dr. Monka** :  Wording valid |  Corrections

---

### Phase 2  Versioning par criticit

#### CAT_01  Pilotage et rfrent

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Le parcours de soins de votre proche gagnerait  avoir un coordinateur clairement identifi | Identifier un coordinateur et clarifier son rle auprs de l'aidant |
|  CCC ( 30j) | Aucun coordinateur et organisation juge ingrable  une mise en place rapide est ncessaire | Organiser une concertation pour mettre en place une coordination dans les 30 jours |
|  Critique ( 7j) | Aucune coordination et besoin maximal exprim  contactez immdiatement votre IDEC | Dclencher une mise en place de coordination en urgence et identifier un rfrent sous 7 jours |

#### CAT_02  Besoin de coordination

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Vous ressentez un besoin fort de coordination  parlez-en avec votre IDEC | valuer les points de friction et proposer des amliorations cibles |
|  CCC ( 30j) | Besoin de coordination maximal sans coordinateur  une intervention structure est urgente | Mettre en place un plan de coordination dans les 30 jours |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

| | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Prvention | La coordination des soins de votre proche fonctionne bien  continuez  maintenir le lien avec les professionnels | Confirmer la stabilit de la coordination  vrifier que le rfrent est toujours en place |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V5_M5_PREV_01 | Vrifier que le coordinateur est toujours en place | ORGA | Interroger l'aidant sur l'volution de la coordination | La personne qui coordonne les soins de votre proche est-elle toujours la mme ? |
| MT_V5_M5_PREV_02 | Confirmer que les transmissions d'informations fonctionnent | INFO | Vrifier les flux d'information entre professionnels | Les professionnels qui s'occupent de votre proche communiquent-ils bien entre eux ? |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question  1 rgle |  1/4 |  3/4 (O59 = profiling) | +5 proposes |
| 2 | Chaque rgle  1 reco |  |  | 3 recos |
| 3 | Chaque catgorie  ses MT |  |  | MT bien distribues |
| 4 | K3 (2 niveaux/CAT) |  1/2 |  2/2 | +propositions |
| 5 | Aucune MT orpheline |  |  | Aprs nettoyage |
| 6 | Reco prvention |  |  | +1 reco + 2 MT |
| 7 | Wording OK |  |  si valid | |
| 8 | Sens clinique renseign |  |  | |

> **Anomalies dtectes** :
> -  **MT_V4_002** (ergothrapeute)  mal affecte  M5
> -  **Ratio contributif 20%**  le plus faible de V5
> -  **O59 n'a pas de rgle**  profiling pur, acceptable mais  documenter

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 0 formalises | 2 |
| Rgles d'activation | :1 :1 | :4 :3 :1 |
| MT totales | 15 | 13 (-2 dplaces) + 2 proposes = 15 |
| MT contributives | 3 | 4 (+1 propose) |
| Domaine  /  | 5 / 10 | 5 / 10 |
| ASR | Non formule | M5-A  / M5-B  |
| Reco prvention |  |  |
| Checks OK | 3/8 | 8/8 |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 2 catgories formalises (pilotage/rfrent, besoin coordination) |  Propos |
| 2 | 6 nouvelles rgles proposes (dont 1 Critique) |  Propos |
| 3 | O59 documente comme profiling  pas de rgle |  Propos |
| 4 | MT_V4_002  dplacer |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | **Valider le CRIT_P01** (E52+E55 = vide + besoin max) |  |
| 2 | **Ajouter MT contributives** pour augmenter ratio |  |
| 3 | **O59 : gnrer des MT contextuelles ?** (si aucun intervenant domicile  alerte) |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`,cb=`#  Fiche de Validation MP  M6  Vision globale du parcours de soins et valuations spcialises

> **Vulnrabilit** : V5  Parcours Mdical  
> **ASR** :  M6-A : Parcours de soins lisible et pilot | M6-B : valuations spcialises ralises et suivies   
> **Date de validation** : ../../2026  
> **Valid par** :  Dr. Monka |  Antonin  
> **Statut** :   valider

---

## BIG PICTURE  Positionnement M6

| MP | Sous-bloc | Nb Q | Thmatique |
|---|---|---|---|
| M1 | 6.1  Diagnostic | 7 | Comprhension maladie, errance, ALD |
| M2 | 6.2  Accs soins | 9 | Proximit, difficults accs, ETP, spcialistes |
| M3 | 6.3  Urgences/hospit | 4 | RDV imprvus, ruptures suivi, bilan synthse |
| M4 | 6.4  Addictions/psy | 7 | Suivi addictologie, suivi psy, plan crise |
| M5 | 6.5  Coordination | 4 | Coordinateur soins, rfrent professionnel |
| **M6** | **6.6  Vision globale** | **6** | **Organisation soins, inquitudes, plan de route, valuations griatriques, TND** |

M6 est le **MP de synthse** de V5. Il prend du recul sur l'ensemble du parcours : comment l'aidant peroit-il l'organisation ? Qu'est-ce qui l'inquite le plus ? Y a-t-il un plan de route ? Les valuations spcialises (griatriques, TND) sont-elles en place ? C'est le MP qui ferme la boucle.

>  **Particularit M6** : MP le plus **htrogne** de V5  il mlange des questions de perception (E54 organisation, E56 inquitudes, E57 plan de route) avec des questions factuelles (E58 valuations griatriques, E59/E60 TND). Les 2 dernires sont **conditionnelles** (N3 = vieillissement pour E58, N3 = neurodveloppement + O1 = enfant pour E59/E60).

>  **0 rgle legacy**  c'est le MP de V5 avec le pire score : 6 recos TOUTES avec \`activation_rule_id = null\`. Aucune activation programme. Le moteur ne dclenche RIEN pour M6.

>  **Cross-activations** : E54 et E57 sont utilises en cross par V4_M5_CCC_01 (M5).

---

## QUESTIONS TRANSVERSALES

| # | Question transversale | Quand s'y rfrer |
|---|---|---|
| T1 | **Cohrence inter-MP** | Actions 1, 3, 4, 6 |
| T2 | **Couverture clinique** | Actions 1, 3 |
| T3 | **Actionnabilit** | Actions 3, 4, 5 |
| T4 | **Proportionnalit** | Actions 1, 2, 3 |
| T5 | **Autonomie aidant** | Actions 3, 4 |
| T6 | **Chane d'action** | Actions 3, 4 |

---

## 0. DONNES FIGES  Questions rattaches  M6

| # | Question ID | Libell | Classification | Options | Condition |
|---|---|---|---|---|---|
| 1 | E54 | Comment dcririez-vous l'organisation des soins ? | tat | Plutt simple  Grable mais complique  Souvent trs complique  Ingrable |  |
| 2 | E56 | Qu'est-ce qui vous inquite le plus pour la sant dans les prochains mois ? | tat | Chutes  Mmoire/comportement  Alimentation/poids  Urgences  Maintien domicile  Autre  JSP |  |
| 3 | E57 | Impression qu'il existe un plan de route clair pour la suite des soins ? | tat | Oui, c'est clair  Partiellement  Non, on avance au jour le jour |  |
| 4 | E58 | valuation spcialise lie  l'ge (mmoire, griatrie, chutes) ? | Facteur | Consultation mmoire  Bilan griatrique  Bilan chutes  Autre valuation  Aucune | N3 = 1 ou 3 (vieillissement/chronique) |
| 5 | E59 | Enfant orient vers structure TND ? | Facteur | Oui, val en cours  Oui, mais en attente  Non, personne  JSP | N3 = 2 ou 4, O1 = 1 (enfant + neuro) |
| 6 | E60 | Quels professionnels pour l'valuation de l'enfant ? (choix multiples) | Facteur | Pdiatre  Neuropdiatre  Pdopsychiatre  Psychologue  Orthophoniste  Psychomotricien  CAMSP/CMPP  Aucun | N3 = 2 ou 4, O1 = 1 |

> Total : **6 questions** rattaches  M6
>  **E58 = griatrie** : conditionne N3 = 1 (vieillissement) ou 3 (maladie chronique)
>  **E59/E60 = neurodveloppement enfant** : triple condition N3 + O1 = enfant. Population trs spcifique.
>  **E54 et E57 sont universelles**  elles s'affichent pour tous.
>  **E56 est un indicateur de proccupation**  pas de bonne/mauvaise rponse, c'est un signal d'orientation.

### Questions candidates exclues

| Question ID | Pertinente pour M6 ? | Raisonnement |
|---|---|---|
| E52/E53/E55/O59 |  Non | Coordination  M5 |
| E42-E51 |  Non | Urgences/hospit/psy/addiction  M3/M4 |
| E34-E41, N17, O17-O24 |  Non | Diagnostic/accs soins  M1/M2 |

---

## ACTION 1  QUOI : Catgories de Reco/Actions

###  Questions  se poser  Action 1

| # | Question | Rponse |
|---|---|---|
| 1.1 | Catgories distinctes ? |  Vision d'organisation, plan de route, inquitudes, valuations griatriques, valuations TND = 3-5 axes |
| 1.2 | Angle mort ? |  E56 (inquitudes) est un signal d'ORIENTATION  elle dispatche vers d'autres MP/thmatiques (chutes  V4, mmoire  M1/M6, etc.) |
| 1.3 | Fusionner ? |  E54 (organisation) et E57 (plan de route) sont deux faces du mme sujet : "le parcours est-il pilot ?". Fusionner = cohrent. |
| 1.4 | clater ? |  E58 (griatrie) et E59/E60 (TND) couvrent des populations TRS diffrentes (personnes ges vs enfants). Ne PAS fusionner. |
| 1.5 | Combien ? | 4 catgories. E54+E57 = CAT_01 (pilotage global), E56 = CAT_02 (inquitudes), E58 = CAT_03 (griatrie), E59/E60 = CAT_04 (TND). |

### Catgories identifies

| # | Catgorie ID | Nom de l'action | Description clinique courte | Source |
|---|---|---|---|---|
| 1 | M6_CAT_01 | Lisibilit et pilotage du parcours | Rendre l'organisation des soins comprhensible et pilote | Legacy  (E54, E57) |
| 2 | M6_CAT_02 | Inquitudes et anticipation | Identifier et traiter les proccupations principales de l'aidant | Legacy  (E56) |
| 3 | M6_CAT_03 | valuations griatriques | Organiser les bilans spcialiss lis au vieillissement | Legacy  (E58) |
| 4 | M6_CAT_04 | valuations neurodveloppement (TND) | Orienter vers les structures d'valuation des TND enfants | Legacy  (E59, E60) |

###  Raisonnement

> **Pourquoi 4 et pas 3 ?** CAT_03 (griatrie) et CAT_04 (TND) sont mutuellement exclusives (personnes ges vs enfants). Les fusionner serait un non-sens clinique. CAT_02 (inquitudes) est un module d'orientation, pas d'action directe  elle sert  prioriser les interventions des autres MP.
>
> **CAT_01 est le miroir de M5_CAT_01** : M5 installe le coordinateur, M6 vrifie que le rsultat est lisible pour l'aidant. M5 = infrastructures, M6 = perception.
>
> **E56 est un "dispatch center"** : selon la rponse (chutes  V4/F1, mmoire  M1/M6_CAT_03, urgences  M3), on oriente vers d'autres MP. C'est unique dans le KERNEL.

> **Dcision Dr. Monka** :  Valid 4 catgories |  Ajouts |  Suppressions

---

## ACTION 2  QUAND : Rgles d'activation par catgorie

###  Questions  se poser  Action 2

| # | Question | Rponse |
|---|---|---|
| 2.1 | Chaque question  1 rgle ? |  **0/6  AUCUNE question n'a de rgle**. C'est le PIRE score du KERNEL entier. |
| 2.2 | Combos significatifs ? |  0 combo exploit |
| 2.3 | Niveaux justifis ? |  0 niveau  rien n'existe |
| 2.4 | Combos multi-questions ? |  Nant |
| 2.5 | Rponses extrmes ? |  E54 = "Ingrable", E57 = "au jour le jour", E59 = "personne ne nous en a parl"  AUCUNE RGLE |
| 2.6 | 2 niveaux par CAT ? |  0/4 K3-conforme |
| 2.7 | Rgle active plusieurs CAT ? | Non (rien n'existe) |

>  **M6 est le SEUL MP de tout le KERNEL avec 0 rgle d'activation et 6 recos existantes.** Les recos existent mais sont inaccessibles  le moteur ne les dclenche jamais. C'est un MP "mort" dans le moteur legacy.

### Catgorie 1  Lisibilit et pilotage du parcours

> **E54** :  Organisation des soins ? 
> Options :  Plutt simple /  **Grable mais complique** /  **Souvent trs complique** /  **Ingrable**

> **E57** :  Plan de route clair ? 
> Options :  Oui /  **Partiellement** /  **Non, au jour le jour**

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M6_STD_P01 | E57 = "Non, on avance au jour le jour" | Activer CAT_01 | Pas de plan de route  parcours au jour le jour |  Propos |
|  Standard | V4_M6_STD_P02 | E54  {"Souvent trs complique", "Ingrable"} | Activer CAT_01 | Organisation perue comme trs difficile |  Propos |
|  CCC | V4_M6_CCC_P01 | E54  {"Souvent trs complique", "Ingrable"} **ET** E57 = "Non, au jour le jour" | Activer CAT_01 | Parcours non lisible et non pilot |  Propos (= mme condition que V4_M5_CCC_01, mais activant M6 au lieu de M5) |
|  Critique | V4_M6_CRIT_P01 | E54 = "Ingrable" **ET** E57 = "Non, au jour le jour" | Activer CAT_01 | Parcours ingrable + au jour le jour = effondrement |  Propos |

> **K3 CAT_01** :  STD + CCC + CRIT

### Catgorie 2  Inquitudes et anticipation

> **E56** :  Qu'est-ce qui vous inquite le plus ? 
> Options :  Chutes /  Mmoire  comportement /  Alimentation  poids /  Urgences /  Maintien domicile /  Autre /  JSP

> E56 est un **indicateur d'orientation**, pas un dclencheur d'action directe. La rponse guide vers d'autres MP :
> - Chutes  V4/F1 (fragilit physique)
> - Mmoire  M1 (comprhension diagnostic) + M6_CAT_03 (valuation griatrique)
> - Alimentation  V4/F2 (nutrition)
> - Urgences  M3 (suivi mdical)
> - Maintien domicile  V4/F6 (autonomie fonctionnelle)

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M6_STD_P03 | E56 = "Le risque qu'il/elle ne puisse plus rester  domicile" | Activer CAT_02 | Inquitude sur le maintien  domicile  signal d'anticipation majeur |  Propos |
|  CCC | V4_M6_CCC_P02 | E56 = "Les allers-retours aux urgences" **ET** E54  {"Souvent trs complique", "Ingrable"} | Activer CAT_02 + CAT_01 | Inquitude urgences + organisation chaotique = besoin immdiat |  Propos |

> **K3 CAT_02** :  si propositions valides (STD + CCC)

### Catgorie 3  valuations griatriques

> **E58** :  valuation spcialise lie  l'ge ?  (choix multiples)
> Options :  Consultation mmoire /  Bilan griatrique /  Bilan chutes /  Autre /  **Aucune**

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M6_STD_P04 | E58 = "Non, aucune" | Activer CAT_03 | Aucune valuation griatrique ralise |  Propos |
|  CCC | V4_M6_CCC_P03 | E58 = "Non, aucune" **ET** E56  {"Les chutes", "La mmoire, le comportement"} | Activer CAT_03 | Pas de bilan + inquitude chute/mmoire = valuation urgente |  Propos |

> **K3 CAT_03** :  si propositions valides (STD + CCC)

### Catgorie 4  valuations TND (enfants)

> **E59** :  Enfant orient vers structure TND ? 
> Options :  Oui, val en cours /  **Oui, mais en attente** /  **Non, personne ne nous en a parl** /  **JSP**

> **E60** :  Professionnels dj intervenus ?  (choix multiples)
> Options :  Pdiatre  Neuropdiatre  Pdopsychiatre  Psychologue  Orthophoniste  Psychomotricien  CAMSP/CMPP /  **Aucun**

**Rgles PROPOSES :**

| Niveau | Rgle ID | Condition SI | ALORS | Sens clinique | Source |
|---|---|---|---|---|---|
|  Standard | V4_M6_STD_P05 | E59 = "Non, personne ne nous en a parl" | Activer CAT_04 | Enfant TND non orient  risque de perte de chance |  Propos |
|  Standard | V4_M6_STD_P06 | E59 = "Oui, mais nous sommes en attente depuis longtemps" | Activer CAT_04 | Attente prolonge  besoin de solutions transitoires |  Propos |
|  CCC | V4_M6_CCC_P04 | E59 = "Non" **ET** E60  "Aucun de ces professionnels" | Activer CAT_04 | Pas d'orientation + pas d'valuation = vide total |  Propos |

> **K3 CAT_04** :  si propositions valides (STD + CCC)

###  Propositions d'amlioration  Rgles

| # | Proposition | Justification |
|---|---|---|
| 1 | STD_P01 : E57 = "au jour le jour" | Pas de plan de route |
| 2 | STD_P02 : E54 = "trs complique" ou "ingrable" | Organisation perue comme chaotique |
| 3 | CCC_P01 : E54 + E57 combo | Parcours non lisible et non pilot |
| 4 | CRIT_P01 : E54 "Ingrable" + E57 "au jour le jour" | Effondrement total du parcours |
| 5 | STD_P03 : E56 = maintien domicile | Inquitude majeure d'anticipation |
| 6 | CCC_P02 : E56 urgences + E54 organisation chaotique | Double signal |
| 7 | STD_P04 : E58 = aucune valuation griatrique | Bilan manquant |
| 8 | CCC_P03 : E58 + E56 chutes/mmoire combo | Bilan manquant + inquitude cible |
| 9 | STD_P05 : E59 = non orient TND | Perte de chance enfant |
| 10 | STD_P06 : E59 = en attente longue | Dlai d'attente TND |
| 11 | CCC_P04 : E59 + E60 = pas orient + pas de pro | Vide total en TND |

> **M6 passe de 0  11 rgles**  la plus grande transformation de tout le KERNEL.

> **Contrle K3** :  CAT_01  / CAT_02  / CAT_03  / CAT_04   
> **Dcision Dr. Monka** :  Valid |  Ajouts |  Modifications

---

## ACTION 3  COMMENT : Micro-Tches par catgorie

### CAT_01  Lisibilit et pilotage du parcours

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_001 | Identifier les points de complexit dans l'organisation | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_015 | Identifier les zones de flou dans la suite du parcours | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_038 | laborer un plan de soins personnalis et partag | ORGA | IDEC |  | Legacy  |
| MT_V4_072 | Identifier les lments manquants dans le suivi | SEC | IDEC |  | Legacy  |
| MT_V4_115 | Vrifier que le plan de soins est  jour | INFO | IDEC |  | Legacy  |

####  Pourquoi 5 MT ?

**Pourquoi pas 1 de moins ?** MT_V4_001 et MT_V4_015 sont proches ("points de complexit" vs "zones de flou") mais complmentaires : 001 = organisation ACTUELLE, 015 = ce qui vient APRS. Garder les 2.

**Pourquoi pas 1 de plus ?**
-  **1 seul MT contributive () sur 5**  MT_V4_072 (SEC). Le plan de soins est labor (ORGA), vrifi (INFO), mais pas formellement structur (STRUC absent).
-  **Proposition** : MT STRUC "Formaliser un document de synthse du parcours partag avec l'aidant" (acteur IDEC)  rendre le plan lisible en DOCUMENT.

### CAT_02  Inquitudes et anticipation

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_014 | valuer la pertinence de chaque acteur dans le plan d'aide | ORGA | IDEC |  | Legacy  |
| MT_V4_040 | valuer le niveau d'autonomie | ORGA | IDEC |  | Legacy  |
| MT_V4_043 | changer avec l'aidant pour prciser la proccupation | ORGA | IDEC |  | Legacy  |
| MT_V4_070 | Orienter vers une valuation ou un suivi spcialis | SEC | IDEC |  | Legacy  |
| MT_V4_088 | Proposer un temps d'change pour explorer les craintes ventuelles | SEC | IDEC |  | Legacy  |
| MT_V4_106 | Faire le point sur l'alimentation et l'volution du poids | INFO | IDEC |  | Legacy  |
| MT_V4_128 | Analyser les causes des passages aux urgences | MED | Professionnel de sant |  | Legacy  |

####  Pourquoi 7 MT ?

**Pourquoi pas 1 de moins ?**
- MT_V4_040 ("valuer autonomie") semble plus V4 (Fragilit) que M6. Mais dans le contexte E56 = "risque de ne plus rester  domicile", c'est pertinent. Garder.
- MT_V4_106 ("alimentation/poids") est trs spcifique  E56 = "alimentation/poids". C'est un MT conditionnel  la rponse. Garder  mais documenter le dispatch.

**Pourquoi pas 1 de plus ?** Les 7 MT couvrent bien les axes d'inquitude. Le dispatch vers les autres MP est assur par les recos, pas les MT.

>  **CAT_02 : 3 MT contributives ()**  SEC 2 + MED 1  ASR possible.

### CAT_03  valuations griatriques

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_008 | valuer le risque de chute au domicile | ORGA | IDEC |  | Legacy  |
| MT_V4_020 | Identifier le type d'valuation ralise | ORGA | Aidant (autonome) |  | Legacy  |
| MT_V4_071 | Vrifier si un RDV est dj prvu, sinon planifier | SEC | IDEC |  | Legacy  |
| MT_V4_108 | Informer sur l'intrt des valuations griatriques | INFO | Aidant (autonome) |  | Legacy  |
| MT_V4_111 | Vrifier la prise en compte des recommandations | INFO | IDEC |  | Legacy  |
| MT_V4_112 | Vrifier l'avance de l'valuation spcialise | INFO | IDEC |  | Legacy  |
| MT_V4_125 | Vrifier les conclusions de la consultation mmoire | MED | Professionnel de sant |  | Legacy  |

####  Pourquoi 7 MT ?

**Pourquoi pas 1 de moins ?** MT_V4_111 et MT_V4_112 sont proches ("prise en compte recommandations" vs "avance valuation"). Mais 111 = SUIVI du bilan fait, 112 = SUIVI du bilan en cours. Garder les 2.

**Pourquoi pas 1 de plus ?** 
-  **Proposition** : MT SEC "Vrifier l'ligibilit  une consultation griatrique longue" (acteur IDEC). Actuellement, on value l'intrt (INFO) mais on ne vrifie pas les conditions d'accs.

>  **CAT_03 : 2 MT contributives ()**  SEC 1 + MED 1  ASR possible.

### CAT_04  valuations TND

| MT_ID | Libell MT | Type | Acteur | / | Source |
|---|---|---|---|---|---|
| MT_V4_103 | Faire le point avec la famille et les professionnels | INFO | IDEC |  | Legacy  |
| MT_V4_104 | Faire le point avec l'aidant et les professionnels | INFO | IDEC |  | Legacy  |
| MT_V4_107 | Informer sur les dispositifs d'accs aux soins (courrier DAC/CPTS) | INFO | Aidant (autonome) |  | Legacy  |
| MT_V4_113 | Vrifier l'avance et les rsultats de l'valuation | INFO | IDEC |  | Legacy  |
| MT_V4_117 | Vrifier la position sur la liste d'attente | INFO | IDEC |  | Legacy  |
| MT_V4_121 | Informer la famille sur les dispositifs existants | INFO | Aidant (autonome) |  | Legacy  |
| MT_V4_022 | changer avec la famille sur l'volution observe | ORGA | IDEC |  | Legacy  |
| MT_V4_068 | Vrifier la mise en uvre du suivi | SEC | IDEC |  | Legacy  |
| MT_V4_119 | Informer sur les parcours d'valuation possibles | INFO | Aidant (autonome) |  | Legacy  |
| MT_V4_136 | Identifier le rfrent au sein de la structure | STRUC | IDEC |  | Legacy  |

####  Pourquoi 10 MT ?

**Pourquoi pas 1 de moins ?**
-  **MT_V4_103 et MT_V4_104** sont quasi-identiques ("point famille" vs "point aidant"). **Proposition : fusionner** en 1 seule MT.
-  **MT_V4_107 et MT_V4_121** sont proches ("informer dispositifs accs soins" vs "informer dispositifs existants"). **Proposition : fusionner.**
-  **7 MT INFO sur 10**  ratio INFO trs lev. C'est cliniquement cohrent pour un MP d'ORIENTATION (TND = besoin d'informations et de navigation dans un systme complexe), mais le manque de SEC/MED limite l'action directe.

**Pourquoi pas 1 de plus ?**
-  **0 MT MED dans CAT_04**  aucun levier mdical direct. Le parcours TND est essentiellement informationnel ct aidant.
-  **Proposition** : MT MED "Solliciter un avis neuropdiatrique pour confirmer l'orientation TND" (acteur Mdecin)  acclrer le diagnostic.

###  Dcisions Action 3

| # | Proposition | Dcision | MT cre |
|---|---|---|---|
| 1 | Ajouter MT STRUC : synthse parcours partage (CAT_01) |  Propos | MT_V5_M6_P01 |
| 2 | Fusionner MT_V4_103/104 (doublon famille/aidant, CAT_04) |  Propos |  |
| 3 | Fusionner MT_V4_107/121 (doublon dispositifs, CAT_04) |  Propos |  |
| 4 | Ajouter MT SEC : ligibilit consultation griatrique (CAT_03) |  Propos | MT_V5_M6_P02 |
| 5 | Ajouter MT MED : avis neuropdiatrique (CAT_04) |  Propos | MT_V5_M6_P03 |

> **Condition ASR par catgorie** :
> - CAT_01 :  1 (SEC 1)  ASR partielle  ( 2 si proposition valide)
> - CAT_02 :  3 (SEC 2 + MED 1)  ASR complte 
> - CAT_03 :  2 (SEC 1 + MED 1)  ASR complte 
> - CAT_04 :  2 (SEC 1 + STRUC 1)  ASR possible  ( 3 si proposition valide)

> **Dcision Dr. Monka** :  Valid |  Modifications MT

---

## ACTION 4  ENRICHIR : Acteurs, Typologie, Domaine

### Tableau consolid des MT de M6 (rsum)

> **Rsum** :
> - Total MT : 29 legacy ( 27 aprs fusions) + 3 proposes = 30
> - Domaine  Mdical : 5 / Domaine  Mdico-social : 24
> - Contributives () : 8  SEC: 4, MED: 2, STRUC: 1, (+1 propos)
> - Non-contributives () : 21  ORGA: 8, INFO: 13
> - Acteurs : IDEC (dominant), Aidant (autonome) 6, Professionnel de sant 2

>  **INFO dominant (13/29 = 45%)**  M6 est un MP d'orientation et d'information. C'est cohrent avec sa nature de "synthse" : il ne fait pas, il claire. Mais le manque de SEC/MED dans CAT_01 et CAT_04 est un frein.

###  Propositions

| # | Proposition | Justification |
|---|---|---|
| 1 | 2 paires de MT  fusionner (doublons CAT_04) | Redondance information |
| 2 | Ajouter des acteurs pdiatriques (neuropdiatre, pdopsychiatre) dans CAT_04 | Population enfant  acteurs pdiatriques |
| 3 | Diversifier le domaine : trop de mdico-social pour les CAT griatrie/TND | Les valuations sont mdicales, pas mdico-sociales |

> **Dcision Dr. Monka** :  Valid |  Modifications

---

## ACTION 5  WORDING : En 2 phases

### Phase 1  Wording des Recos de base

| CAT | Reco ID | Reco Utilisateur _(legacy)_ | / |
|---|---|---|---|
| CAT_01 | M6_RECO_01 | Situation  risque ncessitant une rorganisation globale |  Forte |
| CAT_02 | M6_RECO_02 | Renforcer l'valuation cognitive et le suivi adapt |  Trop spcifique pour un dispatch (E56 couvre 7 thmatiques) |
| CAT_01 | M6_RECO_03 | Clarifier et formaliser les lments manquants du plan de soins |  |
| CAT_03 | M6_RECO_04 | Mettre en place des actions de prvention des chutes |  Spcifique  1 option d'E58 (chutes) alors que E58 a 5 options |
| CAT_04 | M6_RECO_05 | Clarifier la situation et l'historique des orientations |  |
| CAT_04 | M6_RECO_06 | Maintenir l'accompagnement et en valuer les bnfices |  |

>  **Wording propos** :

| CAT | Reco ID | Reco Utilisateur propose | Reco IDEC propose |
|---|---|---|---|
| CAT_01 | M6_RECO_01 | Organisation des soins  revoir globalement | Analyser les dysfonctionnements et proposer une rorganisation |
| CAT_02 | M6_RECO_02 | Inquitude principale identifie   traiter en priorit | Explorer l'inquitude et orienter vers le dispositif adapt |
| CAT_01 | M6_RECO_03 | Plan de soins  formaliser | Clarifier et documenter le plan de soins partag |
| CAT_03 | M6_RECO_04 | valuation griatrique  organiser | Identifier les bilans manquants et planifier les RDV spcialiss |
| CAT_04 | M6_RECO_05 | Orientation TND  clarifier | Faire le point sur les valuations ralises et les orientations en cours |
| CAT_04 | M6_RECO_06 | Accompagnement spcialis TND  poursuivre | Maintenir le lien avec les professionnels et valuer les bnfices |

> **Dcision Dr. Monka** :  Wording valid |  Corrections

---

### Phase 2  Versioning par criticit

#### CAT_01  Lisibilit et pilotage

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Le parcours de soins est peu clair  votre IDEC peut aider  le structurer | Identifier les zones d'ombre et proposer un plan de route |
|  CCC ( 30j) | L'organisation des soins est difficile et sans plan de route  une restructuration est ncessaire | Organiser une synthse et formaliser un plan partag dans les 30 jours |
|  Critique ( 7j) | Le parcours de soins est ingrable et au jour le jour  intervention urgente ncessaire | Convoquer une runion de coordination en urgence pour stabiliser le parcours |

#### CAT_02  Inquitudes et anticipation

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Votre inquitude principale a t identifie  votre IDEC peut vous aider  anticiper | Explorer l'inquitude et proposer des actions de prvention cibles |
|  CCC ( 30j) | Inquitude sur les urgences et organisation chaotique  une prise en charge globale est ncessaire | Croiser les signaux M3 (urgences) et M6 (organisation) pour une rponse coordonne |

#### CAT_03  valuations griatriques

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | Des bilans spcialiss lis  l'ge pourraient aider  parlez-en avec votre IDEC | Informer sur les bilans disponibles et vrifier l'ligibilit |
|  CCC ( 30j) | Aucun bilan griatrique et inquitude sur les chutes/la mmoire  valuation urgente | Planifier une consultation griatrique ou mmoire dans les 30 jours |

#### CAT_04  TND

| Niveau | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Standard | L'valuation de votre enfant est en cours  restez en lien avec les professionnels | Vrifier l'avance et proposer des solutions transitoires si attente |
|  CCC ( 30j) | Aucune valuation TND engage  une orientation rapide est ncessaire | Orienter vers un CAMSP/CMPP ou un neuropdiatre dans les 30 jours |

> **Dcision Dr. Monka** :  Versioning valid |  Corrections

---

## ACTION 6  COHRENCE : Prvention + Contrle global

### 6.1  Reco prvention ()

| | Reco Utilisateur | Reco IDEC |
|---|---|---|
|  Prvention | Le parcours de soins de votre proche est bien organis  continuez  anticiper et  rester vigilant | Confirmer la stabilit du parcours  maintenir le plan de route  jour |

**MT de prvention :**

| MT_ID | Libell | Type | Wording IDEC | Wording Utilisateur |
|---|---|---|---|---|
| MT_V5_M6_PREV_01 | Vrifier que le plan de soins est  jour | ORGA | Interroger l'aidant sur l'volution du plan de soins | Le plan de soins de votre proche a-t-il chang rcemment ? |
| MT_V5_M6_PREV_02 | Anticiper les prochaines tapes du parcours | INFO | Identifier les prochaines chances mdicales | Quelles sont les prochaines tapes prvues pour le parcours de votre proche ? |

### 6.2  Checklist de cohrence

| # | Vrification | Avant | Aprs | Dtail |
|---|---|---|---|---|
| 1 | Chaque question  1 rgle |  0/6 |  6/6 | +11 proposes |
| 2 | Chaque rgle  1 reco |  |  | 6 recos redistribues |
| 3 | Chaque catgorie  ses MT |  |  | MT organises |
| 4 | K3 (2 niveaux/CAT) |  0/4 |  4/4 | +11 rgles |
| 5 | Aucune MT orpheline |  |  | Aprs fusions |
| 6 | Reco prvention |  |  | +1 reco + 2 MT |
| 7 | Wording OK |  |  si valid | |
| 8 | Sens clinique renseign |  |  | |

> **Anomalies dtectes** :
> -  **0 rgle legacy**  le PIRE MP du KERNEL entier. 6 recos existent mais sont inaccessibles.
> -  **2 paires de MT doublons** dans CAT_04 (TND)
> -  **E56 est un dispatch center**  chaque rponse pointe vers un autre MP/V. Design original mais complexe.
> -  **INFO 45%**  ratio le plus lev de V5 (MP de synthse)

---

## SYNTHSE FINALE

| Mtrique | Legacy | Aprs validation |
|---|---|---|
| Catgories de reco | 0 formalises | 4 |
| Rgles d'activation | :0 :0 :0 | :6 :4 :1 |
| MT totales | 29 | 27 (-2 fusions) + 3 proposes = 30 |
| MT contributives | 8 | 9 (+1 propose) |
| Domaine  /  | 5 / 24 | 7 / 23 |
| ASR | Non formule | M6-A  (CAT_01) / M6-B  |
| Reco prvention |  |  |
| Checks OK | 0/8 | 8/8 |

### Rsum des dcisions prises

| # | Dcision | Statut |
|---|---|---|
| 1 | 4 catgories (pilotage, inquitudes, griatrie, TND) |  Propos |
| 2 | 11 rgles proposes (0  11 = plus grande transformation KERNEL) |  Propos |
| 3 | 1 rgle Critique (E54=Ingrable + E57=au jour le jour) |  Propos |
| 4 | E56 "dispatch center" document  7 rponses  5 MP diffrents |  Propos |
| 5 | 2 paires MT fusionnes (CAT_04 TND) |  Propos |
| 6 | 3 MTs proposes (STRUC, SEC, MED) |  Propos |

### Dcisions restantes

| # | Dcision | Priorit |
|---|---|---|
| 1 | **Valider les 11 rgles**  c'est la plus grande cration ex nihilo du KERNEL |  |
| 2 | **E56 dispatch : formaliser le mcanisme de redirection ?** |  |
| 3 | **CRIT_P01 (E54=Ingrable + E57=au jour le jour)**  seuil  confirmer |  |
| 4 | **CAT_01 : ajouter MT contributive (STRUC)** pour ASR |  |
| 5 | **CAT_04 : valider fusion doublons** |  |

### Validation

| Validateur | Statut | Date |
|---|---|---|
| Dr. Monka |  Valid /   revoir | |
| Antonin |  Valid /   revoir | |

---

>  **Ce MP est verrouill une fois les deux validations obtenues.**
`;function eC(n,t,s){const r=[];let l;s==="V5"?l=`MT_V4_\\d+|MT_V5_${n.split("_")[0]}_(?:P|PREV_)\\d+`:s==="V1"||s==="V3"||s==="V4"?l=`MT_${s}_\\d+`:l=`MT_${s}_${n.split("_")[0]}_\\d+`;const u=new RegExp(`\\|\\s*(${l})\\s*\\|[^|]*\\|[^|]*\\|([^|]*)\\|([^|]*)\\|\\s*\\s*\\|`,"g");let c;for(;(c=u.exec(t))!==null;)r.push({id:`${n}_${c[1]}`,label:`${c[1]}  Wording IDEC / Utilisateur`,type:"wording",sectionId:n});const p=/\*\*Dcision Dr\. Monka\*\*\s*:\s*\s*([^|\n]+)/g;for(;(c=p.exec(t))!==null;)r.push({id:`${n}_drmonka_${r.length}`,label:`Dr. Monka: ${c[1].trim()}`,type:"decision",sectionId:n});return r}function Xe(n,t,s){const r=t.split(`
`),l=t.match(/^#\s+\s+Fiche de Validation MP  ([A-Z]\d)  (.+)$/m),u=l?l[1]:n,c=l?l[2]:"",p=t.match(/Total\s*:\s*(\d+)\s*questions/i),h=p?parseInt(p[1]):0,m=new RegExp(`${n}_CAT_\\d+`,"g"),g=t.match(m),C=g?new Set(g).size:0,T=new RegExp(`V\\d_${n}_(STD|CCC|CRIT)_P?\\d+`,"g"),_=t.match(T),S=_?new Set(_).size:0;let b=[];if(s==="V5"){const Y=/MT_V4_\d+/g,x=new RegExp(`MT_V5_${n}_(?:P|PREV_)\\d+`,"g"),z=t.match(Y)||[],te=t.match(x)||[];b=[...z,...te]}else s==="V1"||s==="V3"||s==="V4"?b=t.match(new RegExp(`MT_${s}_\\d+`,"g"))||[]:b=t.match(new RegExp(`MT_${s}_${n}_\\d+`,"g"))||[];const D=new Set(b).size,R=[];let P="",N=[],$=0;for(const Y of r)if(Y.startsWith("## ")){if(P){const x=N.join(`
`),z=`${n}_section_${$}`;R.push({id:z,title:P,content:x,decisionItems:eC(z,x,s)}),$++}P=Y.replace(/^##\s+/,""),N=[]}else N.push(Y);if(P){const Y=N.join(`
`),x=`${n}_section_${$}`;R.push({id:x,title:P,content:Y,decisionItems:eC(x,Y,s)})}return{id:n,title:u,subtitle:c,vulnerability:s,questions:h,categories:C,rules:S,microTasks:D,rawContent:t,sections:R}}function db(){return[Xe("R1",F2,"V1"),Xe("R2",z2,"V1"),Xe("R3",G2,"V1"),Xe("R4",H2,"V1"),Xe("A1",B2,"V2"),Xe("A2",Q2,"V2"),Xe("A3",K2,"V2"),Xe("A4",$2,"V2"),Xe("S1",J2,"V3"),Xe("S2",W2,"V3"),Xe("S3",Y2,"V3"),Xe("S4",X2,"V3"),Xe("F1",Z2,"V4"),Xe("F2",eb,"V4"),Xe("F3",nb,"V4"),Xe("F4",tb,"V4"),Xe("F5",ib,"V4"),Xe("F6",sb,"V4"),Xe("M1",ab,"V5"),Xe("M2",rb,"V5"),Xe("M3",ob,"V5"),Xe("M4",lb,"V5"),Xe("M5",ub,"V5"),Xe("M6",cb,"V5")]}const pb=`#  Compltude MP  S1  Charge, fatigue et risque d'puisement

> **Vulnrabilit** : V3  Sant de l'Aidant  
> **Template officiel** : [S1.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V3/S1.md)  
> **Score checklist actuel** : 5/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

S1 est le plus gros MP de V3 (9 questions) mais possde le **ratio MT le plus faible du moteur** (0.44 MT/question). En comparaison, les MPs V1/V2 officialiss vont de 1.0  3.5 MT/question. Trois manquements structurels empchent le 8/8 :

| # | Manquement | Check concern | Impact |
|---|---|---|---|
| 1 | **4 questions sans rgle d'activation** (E10, O29, O33, O50) | Check #1 | Questions qui ne dclenchent rien = signaux cliniques ignors |
| 2 | **CAT_02 a 0 MT** (relais SAD) | Check #3 | Catgorie entire sans micro-tche formelle |
| 3 | **CAT_03 a 1 seul niveau** (Standard uniquement) | Check #4 | Pas d'escalade possible pour l'orientation AS |

---

## Manquement 1  Questions sans rgle d'activation

### Le problme

Sur les 9 questions de S1, **4 n'activent aucune rgle** :

| Question | Libell | Options | Pourquoi c'est un problme |
|---|---|---|---|
| **E10** | Moral (stress, inquitude) | a va / Parfois tendue / Souvent tendue / **Dborde** | Un aidant qui rpond  dborde ou au bord de craquer  ne dclenche rien. En V1/V2, un signal de dtresse de cette intensit dclenche au minimum un Standard. |
| **O29** | Retentissement sur votre sant | Pas du tout / Un peu / **Oui** | L'aidant dit que l'aidance retentit sur sa sant  0 action. En V1, chaque  Oui   une question d'impact dclenche au moins une orientation. |
| **O33** | Ressentez-vous une charge ? | Pas du tout / Un peu / **Oui** | L'aidant exprime qu'il ressent une charge  aucune reco. C'est le signal le plus direct du thme S1 et il ne dclenche rien. |
| **O50** | Temps consacr au proche | Pas le temps / 1-5h / 6-10h / **+10h** | Un aidant qui consacre +10h/semaine au proche est  risque de surcharge. Ce facteur quantitatif devrait au minimum activer un Standard. |

### Ce que je propose

>  Les propositions ci-dessous sont des **suggestions cliniques  valider par Dr. Monka**. Chaque proposition inclut le raisonnement et le niveau de criticit propos.

#### Proposition 1.1  Rgle Standard pour E10

\`\`\`
SI E10 =  Je me sens dborde ou au bord de craquer 
ALORS  V3_S1_STD_05 (Standard)  CAT_01 (soutien face  l'puisement)
\`\`\`

**Raisonnement** : E10 mesure le moral sur 4 niveaux. Le niveau 4 ( dborde / au bord de craquer ) est un signal de dtresse psychologique vident. Ne pas activer une reco  ce stade serait une lacune clinique  un aidant qui se dcrit comme  au bord de craquer  psychologiquement doit au minimum tre contact pour valuer sa situation.

**Alternative** : On pourrait aussi activer ds le niveau 3 ( souvent tendue ) en Standard, et rserver le niveau 4 pour un CCC.  discuter avec Dr. Monka.

#### Proposition 1.2  Rgle Standard pour O29

\`\`\`
SI O29 =  Oui  (retentissement sur la sant)
ALORS  V3_S1_STD_06 (Standard)  CAT_01 (soutien face  l'puisement)
\`\`\`

**Raisonnement** : O29 est un auto-diagnostic global d'impact sur la sant. Quand l'aidant dit  oui, a retentit sur ma sant , il faut au minimum proposer un change pour valuer l'ampleur du retentissement et orienter vers le mdecin traitant si ncessaire. C'est aussi un pont clinique vers S3 (sant physique)  un retentissement peru peut justifier un bilan objectif.

#### Proposition 1.3  Rgle Standard pour O33

\`\`\`
SI O33 =  Oui  (charge ressentie)
ALORS  V3_S1_STD_07 (Standard)  CAT_01 + CAT_03
\`\`\`

**Raisonnement** : O33 est littralement la question qui mesure la CHARGE  le thme central de S1. Un  Oui  sur 3 niveaux (pas du tout / un peu / oui) signifie que l'aidant reconnat une charge significative. Cette question devrait activer :
- CAT_01 (valuer la charge et proposer un soutien)
- CAT_03 (orienter vers l'AS pour ajuster les aides  la charge peut tre rduite par des aides supplmentaires)

#### Proposition 1.4  Rgle Standard pour O50

\`\`\`
SI O50 =  Plus de 10h par semaine 
ALORS  V3_S1_STD_08 (Standard)  CAT_02 (relais SAD)
\`\`\`

**Raisonnement** : +10h/semaine d'aide est un volume lev qui corrle avec le risque d'puisement. Ce facteur quantitatif devrait dclencher au minimum une information sur les possibilits de relais (SAD). Le seuil de 10h est un marqueur reconnu dans la littrature sur les aidants.

**Alternative** : On pourrait ajouter le seuil intermdiaire 6-10h pour une activation plus douce (INFO plutt que SAD).  discuter.

---

## Manquement 2  CAT_02 sans MT

### Le problme

La catgorie **CAT_02 (Mise en place de relais  aide  domicile)** a une reco (S1_RECO_02) mais **aucune micro-tche formelle**. La MT SAD (MT_V3_005 =  Confirmer les heures pour le SAD ) est rattache  **S2**, pas  S1.

En comparaison, en V1/V2, chaque catgorie a au minimum 2-3 MT. Une catgorie sans MT signifie que l'IDEC n'a aucune action traable pour mettre en uvre la reco  le suivi est impossible.

### Ce que je propose

#### Proposition 2.1  MT ORGA pour CAT_02

\`\`\`
MT_V3_NEW_01   Rechercher les services d'aide  domicile du territoire du proche 
Type : ORGA | Acteur : IDEC | Domaine : mdico-social |  Non-contributive
\`\`\`

**Raisonnement** : Avant de confirmer les heures (MT_V3_005 dans S2), l'IDEC doit identifier les SAD disponibles sur le territoire. C'est l'action pralable ncessaire : recherche sur Google, contact, vrification des disponibilits. Cette MT existe de facto dans la reco legacy (le texte dit  IDEC contacte les SAD du territoire ) mais n'est pas formalise comme MT.

#### Proposition 2.2  MT SEC pour CAT_02

\`\`\`
MT_V3_NEW_02   Organiser la premire intervention d'aide  domicile avec l'aidant 
Type : SEC | Acteur : IDEC | Domaine : mdico-social |  Contributive
\`\`\`

**Raisonnement** : La mise en place effective du relais est l'action de scurisation centrale de CAT_02. L'IDEC coordonne la premire intervention : confirme les horaires avec l'aidant et le SAD, organise la mise en place, vrifie que l'intervention dmarre. C'est l'quivalent de MT_V3_005 (S2) mais dans le contexte S1 (soulagement de la charge, pas scurisation du proche).

#### Proposition 2.3  MT SEC pour S1_RECO_04 (rpit)

\`\`\`
MT_V3_NEW_03   Mettre en lien l'aidant avec la plateforme de rpit locale 
Type : SEC | Acteur : IDEC | Domaine : mdico-social |  Contributive
\`\`\`

**Raisonnement** : S1_RECO_04 ( Contactez la plateforme de rpit ) est une reco legacy sans MT formelle. La plateforme de rpit est un dispositif essentiel pour les aidants puiss  un moment de pause qui permet de rcuprer. L'IDEC identifie la plateforme du territoire et met en lien l'aidant. Cette MT pourrait tre rattache  CAT_01 plutt que CAT_02 (le rpit est un soutien face  l'puisement, pas un relais quotidien).

---

## Manquement 3  CAT_03 mono-niveau

### Le problme

La catgorie **CAT_03 (Accs aux aides et ajustement)** n'a qu'un seul niveau d'activation : Standard (V3_S1_STD_02, via N8  Non). En V1/V2, les catgories ont au minimum 2 niveaux (Standard + CCC ou CCC + Critique) pour permettre l'escalade.

### Ce que je propose

#### Proposition 3.1  Rgle CCC pour CAT_03

\`\`\`
SI O33 =  Oui  ET O32 =  Oui 
ALORS  V3_S1_CCC_02 (CCC)  CAT_03
\`\`\`

**Raisonnement** : Quand l'aidant ressent une charge (O33 = Oui) ET demande explicitement  tre davantage aid (O32 = Oui), c'est un signal de surcharge combin  un appel  l'aide. Ce double signal justifie une escalade vers CCC : l'orientation vers l'AS devient urgente ( 30 jours) car l'aidant est en situation de besoin immdiat et exprime une demande d'aide.

**Alternative** : Utiliser N8   entre 5 jours et 1 mois  comme CCC pour CAT_03 (arrt prolong  besoin urgent d'ajustement des aides).  discuter.

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD | E10 =  Dborde   CAT_01 | #1 |  Haute |
| 1.2 | Rgle STD | O29 =  Oui   CAT_01 | #1 |  Haute |
| 1.3 | Rgle STD | O33 =  Oui   CAT_01 + CAT_03 | #1 |  Haute |
| 1.4 | Rgle STD | O50 > 10h  CAT_02 | #1 |  Moyenne |
| 2.1 | MT ORGA | Rechercher les SAD du territoire | #3 |  Haute |
| 2.2 | MT SEC | Organiser la premire intervention SAD | #3 |  Haute |
| 2.3 | MT SEC | Mettre en lien avec plateforme de rpit | #3 |  Moyenne |
| 3.1 | Rgle CCC | O33 + O32 = Oui  CCC CAT_03 | #4 |  Moyenne |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  5/9 questions activent |  9/9 questions activent |
| #3  CAT  MT |  CAT_02 = 0 MT |  CAT_02 = 2-3 MT |
| #4  K3 2 niveaux |  CAT_03 mono-niveau |  CAT_03 = STD + CCC |
| **Score global** | **5/8** | **8/8** |

---

> ** Ce document est en attente de validation par Dr. Monka. Une fois valid, les propositions seront intgres dans le template officiel S1.md.**
`,mb=`#  Compltude MP  S2  Inquitudes pour la scurit

> **Vulnrabilit** : V3  Sant de l'Aidant  
> **Template officiel** : [S2.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V3/S2.md)  
> **Score checklist actuel** : 6/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

S2 a 4 questions et 8 MT  un ratio MT/Q de 2.0 qui est correct (comparable  V2). Le problme est **structurel** : 2 questions (E12, E13) n'activent aucune rgle dans S2, et une catgorie n'a qu'un seul niveau d'activation.

| # | Manquement | Check concern | Impact |
|---|---|---|---|
| 1 | **2 questions sans rgle S2** (E12, E13)  activent S1 en cross-MP uniquement | Check #1 | Inquitudes scuritaires intermdiaires ignores dans S2 |
| 2 | **CAT_02 a 1 seul niveau** (Standard uniquement) | Check #4 | Pas d'escalade CCC pour l'intervention CMP |

---

## Manquement 1  E12 et E13 sans rgle S2

### Le problme

Les questions E12 et E13 mesurent les **inquitudes scuritaires** de l'aidant vis--vis du proche. Elles  appartiennent  thmatiquement  S2 mais n'activent aucune rgle dans S2. Elles activent uniquement des rgles **critiques dans S1** en cross-MP :

| Question | Libell | Options | Activation actuelle |
|---|---|---|---|
| **E12** | Inquiet que le proche se fasse du mal | Non / **Parfois** / Oui, souvent | E12 =  Oui, souvent   V3_S1_CRIT_01 (cross-MP S1) |
| **E13** | Inquiet que le proche mette autrui en danger | Non / **Parfois** / Oui | E13 =  Oui   V3_S1_CRIT_02 (cross-MP S1) |

**Ce qui manque** : les rponses **intermdiaires** ( Parfois ) ne dclenchent rien du tout  ni dans S2, ni dans S1. Un aidant qui rpond  Parfois, selon les priodes   E12 exprime une inquitude relle mais pas au niveau critique. C'est exactement le type de signal qui devrait dclencher une action Standard dans S2 : informer, tracer, surveiller l'volution.

### Comparaison avec V1/V2

En V1/V2, **chaque question active au moins une rgle dans son propre MP**. Il n'existe aucun cas o une question  proprit  d'un MP n'active que des rgles dans un autre MP. Le cross-MP S1 pour E12/E13 est cliniquement justifi au niveau Critique, mais le fait que  Parfois  ne dclenche rien est une lacune.

### Ce que je propose

#### Proposition 1.1  Rgle Standard pour E12 dans S2

\`\`\`
SI E12 =  Parfois, selon les priodes 
ALORS  V3_S2_STD_02 (Standard)  CAT_02 (intervention mdico-sociale) + CAT_03 (soutien psy)
\`\`\`

**Raisonnement** : L'aidant exprime une inquitude pisodique pour la scurit de son proche. Ce n'est pas assez grave pour le Critique (V3_S1_CRIT_01 =  Oui, souvent ), mais c'est un signal clinique qui mrite :
- **CAT_02** : Proposer un change avec l'IDEC pour valuer la nature des inquitudes (quand ? dans quels contextes ?). Si les inquitudes sont lies  des troubles du comportement, orienter vers le CMP.
- **CAT_03** : L'inquitude pour la scurit du proche est une source de stress majeure  le soutien psychologique est pertinent mme au niveau  Parfois .

**Pourquoi Standard et pas CCC ?**  Parfois, selon les priodes  indique que le risque n'est pas permanent. Un Standard est proportionn  il dclenche une valuation sans urgence. Si l'valuation rvle un risque plus lev, le suivi IDEC ajustera.

#### Proposition 1.2  Rgle Standard pour E13 dans S2

\`\`\`
SI E13 =  Parfois 
ALORS  V3_S2_STD_03 (Standard)  CAT_02 (intervention mdico-sociale)
\`\`\`

**Raisonnement** : Mme logique que E12. L'aidant exprime que le proche met parfois d'autres personnes en danger. Ce signal intermdiaire justifie une valuation par l'IDEC et potentiellement une orientation vers le CMP, mais sans l'urgence du Critique (E13 =  Oui   V3_S1_CRIT_02).

**Pourquoi seulement CAT_02 et pas CAT_03 ?** Le danger pour autrui est davantage un problme de scurisation mdico-sociale (CMP, surveillance, adaptation du cadre de vie) qu'un problme de soutien psychologique de l'aidant. Le stress de l'aidant face au danger pour autrui est rel, mais la priorit clinique est la scurisation du contexte.

---

## Manquement 2  CAT_02 mono-niveau

### Le problme

La catgorie **CAT_02 (Intervention mdico-sociale renforce  CMP)** n'a qu'un seul niveau d'activation : Standard (via V3_S2_STD_01, E9 = Non). En V1/V2, les catgories ont au minimum 2 niveaux pour permettre l'escalade.

Le CMP est un dispositif lourd (centre mdico-psychologique avec suivi infirmier rapproch). Il est logique de prvoir une escalade quand les inquitudes scuritaires se combinent avec l'isolement.

### Ce que je propose

#### Proposition 2.1  Rgle CCC pour CAT_02

\`\`\`
SI E8  {Souvent, Tout le temps} ET (E12 =  Parfois  OU E13 =  Parfois )
ALORS  V3_S2_CCC_02 (CCC)  CAT_02
\`\`\`

**Raisonnement** : Quand l'aidant est  la fois isol motionnellement (E8 lev) ET inquiet pour la scurit du proche (E12 ou E13 =  Parfois ), la situation est plus grave que chaque facteur isol :
- **Isolement + inquitude scuritaire** = l'aidant fait face seul  un risque. Il n'a pas de relais pour partager la surveillance ni de soutien motionnel pour grer l'angoisse.
- Le CCC est justifi car cette combinaison augmente significativement le risque de passage  l'acte (ngligence du proche par puisement de l'aidant, ou effondrement psychologique de l'aidant).
- L'intervention CMP en CCC ( 30 jours) permet un suivi rapproch avant que la situation ne devienne critique.

**Alternative** : Utiliser uniquement E9 = Non + E12/E13  Non comme CCC (sans E8). Plus simple, mais moins fin cliniquement.  discuter.

---

## Proposition bonus  MT INFO pour CAT_03

### Le contexte

Actuellement, CAT_03 (soutien psychologique) a 2 MT : MT_V3_001 (SEC, orienter vers le psychologue) et MT_V3_010 (ORGA, noter l'isolement). Il manque une MT d'**information**  le premier pas avant l'orientation.

### Proposition 3.1  MT INFO pour CAT_03

\`\`\`
MT_V3_NEW_04   Informer l'aidant sur les dispositifs de soutien psychologique disponibles (psychologue, groupe de parole, ligne d'coute) 
Type : INFO | Acteur : IDEC | Domaine : mdico-social |  Non-contributive
\`\`\`

**Raisonnement** : Beaucoup d'aidants ne connaissent pas les dispositifs d'aide psychologique existants (groupes de parole, lignes d'coute comme Allo Maltraitance, psychologues spcialiss en accompagnement des aidants). L'information est la premire tape de l'orientation  avant de  proposer un soutien psychologique  (MT_V3_001), l'IDEC doit d'abord informer l'aidant de ce qui existe.

En V1/V2, les catgories de soutien ont systmatiquement une MT INFO en amont de la MT SEC d'orientation.

---

## Observation  MT_V3_001 acteur

### Le contexte

MT_V3_001 ( Orienter vers un soutien psychologique ) est assigne  l'acteur **Psychologue** en DB. C'est discutable car c'est l'**IDEC** qui initie l'orientation, pas le psychologue qui s'auto-saisit.

### Ma recommandation

Changer l'acteur de MT_V3_001 de  Psychologue   ** IDEC **. L'IDEC est l'acteur qui ralise l'action (orienter). Le psychologue est le **destinataire** de l'orientation, pas l'initiateur.

>  Ce changement est mineur mais important pour la cohrence du modle acteur. En V1/V2, les MT sont systmatiquement assignes  l'acteur qui RALISE l'action, pas  celui qui la reoit.

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD | E12 =  Parfois   CAT_02 + CAT_03 | #1 |  Haute |
| 1.2 | Rgle STD | E13 =  Parfois   CAT_02 | #1 |  Haute |
| 2.1 | Rgle CCC | E8 lev + E12/E13  Parfois   CCC CAT_02 | #4 |  Moyenne |
| 3.1 | MT INFO | Informer sur les dispositifs psy | Bonus |  Moyenne |
|  | Correction | MT_V3_001 acteur Psychologue  IDEC | Bonus |  Basse |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  2/4 questions activent S2 |  4/4 questions activent S2 |
| #4  K3 2 niveaux |  CAT_02 mono-niveau |  CAT_02 = STD + CCC |
| **Score global** | **6/8** | **8/8** |

---

> ** Ce document est en attente de validation par Dr. Monka. Une fois valid, les propositions seront intgres dans le template officiel S2.md.**
`,fb=`#  Compltude MP  S3  Sant physique et renoncement aux soins

> **Vulnrabilit** : V3  Sant de l'Aidant  
> **Template officiel** : [S3.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V3/S3.md)  
> **Score checklist actuel** : 6/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

S3 est le MP le plus riche en MT de V3 (18 MT dont 16 MED) mais le plus pauvre en rgles d'activation : **1 seule rgle CCC** pour **9 questions**. L'architecture est de type  carte-et-dclenche  : 7 questions factuelles (O37-O43) cartographient la situation mais ne dclenchent RIEN. Seules E18 et O44 activent le CCC.

| # | Manquement | Check concern | Impact |
|---|---|---|---|
| 1 | **7 questions sans rgle** (O37, O38, O39, O40, O41, O42, O43) | Check #1 | Aucune question factuelle ne dclenche d'action  mme un aidant sans MT (O37=Non) ne reoit rien |
| 2 | **K3 non respect**  1 seul niveau (CCC) pour les 3 catgories | Check #4 | Pas d'escalade possible, tout est CCC (30j) ou rien |

---

## Manquement 1  Questions factuelles sans rgle d'activation

### Le problme

Sur les 9 questions de S3, **7 ne dclenchent aucune rgle** :

| Question | Libell | Rponses | Pourquoi c'est un problme |
|---|---|---|---|
| **O37** | Avez-vous un mdecin traitant ? | Oui / **Non** | Un aidant **sans mdecin traitant** n'a aucun filet de scurit mdicale. C'est le signal le plus critique de S3 : pas de MT = pas de bilan possible, pas de suivi. En V1/V2, ce type de  fait binaire ngatif  dclenche TOUJOURS au minimum un Standard. |
| **O38** | Avez-vous des spcialistes ? | Oui / **Non** | Indique une absence de suivi avanc. Moins critique que O37  un aidant peut ne pas avoir besoin de spcialistes. |
| **O39** | Lesquels ? | Liste spcialits | Question de dtail (conditionnel O38=Oui). Sert  cibler les MT de RDV. Pas de rgle ncessaire en soi. |
| **O40** | RDV mdicaux raliss cette anne ? | Oui / **Non** |  Non  = aucun RDV mdical cette anne. C'est un indicateur de **renoncement aux soins**  plus fort que la charge subjective. En sant publique, l'absence de suivi annuel est un facteur de risque majeur. |
| **O41** | Lesquels ? | Liste examens | Question de dtail (conditionnel O40=Oui). Pas de rgle ncessaire en soi. |
| **O42** | Maladies ? | Liste pathologies | Inventaire factuel. Pourrait dclencher une action si pathologies lourdes dtectes (cancer, cardiovasculaire) mais c'est complexe  modliser. |
| **O43** | Mdicaments quotidiens ? | 1-3 / 4-6 / **7+** / Aucun | La **polymdication** (7 mdicaments) est un facteur de risque pharmaceutique reconnu. Un bilan de mdication devient prioritaire. |

### Ce que je propose

>  Seules les questions avec un seuil clinique clair sont proposes comme rgles. O38, O39, O41, O42 sont des questions de contexte qui n'ont pas de seuil d'activation vident.

#### Proposition 1.1  Rgle Standard pour O37

\`\`\`
SI O37 =  Non  (pas de mdecin traitant)
ALORS  V3_S3_STD_01 (Standard)  CAT_02 (accs au MT)
\`\`\`

**Raisonnement** : Un aidant sans mdecin traitant est un aidant sans filet mdical. C'est le cas le plus critique de S3 et le plus simple  adresser : l'IDEC utilise les dispositifs existants (DAC/CPTS, CPAM) pour aider l'aidant  trouver un MT. La reco legacy (S3_RECO_02) existe dj pour cette situation  il manque juste la RGLE qui la dclenche.

**Pourquoi Standard et pas CCC ?** L'absence de MT est un problme structurel, pas une urgence. Le Standard donne 90 jours pour rsoudre  le temps de trouver un MT disponible (pnurie mdicale relle).

#### Proposition 1.2  Rgle Standard pour O40

\`\`\`
SI O40 =  Non  (aucun RDV mdical cette anne)
ALORS  V3_S3_STD_02 (Standard)  CAT_01 (bilan de sant)
\`\`\`

**Raisonnement** : L'absence de suivi mdical annuel est un marqueur de renoncement aux soins. Quand l'aidant n'a ralis AUCUN RDV cette anne, c'est un signal qui justifie une incitation  reprendre le suivi. La reco legacy (S3_RECO_04 :  Demandez un bilan de sant ) existe dj  il manque la rgle.

**Alternative** : Combin avec O44 =  Identique  (pas  Moins bonne  = pas de CCC), on pourrait faire un Standard cibl : l'aidant ne se sent pas plus mal mais ne va pas chez le mdecin  promotion du suivi prventif.  discuter.

#### Proposition 1.3  Rgle Standard pour O43

\`\`\`
SI O43 =  7 mdicaments et plus 
ALORS  V3_S3_STD_03 (Standard)  CAT_03 (bilan mdication)
\`\`\`

**Raisonnement** : La polymdication (7 mdicaments/jour) est un facteur de risque reconnu (interactions mdicamenteuses, effets secondaires cumuls). La reco legacy (S3_RECO_05 :  Bilan de mdication ) existe dj. Le seuil de 7 est standard en griatrie (critre STOPP/START).

**Alternative** : Seuil  4+ mdicaments (polypharmacie modre) en Standard, 7+ en CCC.  discuter.

---

## Manquement 2  K3 non respect (mono-niveau)

### Le problme

Les 3 catgories n'ont qu'un seul niveau (CCC). Aucun Standard. L'aidant est soit en CCC (sant perue dgrade + mauvais sommeil) soit en prvention (). Il n'y a pas de niveau intermdiaire.

### Ce que je propose

Les propositions 1.1, 1.2, et 1.3 ci-dessus rsolvent automatiquement ce manquement :

| Catgorie | Avant | Aprs |
|---|---|---|
| CAT_01 (bilan sant) | CCC seulement | **STD** (O40=Non) + CCC |
| CAT_02 (accs MT) | CCC seulement | **STD** (O37=Non) + CCC |
| CAT_03 (suivi sp/mdic.) | CCC seulement | **STD** (O437) + CCC |

---

## Point complmentaire  Clarification K11

### Le contexte

S3 a 16 MT contributives (MED). En thorie, K11 exige que 100% des MT contributives soient compltes pour valider l'ASR. Mais les 13 MT de spcialistes (MT_V3_015  MT_V3_030) sont conditionnes par O39  seules celles correspondant aux spcialistes dclars par l'aidant sont pertinentes.

### Ma recommandation

K11 devrait s'appliquer **uniquement aux MT actives par les rponses de l'aidant** (O39 pour les spcialistes). L'aidant qui n'a pas de cardiologue ne devrait pas avoir  complter MT_V3_017 pour valider l'ASR.

>  Ce point n'affecte pas le score checklist mais est crucial pour la viabilit du produit. Dr. Monka doit statuer.

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD | O37 = Non  CAT_02 | #1, #4 |  Haute |
| 1.2 | Rgle STD | O40 = Non  CAT_01 | #1, #4 |  Haute |
| 1.3 | Rgle STD | O43  7  CAT_03 | #1, #4 |  Moyenne |
|  | Clarification | K11 conditionn par O39 | ASR |  Haute |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  2/9 questions activent |  5/9 (O39, O41, O42 restent contextuelles  justifi) |
| #4  K3 2 niveaux |  0/3 catgories |  3/3 catgories (STD + CCC) |
| **Score global** | **6/8** | **8/8** |

> **Note** : O38, O39, O41, O42 restent sans rgle individuelle. C'est **justifi** :
> - O38/O39 = questions de dtail qui ciblent les MT (pas d'activation directe)
> - O41 = liste d'examens raliss (idem)
> - O42 = inventaire de pathologies (trop htrogne pour une rgle simple)

---

> ** Ce document est en attente de validation par Dr. Monka. Une fois valid, les propositions seront intgres dans le template officiel S3.md.**
`,hb=`#  Compltude MP  S4  Hygine de vie (activit et sommeil)

> **Vulnrabilit** : V3  Sant de l'Aidant  
> **Template officiel** : [S4.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V3/S4.md)  
> **Score checklist actuel** : 6/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

S4 est le MP le plus lger et le plus problmatique de V3  et potentiellement de tout le moteur. Ses dficits sont **structurels** :

| # | Manquement | Check concern | Svrit | Impact |
|---|---|---|---|---|
| 1 | **2 questions sans rgle** (E17, E19) | Check #1 |  Haute | L'activit physique (E17=Non) ne dclenche rien |
| 2 | **K3 non respect**  1 seul niveau (CCC) | Check #4 |  Haute | Pas de Standard |
| 3 | **0 MT contributive**  ASR non-validable | Check #3 (indirect) |  Critique | Impossible de valider l'ASR  Prserver votre qualit de vie  |
| 4 | **MT legacy possiblement mal-mappes** | Architecture |  Moyenne | MT_V3_007/009/013 semblent appartenir  S1/S2 smantiquement |
| 5 | **Doublon reco** S4_RECO_01  S3_RECO_04 | Clart |  Moyenne | Confusion pour l'aidant et l'IDEC |

---

## Problme structurel  Faut-il garder S4 comme MP autonome ?

### Le constat

S4 cumule les signaux d'un MP sous-dvelopp :
- **1 seule catgorie**, 1 seule reco (quasi-identique  S3_RECO_04)
- **1 seule rgle**, aucun Standard
- **0 MT contributive** (les 3 MT legacy sont ORGA/non-contributives et semblent mal-mappes)
- **Aucune question scorante**  S4 ne contribue pas au score V3
- **E17** (activit physique) n'a pas de reco  le seul indicateur d'hygine de vie proactive est ignor

### Deux approches possibles

#### Approche A  Enrichir S4 (recommande)

Complter S4 pour en faire un vrai MP autonome. Crer une CAT_02  Activit physique , ajouter des MT contributives, diffrencier le wording de S3. S4 deviendrait le MP de la **prvention sant de l'aidant**  un axe clinique distinct et pertinent.

**Avantage** : Conserve la granularit thmatique V3, axe prvention fort.  
**Effort** : Moyen  1 nouvelle catgorie, 2-3 rgles, 3-4 MT.

#### Approche B  Fusionner S4 dans S3

Absorber les 4 questions et la rgle CCC dans S3.

**Avantage** : limine le MP vide.  
**Inconvnient** : S3 passerait de 9  13 questions (trs dense), perte de la distinction suivi/comportement.

> **Ma recommandation** : **Approche A**. S4 couvre un axe clinique rel (hygine de vie, renoncement proactif aux soins) qui est distinct de S3 (suivi mdical existant). L'effort d'enrichissement est limit et le rsultat sera cliniquement plus riche.

---

## Manquement 1  E17 et E19 sans rgle

### Le problme

| Question | Libell | Rponses | Pourquoi c'est un problme |
|---|---|---|---|
| **E17** | Activit physique rgulire ? | Oui / **Non** | L'aidant ne pratique aucune activit physique  aucune reco. L'inactivit physique est un facteur de risque cardiovasculaire, de dpression et d'puisement majeur. Pour un MP ddi  l'hygine de vie, ignorer E17 est contradictoire. |
| **E19** | Soucis de sant actuels | Choix multiples | E19 sert de contexte pour cibler le bilan. Pas de seuil d'activation vident car c'est du choix multiple libre. |

### Ce que je propose

#### Proposition 1.1  Rgle Standard pour E17

\`\`\`
SI E17 =  Non  (pas d'activit physique rgulire)
ALORS  V3_S4_STD_01 (Standard)  CAT_02 (nouvelle  activit physique)
\`\`\`

**Raisonnement** : L'inactivit physique chez les aidants est un facteur aggravant document  elle contribue  l'puisement physique (S1), augmente le risque de pathologies cardiovasculaires (S3), et rduit la capacit de rcupration mentale. Le Standard est proportionn : pas d'urgence, mais une incitation  reprendre une activit adapte.

**Dpendance** : Cette rgle ncessite la cration de CAT_02 et de ses MT (voir Manquement 3).

>  **E19 ne ncessite pas de rgle individuelle** : Les soucis de sant dclars (fatigue, douleurs, moral) servent  cibler le bilan mdical mais ne justifient pas une activation indpendante  ils sont trop htrognes pour un seuil simple. La reco S4_RECO_01 (bilan avec le MT) couvre dj ce besoin quand le CCC est activ.

---

## Manquement 2  K3 non respect

### Le problme

CAT_01 n'a qu'un seul niveau (CCC). L'aidant qui a  un peu de mal   prendre ses RDV (E15 = Un peu) mais ne les reporte pas systmatiquement (E16   reporte souvent ) ne dclenche rien. C'est un signal prcoce de renoncement qui mrite un Standard.

### Ce que je propose

#### Proposition 2.1  Rgle Standard pour E16 intermdiaire

\`\`\`
SI E16 =  J'ai du mal  les prendre ou  les garder 
ALORS  V3_S4_STD_02 (Standard)  CAT_01 (reprise suivi mdical)
\`\`\`

**Raisonnement** :  J'ai du mal  prendre ou garder mes RDV  est un signal de difficult qui n'atteint pas le seuil du CCC ( Je les reporte ou annule souvent ) mais indique un dbut de renoncement. Le Standard incite  accompagner l'aidant avant que la situation ne se dgrade. La diffrence clinique : CCC = renoncement actif confirm ( 30j), STD = difficult mergente ( 90j).

**Avantage K3** : CAT_01 passe de 1 niveau (CCC)  2 niveaux (STD + CCC)  K3 respect.

---

## Manquement 3  Absence de MT contributive + CAT_02 manquante

### Le problme

S4 a 0 MT contributive  l'ASR ne peut pas tre valide (K11 : 100% des MT contributives requises). De plus, les 3 MT legacy (MT_V3_007, 009, 013) sont des actions de coordination IDEC (valuation risque, SAD, transmission) qui semblent davantage relever de S1/S2 que de S4. Elles ne correspondent pas au thme  hygine de vie et accs aux soins personnels .

### Ce que je propose

#### Proposition 3.1  MT contributive MED pour CAT_01

\`\`\`
MT_V3_NEW_05   Contacter le mdecin traitant pour organiser la reprise du suivi mdical de l'aidant 
Type : MED | Acteur : IDEC | Domaine : mdical |  Contributive
\`\`\`

**Raisonnement** : L'action pivot de CAT_01 est la reprise du suivi mdical. L'IDEC contacte le MT de l'aidant pour organiser un bilan. C'est la MT contributive qui manque pour rendre l'ASR validable.

>  **Risque de doublon avec S3** : MT_V3_020 (S3) =  Contacter le MT pour bilan de sant . La diffrence : S3 = bilan motiv par une DGRADATION dtecte (O44+E18), S4 = reprise du suivi motive par un RENONCEMENT comportemental (E15+E16). But diffrent, mme action concrte. Le wording devrait le reflter.

#### Proposition 3.2  Crer CAT_02  Activit physique et bien-tre 

\`\`\`
Catgorie : S4_CAT_02  Activit physique et bien-tre
Dclencheur : V3_S4_STD_01 (E17 = Non)
\`\`\`

**Raisonnement** : E17 est la seule question du moteur Monka qui mesure l'activit physique. C'est un axe de prvention fort et reconnu en griatrie. Crer une catgorie ddie permet de :
1. Activer E17 (rsolvant le Check #1)
2. Proposer des MT concrtes d'incitation  l'activit
3. Renforcer le rle de S4 comme MP de PRVENTION ACTIVE

#### Proposition 3.3  MT pour CAT_02 (activit physique)

\`\`\`
MT_V3_NEW_06   Informer l'aidant sur les bienfaits de l'activit physique adapte et les dispositifs locaux (sport sur ordonnance, APA) 
Type : INFO | Acteur : IDEC | Domaine : mdico-social |  Non-contributive
\`\`\`

\`\`\`
MT_V3_NEW_07   Orienter l'aidant vers un programme d'activit physique adapte (APA) ou une association sportive locale 
Type : SEC | Acteur : IDEC | Domaine : mdico-social |  Contributive
\`\`\`

**Raisonnement** : Le duo INFO + SEC est le pattern standard V1/V2 : d'abord informer, puis orienter concrtement. L'activit physique adapte (APA) est un dispositif qui existe rellement  prescrit sur ordonnance, remboursable sous conditions. L'IDEC identifie les ressources locales et met en lien l'aidant.

#### Proposition 3.4  Vrifier le mapping des MT legacy

Les 3 MT legacy de S4 sont :
- **MT_V3_007** :  valuer le risque immdiat ou latent   semble tre une MT S1/S2 (valuation du risque de la situation = charge/scurit)
- **MT_V3_013** :  Contacter les SAD du territoire   c'est une MT S1 clairement (relais aide  domicile)
- **MT_V3_009** :  Transmettre  l'aidant pour choix et prise de contact   suite de MT_V3_013

> **Ma recommandation** : Demander  Dr. Monka de confirmer si ces 3 MT sont bien des MT S4 ou si elles ont t mal-mappes depuis S1/S2. Si elles sont bien S4, clarifier leur rle dans le contexte  hygine de vie .

---

## Manquement 4  Doublon de wording

### Le problme

S4_RECO_01 ( Prendre RDV avec le mdecin traitant pour bilan de sant ) est quasi-identique  S3_RECO_04 ( Demandez un bilan de sant ).

### Ce que je propose

#### Proposition 4.1  Diffrencier le wording

\`\`\`
S4_RECO_01 (rvis) :
  Texte utilisateur :  Reprenez contact avec votre mdecin pour discuter de vos besoins de sant et de votre suivi mdical personnel 
  Actions IDEC :  Accompagner la reprise du suivi mdical de l'aidant  cibler les soucis dclars (E19) 
\`\`\`

**Raisonnement** : Le wording doit reflter la diffrence S3/S4 :
- S3 =  Faites un bilan car votre sant se dgrade  (ractif, motiv par O44+E18)
- S4 =  Reprenez contact car vous avez dcroch de votre suivi  (proactif, motiv par E15+E16)

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD | E17 = Non  CAT_02 (activit physique) | #1 |  Haute |
| 2.1 | Rgle STD | E16 =  J'ai du mal   CAT_01 | #4 |  Haute |
| 3.1 | MT MED  | Contacter MT pour reprise suivi | ASR |  Critique |
| 3.2 | Catgorie | Crer S4_CAT_02 (activit physique) | #1 |  Haute |
| 3.3 | MT INFO+SEC | Informer APA + Orienter vers programme sport | CAT_02 |  Moyenne |
| 3.4 | Vrification | Confirmer mapping MT_V3_007/009/013 | Architecture |  Moyenne |
| 4.1 | Wording | Diffrencier S4_RECO_01 vs S3_RECO_04 | Clart |  Moyenne |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  2/4 |  3/4 (E19 reste contextuelle  justifi) |
| #3  CAT  MT |  (3 MT)   (0 contributive) |  CAT_01: 1 contrib. + CAT_02: 1 contrib. |
| #4  K3 2 niveaux |  1 niveau |  CAT_01: STD+CCC |
| ASR |  Non validable |  Validable (1 MT contributive) |
| **Score global** | **6/8** | **8/8** |

---

## Question structurelle pour Dr. Monka

> **Faut-il maintenir S4 comme MP autonome ou le fusionner dans S3 ?**
>
> Ma recommandation : **maintenir** et enrichir. L'axe  prvention active  (accs aux soins personnels + activit physique) est cliniquement distinct de S3 (suivi mdical existant). L'enrichissement propos (1 CAT_02, 2 rgles, 3 MT) est raisonnable et donnerait  S4 une identit forte.

---

> ** Ce document est en attente de validation par Dr. Monka. Une fois valid, les propositions seront intgres dans le template officiel S4.md.**
`,gb=`#  Compltude MP  F1  Vie quotidienne, budget et entourage

> **Vulnrabilit** : V4  Fragilit du Proche  
> **Template officiel** : [F1.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V4/F1.md)  
> **Score checklist actuel** : 5/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

F1 a 3 catgories valides et 17 MT (aprs fusions). Trois manquements empchent le 8/8 :

| # | Manquement | Check | Impact |
|---|---|---|---|
| 1 | **CAT_02 n'a qu'un CCC, pas de Standard** | #4 K3 | Pas d'activation douce pour les problmes financiers/gestion modrs |
| 2 | **CAT_03 n'a aucune rgle formalise** (N23/N27 orphelines) | #1 + #4 | 2 questions qui ne dclenchent rien + pas d'escalade |
| 3 | **Wording incohrent sur F1_RECO_01 et F1_RECO_04** | #7 | RECO_01 trop vague, RECO_04 incohrent (psy  SAD) |

---

## Manquement 1  CAT_02 sans Standard (K3)

### Le problme

La catgorie **F1_CAT_02 (Soutien socio-financier)** ne s'active que via CCC_01 (E21 = "Non" ET problmes financiers/gestion). Un aidant qui signale des problmes financiers **modrs** (N21 = "Parfois") ou une gestion assiste (N9 = "Elle se fait aider") dclenche 0 action s'il ne dit pas aussi que le maintien est impossible.

### Ce que je propose

#### Proposition 1.1  Rgle Standard pour CAT_02

\`\`\`
SI N21 =  Parfois  OU N9 =  Elle se fait aider 
ALORS  V4_F1_STD_03 (Standard)  CAT_02
\`\`\`

**Raisonnement** : Les niveaux intermdiaires de N21 et N9 signalent une fragilit financire/administrative sous contrle mais prsente. En V1/V2, tout signal de difficult  mme modr  dclenche au minimum un Standard informatif. Ici, l'IDEC peut informer sur les aides disponibles et vrifier que la situation est rellement sous contrle.

#### Proposition 1.2  Rgle Standard pour CAT_02 (via N9)

\`\`\`
SI N9 =  Oui  (problmes effectifs de gestion)
ALORS  V4_F1_STD_04 (Standard)  CAT_02
\`\`\`

**Raisonnement** : Si la personne aide a des problmes avrs de gestion budgtaire/administrative, c'est un signal plus fort que "elle se fait aider". Cela justifie une activation Standard distincte, indpendante de la maintenabilit (E21).

**Alternative** : Fusionner 1.1 et 1.2 en une seule rgle : SI N21  {"Parfois", "Oui"} OU N9  {"Elle se fait aider", "Oui"}  Standard CAT_02. Plus simple, mais perd la distinction de gravit.

---

## Manquement 2  CAT_03 sans rgle (N23/N27 orphelines)

### Le problme

**N23** (activit professionnelle/occupationnelle) et **N27** (isolement social) sont les deux questions centrales du thme "lien social" de F1, mais elles ne dclenchent **aucune rgle**. Les recos F1_RECO_06 et F1_RECO_07 sont rattaches au STD_01 (= rgle CAT_01 projet de vie). Cliniquement, le lien social devrait avoir ses propres rgles.

### Ce que je propose

#### Proposition 2.1  Rgle Standard pour CAT_03

\`\`\`
SI N27  {  Un peu ,  Beaucoup  } OU N23 =  Parfois 
ALORS  V4_F1_STD_05 (Standard)  CAT_03
\`\`\`

**Raisonnement** : Un isolement modr ("Un peu" ou "Beaucoup") ou des difficults occupationnelles intermittentes ("Parfois") justifient une premire intervention : information sur les associations locales, proposition d'activits sociales. C'est l'quivalent du Standard en V1/V2 : un premier signal  une premire action.

#### Proposition 2.2  Rgle CCC pour CAT_03

\`\`\`
SI N27 =  Totalement  OU N23 =  Oui 
ALORS  V4_F1_CCC_02 (CCC,  30j)  CAT_03
\`\`\`

**Raisonnement** : Un isolement total ou une perte complte d'activit occupationnelle sont des signaux graves. L'isolement total est un facteur de risque majeur de dpression et de dgradation cognitive chez les personnes ges. L'intervention doit tre urgente : RDV psychiatre/psychologue + inscription association sous 30 jours.

#### Proposition 2.3  Rgle CCC composite CAT_01 + CAT_03

\`\`\`
SI E21 =  Non, un changement sera ncessaire  ET N27  {  Beaucoup ,  Totalement  }
ALORS  V4_F1_CCC_03 (CCC,  30j)  CAT_01 + CAT_03
\`\`\`

**Raisonnement** : Maintien de la situation impossible + isolement svre = double signal de dtresse. Le proche est  la fois en transition rsidentielle et sans rseau social de soutien. Activer les deux catgories en CCC permet de prparer le projet de vie tout en scurisant l'accompagnement social.

---

## Manquement 3  Wording incohrent

### Le problme

| Reco | Problme |
|---|---|
| **F1_RECO_01** | Wording "Scuriser et renforcer le maintien  domicile" est trop vague. Scuriser comment ? Renforcer quoi ? |
| **F1_RECO_04** | L'utilisateur lit "Envisager un soutien psychologique" mais l'IDEC lit "Confirmer les heures d'intervention SAD". Ce sont deux actions diffrentes. |

### Ce que je propose

#### Proposition 3.1  Reformuler F1_RECO_01

\`\`\`
Avant :  Scuriser et renforcer le maintien  domicile 
Aprs :  tudier les conditions de maintien  domicile et identifier les besoins prioritaires 
\`\`\`

**Raisonnement** : Le nouveau wording est actionnable : "tudier les conditions" (ORGA) + "identifier les besoins" (ORGA)  deux actions claires.

#### Proposition 3.2  Corriger F1_RECO_04

\`\`\`
Option A : Aligner l'IDEC sur l'utilisateur
 IDEC :  Discuter avec le mdecin traitant de la pertinence d'un soutien psychologique pour la personne aide 

Option B : Aligner l'utilisateur sur l'IDEC
 Utilisateur :  Envisager de renforcer les heures d'aide  domicile 

Option C : Crer deux recos distinctes (sparer psy et SAD)
 F1_RECO_04a (psy) + F1_RECO_04b (SAD)
\`\`\`

**Raisonnement** : L'option A est la plus cohrente car F1_RECO_04 est rattache  **CAT_02** (socio-financier) mais parle de psy (CAT_03). Soit on corrige le rattachement, soit on corrige le wording.

---

## Propositions bonus (non bloquantes)

#### Proposition 4.1  Rgle Critique (triple signal)

\`\`\`
SI E21 =  Non  ET N21 =  Oui  ET N27  {  Beaucoup ,  Totalement  }
ALORS  V4_F1_CRIT_01 ( 7j)  CAT_01 + CAT_02 + CAT_03
\`\`\`

**Raisonnement** : Triple effondrement  maintien impossible + problmes financiers + isolement svre. Le proche est en situation de danger immdiat. Les 3 catgories s'activent en critique.

#### Proposition 4.2  E20 comme rgle directe ?

\`\`\`
SI E20 =  En tablissement (EHPAD, rsidence, foyer) 
ALORS  V4_F1_STD_06  CAT_01
\`\`\`

**Raisonnement** : Si l'aidant souhaite un tablissement, le projet de vie est dj orient  activer CAT_01 pour informer et accompagner la transition. E20 est actuellement du cadrage pur.  discuter si elle justifie une activation directe.

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD | N21 = "Parfois" OU N9 = "Se fait aider"  CAT_02 | #4 K3 |  Haute |
| 1.2 | Rgle STD | N9 = "Oui"  CAT_02 | #4 K3 |  Haute |
| 2.1 | Rgle STD | N27  {"Un peu","Beaucoup"} OU N23 = "Parfois"  CAT_03 | #1 + #4 |  Critique |
| 2.2 | Rgle CCC | N27 = "Totalement" OU N23 = "Oui"  CAT_03 | #1 + #4 |  Critique |
| 2.3 | Rgle CCC | E21 = "Non" ET N27 svre  CAT_01 + CAT_03 | #1 |  Moyenne |
| 3.1 | Wording | Reformuler F1_RECO_01 | #7 |  Haute |
| 3.2 | Wording | Corriger F1_RECO_04 (psy  SAD) | #7 |  Haute |
| 4.1 | Rgle CRIT | E21+N21+N27 triple  3 CAT | Bonus |  Moyenne |
| 4.2 | Rgle STD | E20 = "tablissement"  CAT_01 | Bonus |  Moyenne |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  N23/N27 orphelines |  8/8 questions couvertes |
| #4  K3 2 niveaux |  CAT_02 + CAT_03 |  Toutes CAT 2 niveaux |
| #7  Wording cohrent |  RECO_01 + RECO_04 |  Wording corrig |
| **Score global** | **5/8** | **8/8** |

---

> ** Ce document est en attente de validation par Dr. Monka. Une fois valid, les propositions seront intgres dans le template officiel F1.md.**
`,Cb=`#  Compltude MP  F2  Autonomie, aide humaine et prsence ncessaire

> **Vulnrabilit** : V4  Fragilit du Proche  
> **Template officiel** : [F2.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V4/F2.md)  
> **Score checklist actuel** : 5/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

F2 a 3 catgories valides et 12 MT (aprs fusion triplons). Quatre manquements empchent le 8/8 :

| # | Manquement | Check | Impact |
|---|---|---|---|
| 1 | **CAT_02 et CAT_03 n'ont qu'un CCC, pas de Standard** | #4 K3 | Pas d'activation douce pour dpendance modre |
| 2 | **N18 et N36 sont orphelines** (aucune rgle) | #1 | 2 questions qui ne dclenchent rien |
| 3 | **Wording : F2_RECO_05 trop gnrique + RECO_06/07/08 triplons** | #7 | Manque de clart |
| 4 | **Annotations Dr. Monka non rsolues** (MT_V4_036, MT_V4_037) |  | 2 MT  retravailler |

---

## Manquement 1  CAT_02 et CAT_03 sans Standard (K3)

### Le problme

Les deux catgories ne s'activent que via le CCC composite (2 conditions extrmes). Un proche qui a besoin d'aide nocturne  parfois  (E24) ou qui a besoin d'aide pour se dplacer  de temps en temps  (O8/O9) dclenche 0 action. Seuls les cas extrmes sont capts.

### Ce que je propose

#### Proposition 1.1  Rgle Standard pour CAT_02

\`\`\`
SI E23 =  Quelques heures  OU E24 =  Parfois 
ALORS  V4_F2_STD_03 (Standard)  CAT_02
\`\`\`

**Raisonnement** : Un proche qui peut rester seul  quelques heures  ou qui a  parfois  besoin de prsence nocturne montre un dbut de dpendance. Pas encore critique, mais le Standard permet d'informer l'aidant et de planifier. En V1/V2, tout signal modr dclenche au minimum un Standard.

#### Proposition 1.2  Rgle Standard pour CAT_03

\`\`\`
SI O8 =  De temps en temps  OU O9 =  De temps en temps 
ALORS  V4_F2_STD_04 (Standard)  CAT_03
\`\`\`

**Raisonnement** : Un besoin d'aide ponctuel pour les dplacements signale une perte de mobilit dbutante. C'est le moment idal pour un bilan kin/ergo prventif  la rhabilitation est plus efficace quand elle est prcoce.

---

## Manquement 2  Questions orphelines N18 et N36

### Le problme

**N18** (peut-elle raliser seule les actes de la vie quotidienne ?) et **N36** (besoin d'aide pour organiser/planifier ?) ne dclenchent aucune rgle. Ce sont pourtant des marqueurs d'autonomie directs.

### Ce que je propose

#### Proposition 2.1  Rgle Standard pour N18

\`\`\`
SI N18 =  Non, elle a besoin d'aide 
ALORS  V4_F2_STD_05 (Standard)  CAT_01
\`\`\`

**Raisonnement** : C'est le marqueur binaire d'autonomie le plus direct de F2. Si le proche ne peut pas raliser seul les actes de la vie quotidienne, l'aide actuelle doit tre vrifie et potentiellement renforce. Activation logique de CAT_01 (coordination de l'aide).

#### Proposition 2.2  Rgle Standard pour N36

\`\`\`
SI N36 =  Parfois 
ALORS  V4_F2_STD_06 (Standard)  CAT_01
\`\`\`

\`\`\`
SI N36 =  Oui 
ALORS  V4_F2_STD_07 (Standard)  CAT_01 + CAT_03
\`\`\`

**Raisonnement** : N36 mesure la dimension cognitive de l'autonomie (planification, pas excution physique). Un besoin d'aide partiel ("Parfois") justifie une vrification de l'aide en place (CAT_01). Un besoin total ("Oui") est un signal plus fort qui justifie aussi un bilan ergo/rhabilitation (CAT_03) car la perte de planification est souvent lie  des troubles cognitifs dbutants.

---

## Manquement 3  Wording incohrent

### Le problme

| Reco | Problme |
|---|---|
| **F2_RECO_05** | "Demander un suivi rgulier"  suivi de quoi ? par qui ? Trop gnrique. |
| **F2_RECO_06/07/08** | Trois recos quasi-identiques : "bilan kin", "bilan ergo", "bilan kin et/ou ergo". |

### Ce que je propose

#### Proposition 3.1  Reformuler F2_RECO_05

\`\`\`
Avant :  Demander un suivi rgulier 
Aprs :  Demander un bilan de mobilit pour valuer les capacits de dplacement de votre proche 
\`\`\`

**Raisonnement** : Le suivi est maintenant spcifique (bilan de mobilit) et la raison est claire (valuer les capacits de dplacement). L'action est traable.

#### Proposition 3.2  Fusionner F2_RECO_06/07/08

\`\`\`
Avant :
  RECO_06 :  Demander bilan de la marche chez kin et/ou ergo 
  RECO_07 :  Demander bilan ergothrapie pour maintenir l'autonomie 
  RECO_08 :  Demander bilan ergo et/ou kin pour capacits motrices 

Aprs (1 seule reco) :
  F2_RECO_06 :  Demander un bilan kin et ergothrapie pour valuer et maintenir la mobilit 
\`\`\`

**Raisonnement** : Les 3 recos prescrivent le mme bilan (kin + ergo). Avoir 3 recos identiques est confus pour l'utilisateur et non traable pour l'IDEC. Une seule reco claire suffit.

---

## Manquement 4  Annotations Dr. Monka non rsolues

### Le problme

Deux MT de CAT_03 ont t marques " revoir" par Dr. Monka lors de la validation du 14/02/2026 :

| MT | Annotation | Question  rsoudre |
|---|---|---|
| **MT_V4_036** |  Reformuler  'Organiser une consultation avec un mdecin spcialiste pour valuer la mobilit'.  revoir.  | Le wording actuel ("Se reporter  la procdure RDV mdecin spcialiste") est trop procdural et pas actionnable. |
| **MT_V4_037** |  Discuter la pertinence du CMP pour N36 ou rorienter vers ergothrapeute.  revoir.  | Le CMP est un service psychiatrique  est-ce pertinent pour un besoin de planification ? L'ergothrapeute est mieux plac. |

### Ce que je propose

#### Proposition 4.1  Reformuler MT_V4_036

\`\`\`
Avant :  Se reporter  la procdure RDV mdecin spcialiste 
Aprs :  Organiser une consultation avec un mdecin spcialiste pour valuer la mobilit 
\`\`\`

**Raisonnement** : Exactement la reformulation propose par Dr. Monka. Le nouveau wording est actionnable (organiser = SEC) et spcifique (mobilit).

#### Proposition 4.2  MT_V4_037 : CMP  ergothrapeute

\`\`\`
Option A  Remplacer CMP par ergo :
  Avant :  Contacter le CMP de secteur pour 1er contact infirmier 
  Aprs :  Contacter un ergothrapeute du secteur pour valuer les besoins en aide  la planification 

Option B  Garder CMP ET ajouter ergo :
  MT_V4_037 reste CMP (pour les cas avec troubles cognitifs associs, E25/E26 positifs)
  MT_V4_NEW_02 =  Orienter vers un ergothrapeute pour valuer les besoins d'aide  l'organisation quotidienne 
\`\`\`

**Raisonnement** : N36 ("aide pour organiser et planifier") est une question d'autonomie fonctionnelle, pas psychiatrique. L'ergothrapeute est le professionnel de rfrence pour l'aide  l'organisation du quotidien. Le CMP serait pertinent uniquement si des troubles cognitifs sont associs (E25/E26 positifs dans F3). L'option B est la plus complte  elle couvre les deux cas.

---

## Propositions bonus (non bloquantes)

#### Proposition 5.1  Cross-activation F3F2

\`\`\`
SI E25 =  Souvent  OU E25 =  Tout le temps  (confusion jour/nuit dans F3)
ALORS  Contribuer au scoring CCC_01 de F2 (scurisation priodes  risque)
\`\`\`

**Raisonnement** : La confusion jour/nuit (F3) impacte directement le besoin de prsence nocturne (F2). Ce cross-activation permet de capter un signal F3 qui a des consquences F2.

#### Proposition 5.2  Rgle Critique

\`\`\`
SI 3 conditions parmi : E23 extrme, E24 souvent/perm, O8 tout le temps, O9 tout le temps
ALORS  V4_F2_CRIT_01 ( 7j)  CAT_01 + CAT_02 + CAT_03
\`\`\`

**Raisonnement** : Triple dpendance = danger immdiat. Le proche ne peut pas rester seul, a besoin de prsence nocturne, ET ne peut se dplacer. Les 3 catgories s'activent en critique ( 7 jours).

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD | E23 = "Quelques heures" OU E24 = "Parfois"  CAT_02 | #4 K3 |  Critique |
| 1.2 | Rgle STD | O8/O9 = "De temps en temps"  CAT_03 | #4 K3 |  Critique |
| 2.1 | Rgle STD | N18 = "Non"  CAT_01 | #1 |  Haute |
| 2.2 | Rgle STD | N36 = "Parfois"  CAT_01, "Oui"  CAT_01+03 | #1 |  Haute |
| 3.1 | Wording | Reformuler F2_RECO_05 | #7 |  Haute |
| 3.2 | Wording | Fusionner F2_RECO_06/07/08 en 1 reco | #7 |  Haute |
| 4.1 | MT | Reformuler MT_V4_036 (annotation Dr. Monka) | Annotation |  Haute |
| 4.2 | MT | MT_V4_037 CMP  ergo (annotation Dr. Monka) | Annotation |  Haute |
| 5.1 | Cross | F3F2 via E25 confusion jour/nuit | Bonus |  Moyenne |
| 5.2 | Rgle CRIT | 3 conditions CCC_01  Critique 3 CAT | Bonus |  Moyenne |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  N18/N36 orphelines |  7/7 questions couvertes |
| #4  K3 2 niveaux |  CAT_02 + CAT_03 |  Toutes CAT 2 niveaux |
| #7  Wording cohrent |  RECO_05 + triplons RECO_06/07/08 |  Wording corrig |
| **Score global** | **5/8** | **8/8** |

---

> ** Ce document est en attente de validation par Dr. Monka. Une fois valid, les propositions seront intgres dans le template officiel F2.md.**
`,vb=`#  Compltude MP  F3  Mmoire, comportement et risques

> **Vulnrabilit** : V4  Fragilit du Proche  
> **Template officiel** : [F3.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V4/F3.md)  
> **Score checklist actuel** : 4/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

F3 est le MP **le plus structurellement faible** de V4 malgr sa gravit clinique (il contient les 2 seules rgles Critique de V4). Aprs fusions, il ne reste que 6 MT dont 3 non-contributives. Quatre manquements empchent le 8/8 :

| # | Manquement | Check | Impact |
|---|---|---|---|
| 1 | **Aucune CAT n'a de Standard** (K3 total) | #4 | Les signaux prcoces "Parfois" ne dclenchent rien |
| 2 | **3 questions orphelines** (N19, N24, N25) | #1 | N19/N24 sans rgle, N25 = rgle dans F4 |
| 3 | **CAT_01 : 0 MT contributive**, CAT_03 : 1 seule MT | #3 | ASR impossible CAT_01, CAT_03 squelettique |
| 4 | **Wording** : F3_RECO_03 = constat, RECO_05 = doublon, RECO_07 = incohrent | #7 | |

---

## Manquement 1  0 Standard sur les 3 CAT (K3 total)

### Le problme

Les 3 catgories s'activent exclusivement en CCC ou Critique. Un proche qui montre des signaux prcoces (confusion "parfois", troubles mmoire "parfois", changements d'humeur "parfois") dclenche **zro action**. C'est cliniquement problmatique car les troubles cognitifs sont plus facilement traitables quand ils sont dtects tt.

### Ce que je propose

#### Proposition 1.1  Rgle Standard pour CAT_01

\`\`\`
SI E25 =  Parfois  OU E26 =  Parfois  OU E27 =  Parfois  OU N22 =  Parfois 
ALORS  V4_F3_STD_01 (Standard)  CAT_01
\`\`\`

**Raisonnement** : Ces signaux prcoces indiquent un dbut de dsorganisation sans danger immdiat. L'action Standard (informer, surveiller, documenter) est adapte. Si un seul signal "Parfois" est prsent, l'IDEC sensibilise l'aidant aux risques et l'aide  documenter les pisodes.

#### Proposition 1.2  Rgle Standard pour CAT_02

\`\`\`
SI N24 =  Parfois  OU O13 =  Diminution de certaines fonctions 
ALORS  V4_F3_STD_02 (Standard)  CAT_02
\`\`\`

**Raisonnement** : Des troubles de mmoire intermittents ou une diminution partielle des fonctions cognitives justifient un bilan prventif. La littrature griatrique recommande une consultation mmoire ds les premiers signes  la fentre d'intervention est critique.

#### Proposition 1.3  Rgle Standard pour CAT_03

\`\`\`
SI N19 =  Parfois 
ALORS  V4_F3_STD_03 (Standard)  CAT_03
\`\`\`

**Raisonnement** : Des changements d'humeur occasionnels mritent une surveillance. L'IDEC peut proposer un entretien pour valuer la frquence et la nature des pisodes, et orienter vers un suivi si ncessaire.

---

## Manquement 2  Questions orphelines N19, N24, N25

### Le problme

| Question | Problme | Gravit |
|---|---|---|
| **N19** | Changements d'humeur  aucune rgle d'activation de CAT_03 |  |
| **N24** | Troubles mmoire  aucune rgle d'activation de CAT_02 |  |
| **N25** | Ides suicidaires  rgle CRIT_01 en F4, pas en F3 |  |

### Ce que je propose

#### Proposition 2.1  Rgle CCC pour N19

\`\`\`
SI N19 =  Souvent 
ALORS  V4_F3_CCC_02 (CCC,  30j)  CAT_03
\`\`\`

**Raisonnement** : Des changements d'humeur frquents ("Souvent") indiquent une instabilit comportementale significative ncessitant un suivi psychiatrique dans les 30 jours.

#### Proposition 2.2  N24 est couvert par 1.2

N24 = "Parfois"  STD CAT_02 (proposition 1.2). N24 = "Oui" est dj couvert implicitement par CCC_01 (car O13 "Diminution" + E25/E26 impliquent N24 "Oui"). Mais pour tre explicite :

\`\`\`
SI N24 =  Oui 
ALORS  V4_F3_CCC_03 (CCC,  30j)  CAT_02
\`\`\`

**Raisonnement** : Troubles de mmoire avrs, mme sans dsorientation  bilan neurologique sous 30 jours.

#### Proposition 2.3  Rgle Critique pour N25 en F3

\`\`\`
SI N25  {  Parfois ,  Souvent  }
ALORS  V4_F3_CRIT_03 (Critique,  72h)  CAT_03
\`\`\`

**Raisonnement** : **Toute mention d'ides suicidaires**  mme "parfois"  est un signal d'urgence vitale. La diffrence avec le CCC est que le risque suicidaire ne peut pas attendre 30 jours. L'action est immdiate : contacter le MT, orienter vers les urgences ou le 3114.

**Note** : Cette rgle DUPLIQUE CRIT_01 de F4 (qui utilise N25 = "Souvent"). Les deux rgles coexisteront  F3 active CAT_03 (urgences psy), F4 active CAT_04 (tat gnral). La proposition F3 est plus stricte (inclut "Parfois") car F3 est le MP comportemental.

---

## Manquement 3  MT insuffisantes (CAT_01 : 0 , CAT_03 : 1 MT)

### Le problme

| CAT | MT actuelles | Problme |
|---|---|---|
| CAT_01 | 3 MT (toutes  ORGA/INFO) | **0 MT contributive**  ASR impossible |
| CAT_03 | 1 MT (MED ) | 1 seule MT pour couvrir humeur + ides suicidaires |

### Ce que je propose

#### Proposition 3.1  MT SEC pour CAT_01

\`\`\`
MT_V4_NEW_F3_01   Alerter le mdecin traitant en cas de comportement dangereux avr 
Type : SEC | Acteur : IDEC | Domaine :  |  Contributive
\`\`\`

**Raisonnement** : C'est l'action de scurisation primaire de CAT_01  contacter le MT pour valuer la ncessit d'hospitalisation, d'ajustement thrapeutique ou de mise en scurit. Sans cette MT, l'IDEC documente les risques (ORGA) mais n'agit pas.

#### Proposition 3.2  MT STRUC pour CAT_01

\`\`\`
MT_V4_NEW_F3_02   valuer la pertinence d'un dispositif de scurit (tlalarme, dtecteur gaz, verrous) 
Type : STRUC | Acteur : IDEC | Domaine :  |  Contributive
\`\`\`

**Raisonnement** : En parallle de l'alerte mdicale, l'IDEC value les solutions matrielles de scurisation. C'est la dimension "environnement" de la scurisation, complmentaire  la dimension "mdicale".

#### Proposition 3.3  MT SEC pour CAT_03

\`\`\`
MT_V4_NEW_F3_03   Prendre RDV avec un psychiatre pour valuer les changements d'humeur 
Type : SEC | Acteur : IDEC | Domaine :  |  Contributive
\`\`\`

**Raisonnement** : L'action concrte de F3_RECO_04 ("valuer les changements d'humeur") ncessite un RDV psychiatre. La MT existante (MT_V4_047 = urgences) couvre N25, pas N19. Il faut une MT pour le suivi de l'humeur hors urgence.

#### Proposition 3.4  MT ORGA pour CAT_03

\`\`\`
MT_V4_NEW_F3_04   Documenter la frquence et la nature des pisodes d'instabilit motionnelle 
Type : ORGA | Acteur : Aidant (autonome) | Domaine :  |  Non-contributive
\`\`\`

**Raisonnement** : Avant le RDV psychiatre, l'aidant documente les pisodes (frquence, dclencheurs, intensit). Ce journal aide le psychiatre  poser un diagnostic plus prcis.

---

## Manquement 4  Wording incohrent

### Le problme

| Reco | Problme |
|---|---|
| **F3_RECO_03** | "Situation  risque lev ncessitant une action immdiate"  c'est un **constat**, pas une reco actionnable |
| **F3_RECO_05** | Doublon de F3_RECO_04 (mme action : RDV psychiatre) |
| **F3_RECO_07** | Texte dit "orienter vers les urgences" mais action IDEC dit "RDV psychologue". Un psychologue n'est pas les urgences. |

### Ce que je propose

#### Proposition 4.1  Reformuler F3_RECO_03

\`\`\`
Avant :  Situation  risque lev ncessitant une action immdiate 
Aprs :  Scuriser immdiatement l'environnement de votre proche et contacter le mdecin 
\`\`\`

#### Proposition 4.2  Supprimer F3_RECO_05

Fusionner avec F3_RECO_04. Rsultat : 1 reco "valuer les changements d'humeur et adapter le suivi".

#### Proposition 4.3  Corriger F3_RECO_07

\`\`\`
Option A  Aligner sur l'urgence :
  IDEC :  Appeler le 3114 ou orienter vers les urgences psychiatriques 
  (Pour N25 = "Souvent"  Critique)

Option B  Aligner sur le psychologue :
  Utilisateur :  Demander un RDV avec un psychologue pour valuer les ides noires 
  (Pour N25 = "Parfois"  CCC)

Option C  Sparer en 2 recos :
  F3_RECO_07a (Critique) : urgences
  F3_RECO_07b (CCC) : psychologue
\`\`\`

**Raisonnement** : L'option C est la plus complte  elle distingue le niveau d'urgence.

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD | E25/E26/E27/N22 = "Parfois"  CAT_01 | #4 K3 |  Critique |
| 1.2 | Rgle STD | N24 = "Parfois" OU O13 = "Diminution"  CAT_02 | #4 K3 + #1 |  Critique |
| 1.3 | Rgle STD | N19 = "Parfois"  CAT_03 | #4 K3 + #1 |  Critique |
| 2.1 | Rgle CCC | N19 = "Souvent"  CAT_03 | #1 |  Haute |
| 2.2 | Rgle CCC | N24 = "Oui"  CAT_02 | #1 |  Haute |
| 2.3 | Rgle CRIT | N25  {"Parfois","Souvent"}  CAT_03 | #1 |  Critique |
| 3.1 | MT SEC | Alerter MT comportement dangereux  CAT_01 | #3 ASR |  Critique |
| 3.2 | MT STRUC | valuer dispositifs scurit  CAT_01 | #3 ASR |  Haute |
| 3.3 | MT SEC | RDV psychiatre changements humeur  CAT_03 | #3 |  Haute |
| 3.4 | MT ORGA | Documenter pisodes instabilit  CAT_03 | #3 |  Moyenne |
| 4.1 | Wording | Reformuler RECO_03 (constat  action) | #7 |  Haute |
| 4.2 | Wording | Fusionner RECO_05 dans RECO_04 | #7 |  Haute |
| 4.3 | Wording | Corriger RECO_07 (urgences  psychologue) | #7 |  Haute |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  N19/N24/N25 orphelines |  8/8 questions couvertes |
| #3  CAT  MT suffisantes |  CAT_01=0, CAT_03=1MT |  CAT_012, CAT_033MT |
| #4  K3 2 niveaux |  0 Standard sur 3 CAT |  Toutes CAT 2 niveaux |
| #7  Wording cohrent |  RECO_03/05/07 |  Wording corrig |
| **Score global** | **4/8** | **8/8** |

---

> ** Ce document est en attente de validation par Dr. Monka. Une fois valid, les propositions seront intgres dans le template officiel F3.md.**
`,_b=`#  Compltude MP  F4  Douleur, fatigue, sommeil et tat gnral

> **Vulnrabilit** : V4  Fragilit du Proche  
> **Template officiel** : [F4.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V4/F4.md)  
> **Score checklist actuel** : 4/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

F4 est le **plus gros MP de V4** (12 questions) mais aussi le plus lacunaire : **7 questions orphelines sur 12**, aucune CAT avec Standard, 0 MT non-contributive (ORGA/INFO), et 4 incohrences wording. Le MP fonctionne via une seule rgle CCC composite qui ne vrifie que 5 questions. Tout le reste (mdication, sensoriels, poids, nutrition, ostoporose) est ignor.

| # | Manquement | Check | Impact |
|---|---|---|---|
| 1 | **Aucune CAT n'a de Standard** | #4 K3 | Signaux modrs ignors |
| 2 | **7 questions orphelines** (N44, O3, O5, O7, O15, O22, O26) | #1 | 58% des questions inactives |
| 3 | **4 incohrences wording majeures** | #7 | RECO_03/04/05/10 |
| 4 | **0 MT ORGA/INFO** (100% mdicales) | Amlioration | Pas d'valuation ni d'information |

---

## Manquement 1  0 Standard sur les 4 CAT (K3 total)

### Le problme

La seule rgle d'activation (CCC_01) ncessite 2 symptmes "Oui"/"Dprime". Un proche avec de la douleur occasionnelle, de la fatigue partielle, des troubles du sommeil intermittents  tout a "Parfois"  dclenche **zro action**. C'est la situation la plus courante en griatrie : des symptmes accumuls  bas bruit.

### Ce que je propose

#### Proposition 1.1  Rgle Standard pour CAT_01

\`\`\`
SI N11 =  Occasionnellement  OU N12 =  Parfois 
ALORS  V4_F4_STD_01 (Standard)  CAT_01
\`\`\`

**Raisonnement** : Douleur occasionnelle ou fatigue intermittente  bilan prventif. En griatrie, la douleur chronique non traite acclre la perte d'autonomie. Le Standard permet un bilan sans urgence.

#### Proposition 1.2  Rgle Standard pour CAT_02

\`\`\`
SI N13 =  Parfois  OU N34 =  Parfois 
ALORS  V4_F4_STD_02 (Standard)  CAT_02
\`\`\`

**Raisonnement** : Troubles du sommeil ou difficults alimentaires intermittentes. Le Standard permet un premier change sur l'hygine de vie et une orientation si ncessaire.

#### Proposition 1.3  Rgle Standard pour CAT_04

\`\`\`
SI O4 =  Parfois anxieuse ou triste  OU O5 =  En moins bonne sant 
ALORS  V4_F4_STD_03 (Standard)  CAT_04
\`\`\`

**Raisonnement** : Anxit/tristesse intermittente ou perception de sant dgrade  orientation vers un suivi psychologique prventif. Le Standard est appropri car il n'y a pas encore de diagnostic de dpression.

---

## Manquement 2  7 questions orphelines

### Le problme

| Question | Libell | Catgorie logique | Pourquoi c'est un problme |
|---|---|---|---|
| **N44** | Changement de poids | CAT_02 | Marqueur de dnutrition ou de pathologie |
| **O3** | Nb mdicaments/jour | CAT_03 | Polymdication = risque iatrogne majeur |
| **O5** | Sant compare  l'ge | CAT_04 | Perception globale de fragilit |
| **O7** | Changements nutrition | CAT_02 | Signal de dnutrition |
| **O15** | Alcool/tabac | CAT_03 | Addiction non couverte par le moteur |
| **O22** | Vue/audition | CAT_03 | Dficit sensoriel non compens |
| **O26** | Diminution taille | CAT_02 | Marqueur ostoporose |

### Ce que je propose

#### Proposition 2.1  Rgle Standard pour CAT_02 (questions somatiques)

\`\`\`
SI N44 =  Oui  OU O7  {  Oui ,  Oui et dnutrie  } OU O26 =  Oui 
ALORS  V4_F4_STD_04 (Standard)  CAT_02
\`\`\`

**Raisonnement** : Changement de poids, changement nutritionnel, ou diminution de taille sont des marqueurs physiques objectifs ncessitant un bilan. Le seuil est bas (Standard) car ces signaux ncessitent d'abord une investigation.

#### Proposition 2.2  Rgle CCC pour CAT_02 (dnutrition avre)

\`\`\`
SI O7 =  Oui et elle est dnutrie 
ALORS  V4_F4_CCC_02 (CCC,  30j)  CAT_02
\`\`\`

**Raisonnement** : La dnutrition avre est un signal grave chez le sujet g. Elle ncessite un bilan nutritionnel sous 30 jours.

#### Proposition 2.3  Rgle Standard pour CAT_03 (mdication/sensoriels)

\`\`\`
SI O3  {  4  6  } OU O22 contient  Je ne sais pas 
ALORS  V4_F4_STD_05 (Standard)  CAT_03
\`\`\`

**Raisonnement** : 4  6 mdicaments est un seuil de vigilance (pas encore  risque lev). Le "je ne sais pas" pour la vue/audition signale un suivi insuffisant  bilan  programmer.

#### Proposition 2.4  Rgle CCC pour CAT_03 (polymdication/dficit sensoriel)

\`\`\`
SI O3 =  7 et plus  OU O22 contient  Mauvais malgr  OU O15 contient  Alcool 
ALORS  V4_F4_CCC_03 (CCC,  30j)  CAT_03
\`\`\`

**Raisonnement** :
- **O3  7** : Polymdication  haut risque iatrogne. Bilan de mdication impratif.
- **O22 "Mauvais malgr"** : Dficit sensoriel non compens malgr appareillage  consultation spcialiste.
- **O15 "Alcool"** : Consommation excessive  bilan addictologique + interaction mdicamenteuse.

#### Proposition 2.5  O5 en cadrage ou Standard

\`\`\`
Option A  O5 = cadrage (comme E22 en F2)  pas de rgle directe
Option B  SI O5 =  En moins bonne sant   STD CAT_04 (via proposition 1.3)
\`\`\`

**Raisonnement** : O5 est une question de perception ("par rapport  une personne du mme ge"). C'est plus du cadrage que du dclenchement. L'option B l'inclut dans 1.3 par pragmatisme.

---

## Manquement 3  4 incohrences wording

### Le problme

| Reco | Texte utilisateur | Action IDEC | Incohrence |
|---|---|---|---|
| **F4_RECO_03** | Troubles du sommeil | Prescription psychologue | Sommeil  psychologue (sauf si psychogne) |
| **F4_RECO_04** | tat bucco-dentaire | Orienter psychiatre | Dentaire  psychiatre |
| **F4_RECO_05** | tat nutritionnel | Courrier psychiatre | Nutrition  psychiatre |
| **F4_RECO_10** | tat bucco-dentaire | Bilan dnutrition | Doublon RECO_04 + action diffrente |

### Ce que je propose

#### Proposition 3.1  Corriger F4_RECO_03

\`\`\`
Avant : Utilisateur  troubles du sommeil  / IDEC  psychologue 
Aprs : IDEC  Contacter MT pour valuation des troubles du sommeil et orientation si besoin 
\`\`\`

#### Proposition 3.2  Corriger F4_RECO_04

\`\`\`
Avant : Utilisateur  tat bucco-dentaire  / IDEC  psychiatre 
Aprs : IDEC  Prendre RDV chirurgien-dentiste pour bilan bucco-dentaire 
\`\`\`

#### Proposition 3.3  Corriger F4_RECO_05

\`\`\`
Avant : Utilisateur  tat nutritionnel + psychiatre 
Aprs : Utilisateur  Faire valuer l'alimentation de votre proche 
        IDEC  Contacter MT pour bilan nutritionnel et valuation dnutrition 
\`\`\`

#### Proposition 3.4  Supprimer F4_RECO_10

Doublon de F4_RECO_04. Supprimer et conserver F4_RECO_04 corrig.

---

## Propositions d'amlioration (non bloquantes)

#### Proposition 4.1  Ajouter MT ORGA/INFO (actuellement 0)

\`\`\`
MT_V4_NEW_F4_01   valuer avec l'aidant l'impact de la douleur/fatigue sur le quotidien 
Type : ORGA | Acteur : IDEC | Domaine :  |  Non-contributive | CAT_01

MT_V4_NEW_F4_02   Informer l'aidant des risques lis  la polymdication 
Type : INFO | Acteur : IDEC | Domaine :  |  Non-contributive | CAT_03

MT_V4_NEW_F4_03   valuer l'impact de l'tat psychologique sur le quotidien 
Type : ORGA | Acteur : IDEC | Domaine :  |  Non-contributive | CAT_04
\`\`\`

**Raisonnement** : F4 est le seul MP du moteur avec **0 MT ORGA/INFO**. Tout est "RDV mdical" sans valuation pralable ni information. Ces 3 MT rtablissent la chane logique : valuer  informer  orienter.

#### Proposition 4.2  Formaliser les cross-activations CRIT

Les 3 rgles CRIT utilisent des questions d'autres MPs. Proposer un pattern architectural :
\`\`\`
Cross-activation : [MP source].[Question]  [MP cible].[Rgle].[Catgorie]
F3.N25  F4.CRIT_01.CAT_04
F5.N38  F4.CRIT_02.Cross
F5.N39  F4.CRIT_03.Cross
\`\`\`

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD | N11/N12 "Parfois/Occasionnellement"  CAT_01 | #4 K3 |  Critique |
| 1.2 | Rgle STD | N13/N34 "Parfois"  CAT_02 | #4 K3 |  Critique |
| 1.3 | Rgle STD | O4 "Anxieuse" / O5 "Moins bonne"  CAT_04 | #4 K3 + #1 |  Critique |
| 2.1 | Rgle STD | N44/O7/O26 = "Oui"  CAT_02 | #1 |  Haute |
| 2.2 | Rgle CCC | O7 "Dnutrie"  CAT_02 | #1 |  Haute |
| 2.3 | Rgle STD | O3 "4-6" / O22 "Je ne sais pas"  CAT_03 | #1 + #4 K3 |  Critique |
| 2.4 | Rgle CCC | O3 "7+" / O22 "Mauvais" / O15 "Alcool"  CAT_03 | #1 + #4 K3 |  Critique |
| 2.5 | Cadrage | O5 = cadrage OU STD CAT_04 | #1 |  Moyenne |
| 3.1 | Wording | Corriger RECO_03 (sommeilpsy) | #7 |  Haute |
| 3.2 | Wording | Corriger RECO_04 (dentairepsychiatre) | #7 |  Haute |
| 3.3 | Wording | Corriger RECO_05 (nutritionpsychiatre) | #7 |  Haute |
| 3.4 | Wording | Supprimer RECO_10 (doublon) | #7 |  Haute |
| 4.1 | MT | Ajouter 3 MT ORGA/INFO | Amlioration |  Moyenne |
| 4.2 | Architecture | Formaliser cross-activations CRIT | Architecture |  Moyenne |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  7/12 orphelines |  12/12 couvertes |
| #4  K3 2 niveaux |  0 Standard, 4 CAT |  Toutes CAT 2 niveaux |
| #7  Wording cohrent |  4 incohrences |  Wording corrig |
| **Score global** | **4/8** | **8/8** |

---

> ** Ce document est en attente de validation par Dr. Monka. Une fois valid, les propositions seront intgres dans le template officiel F4.md.**
`,Tb=`#  Compltude MP  F5  Dpendance, handicap et addictions

> **Vulnrabilit** : V4  Fragilit du Proche  
> **Template officiel** : [F5.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V4/F5.md)  
> **Score checklist actuel** : 4/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

F5 est le **MP le plus "vide"** de V4 : 2 MT seulement pour 12 questions, 10/12 orphelines, et CAT_01 entire sans MT. Paradoxalement, c'est le seul MP de V4 avec K3 partiel (STD_01 + CCC_01). Le problme central : les rgles legacy ne couvrent que E28 et O53  tout le reste (addictions, handicap, GIR) est ignor.

| # | Manquement | Check | Impact |
|---|---|---|---|
| 1 | **CAT_02 sans aucune rgle** (4 questions addiction) | #4 K3 + #1 | Addiction svre sans hospitalisation = 0 action |
| 2 | **10/12 orphelines** (pire de V4) | #1 | E29-E31, N16, N30, N37-N40, O54 |
| 3 | **CAT_01 : 0 MT**, CAT_02/03 : 1 MT chacune | #3 | ASR impossible 2 CAT sur 3 |
| 4 | **Wording** : RECO_01 mlange aidant/proche, RECO_02 = commentaire | #7 | |

---

## Manquement 1  CAT_02 sans rgle (addictions)

### Le problme

Un patient avec N38 = "Oui" (contrle perdu) et N39 = "Oui" (sant impacte) mais 0 hospitalisation ne dclenche AUCUNE reco F5. Les cross-activations F4 (CRIT_02/03) dclenchent un bilan somatique dans F4, mais pas d'orientation addictologique dans F5.

### Ce que je propose

#### Proposition 1.1  Rgle Standard pour CAT_02

\`\`\`
SI N38 =  Parfois 
ALORS  V4_F5_STD_02 (Standard)  CAT_02
\`\`\`

**Raisonnement** : Difficults mergentes de contrle de l'addiction. L'IDEC sensibilise et propose un bilan addictologique.

#### Proposition 1.2  Rgle CCC pour CAT_02

\`\`\`
SI N38 =  Oui  OU N39 =  Oui 
ALORS  V4_F5_CCC_02 (CCC,  30j)  CAT_02
\`\`\`

**Raisonnement** : Perte de contrle avre OU dommages physiques lis  l'addiction  orientation addictologue/CSAPA sous 30 jours.

#### Proposition 1.3  Rgle Critique pour CAT_02

\`\`\`
SI N38 =  Oui  ET N39 =  Oui 
ALORS  V4_F5_CRIT_01 (Critique,  72h)  CAT_02
\`\`\`

**Raisonnement** : Addiction incontrle avec dommages physiques = urgence addictologique. Coexiste avec les CRIT F4 (bilan somatique)  actions complmentaires.

---

## Manquement 2  10 questions orphelines

### Le problme

| Question | Catgorie | Pourquoi elle est orpheline | Gravit |
|---|---|---|---|
| **E29** | CAT_01 | Nb programmes  jamais utilis |  |
| **E30** | CAT_01 | Nb urgences  signal critique non exploit |  |
| **E31** | CAT_01 | Dure hospitalisation  signal critique non exploit |  |
| **N16** | CAT_03 | Origine handicap  cadrage ? |  |
| **N30** | CAT_03 | Taux incapacit  signal fort non exploit |  |
| **N37** | CAT_02 | Type addiction  cadrage ? |  |
| **N38** | CAT_02 | Contrle addiction  devrait activer CAT_02 |  |
| **N39** | CAT_02 | Impact sant addiction  devrait activer CAT_02 |  |
| **N40** | CAT_02 | Sevrage tent  cadrage ? |  |
| **O54** | CAT_03 | Niveau GIR  signal fort non exploit |  |

### Ce que je propose

#### Proposition 2.1  Enrichir CAT_01 (hospitalisations)

\`\`\`
CRIT : SI E28  3 ET E30  2
ALORS  V4_F5_CRIT_02 (Critique,  72h)  CAT_01
Sens : 3 hospitalisations dont 2 par les urgences = instabilit aigu
\`\`\`

\`\`\`
CCC renforc : SI E28  2 ET E31 =  >7 jours 
ALORS  V4_F5_CCC_03 (CCC,  30j)  CAT_01
Sens : hospitalisation prolonge = dgradation significative
\`\`\`

#### Proposition 2.2  Enrichir CAT_03 (droits sociaux)

\`\`\`
STD : SI O53 =  Non  (sans condition E28)
ALORS  V4_F5_STD_03 (Standard)  CAT_03
Sens : proche non valu AGGIR = droits potentiellement non exercs
\`\`\`

\`\`\`
CCC : SI N30 =  80%  OU O54  {  1 ,  2  }
ALORS  V4_F5_CCC_04 (CCC,  30j)  CAT_03
Sens : dpendance lourde  mobilisation maximale des aides
\`\`\`

\`\`\`
STD : SI N30 =  50-79%  OU O54  {  3 ,  4  }
ALORS  V4_F5_STD_04 (Standard)  CAT_03
Sens : dpendance modre  vrifier adquation des aides
\`\`\`

#### Proposition 2.3  Clarifier questions de cadrage

| Question | Statut propos | Raisonnement |
|---|---|---|
| **N16** | Cadrage | Origine du handicap = contexte. Pas d'action diffrencie par origine. |
| **N37** | Cadrage conditionnel | Type d'addiction = contexte pour aiguiller le spcialiste (alcool  addictologue, jeux  psychologue). Pas de rgle directe mais influence la MT. |
| **N40** | Cadrage | Sevrage tent = historique. Information utile pour le spcialiste. |
| **E29** | Cadrage enrichi | Nb programmes = calcul implicite des non-programmes (E28 - E29). Utilis dans la rgle E30. |

---

## Manquement 3  MT insuffisantes (2 MT pour 12 questions)

### Le problme

| CAT | MT actuelles | Problme |
|---|---|---|
| CAT_01 | **0 MT** | CAT entire sans action  ASR impossible |
| CAT_02 | 1 MT (psychologue mal nomm) | 1 seule MT, acteur incorrect |
| CAT_03 | 1 MT (commentaire, pas action) | Non-contributive, mal rdige |

### Ce que je propose

#### Proposition 3.1  Crer 4 MT pour CAT_01

\`\`\`
MT_V4_NEW_F5_01   Contacter MT pour bilan de sortie et plan de suivi post-hospitalisation 
Type : MED | Acteur : MT |  Contributive

MT_V4_NEW_F5_02   Organiser un RDV de liaison avec le service hospitalier (HAD, SSR) 
Type : SEC | Acteur : IDEC |  Contributive

MT_V4_NEW_F5_03   tablir un historique des hospitalisations (motifs, dure, urgences vs programmes) 
Type : ORGA | Acteur : IDEC |  Non-contributive

MT_V4_NEW_F5_04   Informer l'aidant sur le protocole de retour  domicile post-hospitalisation 
Type : INFO | Acteur : IDEC |  Non-contributive
\`\`\`

#### Proposition 3.2  Reformuler et toffer CAT_02 (14 MT)

\`\`\`
MT_V4_063 REFORMULE   Prendre RDV avec un addictologue ou un CSAPA du territoire 
Type : SEC | Acteur : IDEC |  (au lieu de "psychologue")

MT_V4_NEW_F5_05   Contacter MT pour lettre d'adressage addictologue + bilan addiction 
Type : MED | Acteur : MT |  Contributive

MT_V4_NEW_F5_06   valuer avec l'aidant le niveau de contrle et impact de l'addiction 
Type : ORGA | Acteur : IDEC |  Non-contributive

MT_V4_NEW_F5_07   Informer l'aidant des ressources (CSAPA, lignes d'coute, groupes de parole) 
Type : INFO | Acteur : IDEC |  Non-contributive
\`\`\`

#### Proposition 3.3  Reformuler et toffer CAT_03 (14 MT)

\`\`\`
MT_V4_064 REFORMULE   Initier la demande APA auprs du Conseil Dpartemental 
Type : SEC | Acteur : IDEC |  (au lieu de commentaire)

MT_V4_NEW_F5_08   Accompagner le dossier MDPH si handicap reconnu (N16/N30) 
Type : SEC | Acteur : IDEC |  Contributive

MT_V4_NEW_F5_09   Demander rvaluation GIR si dgradation constate 
Type : SEC | Acteur : IDEC |  Contributive

MT_V4_NEW_F5_10   Informer l'aidant des droits ouverts par le GIR (APA, aides fiscales, services) 
Type : INFO | Acteur : IDEC |  Non-contributive
\`\`\`

---

## Manquement 4  Wording incohrent

#### Proposition 4.1  Corriger F5_RECO_01

\`\`\`
Avant :  Suivi comportement addictif + propre suivi si besoin 
Aprs :  Un suivi spcialis de l'addiction est recommand pour votre proche 
Raison : supprimer la confusion V4 (proche) / V1-V3 (aidant)
\`\`\`

#### Proposition 4.2  Corriger F5_RECO_02

\`\`\`
Avant (IDEC) :  Variable selon dpartement (papier ou numrique)  vrifier spcificits 
Aprs (IDEC) :  Initier la demande APA auprs du Conseil Dpartemental (format papier ou numrique selon le dpartement) 
Raison : transformer le commentaire en action
\`\`\`

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD | N38 "Parfois"  CAT_02 | #4 K3 + #1 |  Critique |
| 1.2 | Rgle CCC | N38/N39 "Oui"  CAT_02 | #4 K3 + #1 |  Critique |
| 1.3 | Rgle CRIT | N38 ET N39 "Oui"  CAT_02 | #1 |  Critique |
| 2.1 | Rgle CRIT+CCC | E283+E302, E282+E31>7j  CAT_01 | #1 |  Haute |
| 2.2 | Rgle STD+CCC | O53/N30/O54  CAT_03 | #1 |  Haute |
| 2.3 | Cadrage | N16, N37, N40, E29 = cadrage | #1 |  Moyenne |
| 3.1 | MT 4 | Crer 4 MT pour CAT_01 | #3 |  Critique |
| 3.2 | MT 4 | Reformuler + toffer CAT_02 | #3 |  Critique |
| 3.3 | MT 4 | Reformuler + toffer CAT_03 | #3 |  Critique |
| 4.1 | Wording | Corriger RECO_01 | #7 |  Haute |
| 4.2 | Wording | Corriger RECO_02 | #7 |  Haute |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  10/12 orphelines |  12/12 (dont 4 cadrage) |
| #3  CAT  MT suffisantes |  CAT_01=0, CAT_02/03=1 |  4 MT par CAT |
| #4  K3 2 niveaux |  CAT_02  |  3/3 CAT 2 niveaux |
| #7  Wording cohrent |  RECO_01+02 |  Wording corrig |
| **Score global** | **4/8** | **8/8** |

---

> ** Ce document est en attente de validation par Dr. Monka.**
`,Ab=`#  Compltude MP  F6  Autonomie fonctionnelle, chutes et aides techniques

> **Vulnrabilit** : V4  Fragilit du Proche  
> **Template officiel** : [F6.md](file:///Users/antonin/monka/KERNEL/VALIDATION_MP/V4/F6.md)  
> **Score checklist actuel** : 3/8  
> **Score checklist cible** : 8/8  
> **Statut** :  En attente validation Dr. Monka

---

## Rsum du diagnostic

F6 est le **cas le plus extrme** de V4 : **0 rgle d'activation legacy**. Le MP entier fonctionne (ou plutt ne fonctionne pas) sans aucune logique de dclenchement  les 7 recos ont \`activation_rule_id = null\`. Paradoxalement, F6 a le plus de MT (19, dont 12 dispatch spcialistes pour O16). Le dfi est double : crer toutes les rgles de zro ET rationaliser les 12 MT dispatch.

| # | Manquement | Check | Impact |
|---|---|---|---|
| 1 | **0 rgle d'activation** (tout  crer) | #1 + #4 K3 | MP entier sans logique |
| 2 | **12 MT dispatch spcialistes** (architecture) | Design | Question unique : 1 vs 12 MT |
| 3 | **CAT_02 : 1 MT** (domicile sous-dimensionn) | #3 | ASR fragile |
| 4 | **Wording** : RECO_03 incohrent, RECO_05 gnrique | #7 | |
| 5 | **MT mal affecte** : MT_V4_066 (fugue) dans F6 au lieu de F3 | #5 | |

---

## Manquement 1  0 rgle (tout  crer)

### Le problme

F6 est le seul MP de V4 entirement sans logique d'activation. Aucune question ne dclenche aucune action. Toutes les rgles ci-dessous sont des propositions de cration.

### Ce que je propose

#### Proposition 1.1  Rgles CAT_01 (Chutes)

\`\`\`
STD : SI O6 =  Oui sans gravit  OU E32 =  Parfois 
ALORS  V4_F6_STD_01  CAT_01
Sens : Risque de chute mergent  bilan prventif

CCC : SI O6 =  Oui complication ou plusieurs fois 
ALORS  V4_F6_CCC_01  CAT_01
Sens : Chutes graves ou rptes  bilan urgent

CCC : SI E32 =  Oui  ET O6   Non 
ALORS  V4_F6_CCC_02  CAT_01
Sens : Transferts impossibles + chutes  risque majeur
\`\`\`

#### Proposition 1.2  Rgles CAT_02 (Domicile)

\`\`\`
STD : SI O51 =  Oui 
ALORS  V4_F6_STD_02  CAT_02
Sens : L'aidant envisage adaptation  accompagnement

STD : SI N32 =  Aucune  ET (E32 =  Oui  OU O6   Non )
ALORS  V4_F6_STD_03  CAT_02
Sens : 0 aide technique malgr perte d'autonomie

CCC : SI N32 =  Aucune  ET E32 =  Oui  ET O6 =  Oui complication 
ALORS  V4_F6_CCC_03  CAT_02
Sens : 0 aide + transferts impossibles + chutes graves
\`\`\`

#### Proposition 1.3  Rgles CAT_03 (Pathologies)

\`\`\`
STD : SI O16   Aucun  ET O16   JNSP 
ALORS  V4_F6_STD_04  CAT_03
Sens : 1 pathologie dclare  suivi spcialiste

CCC : SI COUNT(O16)  3
ALORS  V4_F6_CCC_04  CAT_03
Sens : Poly-pathologie  coordination spcialise
\`\`\`

>  **O16 est  choix multiples** : la logique de rgle doit grer \`COUNT\` et \`CONTAINS\` sur des arrays. Contrainte technique pour le moteur.

#### Proposition 1.4  Rgles CAT_04 (Autonomie quotidienne)

\`\`\`
STD : SI O11 =  Parfois  OU O12 =  Parfois  OU E33 =  Parfois 
ALORS  V4_F6_STD_05  CAT_04
Sens : Autonomie partiellement dgrade

CCC : SI AU MOINS 2 parmi : O11 =  Oui , O12 =  Non , E33 =  Oui 
ALORS  V4_F6_CCC_05  CAT_04
Sens : Autonomie svrement rduite (2 actes perdus)

CRIT : SI O11 =  Oui  ET O12 =  Non  ET E33 =  Oui 
ALORS  V4_F6_CRIT_01  CAT_04
Sens : Autonomie totalement perdue  rorganisation prise en charge urgente
\`\`\`

---

## Manquement 2  Architecture 12 MT dispatch spcialistes

### Le problme

12 MT identiques ("RDV [spcialiste]") conditionnes par les sous-items de O16. Ce n'est pas le pattern classique du moteur Monka  c'est un mcanisme de dispatch conditionnel unique.

### Ce que je propose

#### Proposition 2.1  MT paramtrique (recommand)

\`\`\`
Remplacer les 12 MT par 1 MT paramtrique :
MT_V4_069_PARAM   Prendre RDV avec le spcialiste correspondant  la pathologie identifie 
Type : SEC | Acteur : IDEC |  Contributive

+ MAPPING en annexe :
| Pathologie O16 | Spcialiste | MT_ID legacy |
|---|---|---|
| Respiratoire | Pneumologue | MT_V4_069 |
| Auditif | ORL | MT_V4_070 |
| Gnito-urinaire | Nphrologue/Urologue | MT_V4_071 |
| Cardiovasculaire | Cardiologue | MT_V4_072 |
| Dermatologique | Dermatologue | MT_V4_073 |
| Endocrinienne/Mtabolique | Diabtologue/Endocrinologue | MT_V4_074/078 |
| Cancer | Cancrologue | MT_V4_075 |
| Neurologique | Neurologue | MT_V4_076 |
| Musculo-squelettique | Rhumatologue | MT_V4_077 |
| Gastro-intestinal | Gastro-entrologue | MT_V4_080 |
| Visuel | Ophtalmologue | (manquant) |
| Gntique | Gnticien | (manquant) |
| Psychiatrique | Psychiatre | (dj en F3) |
\`\`\`

**Avantage** : Simplifie la structure (1 MT au lieu de 12). Le mapping est rsolu  l'excution.
**Inconvnient** : Le moteur doit implmenter la rsolution du mapping.

#### Proposition 2.2  Alternative : garder les 12 MT

Si le moteur ne supporte pas les MT paramtriques, garder les 12 MT distinctes mais ajouter les spcialistes manquants (ophtalmologue, gnticien).

> **Dcision Dr. Monka requise** : choix 2.1 (paramtrique) ou 2.2 (12 MT) ?

---

## Manquement 3  CAT_02 sous-dimensionne (1 MT)

### Le problme

1 seule MT pour toute l'adaptation du domicile et les aides techniques. Pas d'valuation ergo, pas d'info financire.

### Ce que je propose

#### Proposition 3.1  toffer CAT_02

\`\`\`
MT_V4_NEW_F6_01   Contacter un ergothrapeute pour valuation complte du domicile 
Type : SEC | Acteur : IDEC |  Contributive

MT_V4_NEW_F6_02   Lister les aides techniques en place (N32) et identifier les manques 
Type : ORGA | Acteur : IDEC |  Non-contributive

MT_V4_NEW_F6_03   Informer l'aidant des aides financires pour adaptation domicile (crdit d'impt, APA, PCH) 
Type : INFO | Acteur : IDEC |  Non-contributive
\`\`\`

---

## Manquement 4  Wording incohrent

#### Proposition 4.1  Corriger F6_RECO_03

\`\`\`
Avant : Utilisateur  bilan nutritionnel  / IDEC  urologue + kin 
Aprs : Sparer en 2 recos distinctes :
  F6_RECO_03a  Utilisateur :  Faire valuer les difficults d'incontinence 
                 IDEC :  MT pour lettre adressage urologue + prescription kin rducation 
  F6_RECO_03b  Utilisateur :  Vrifier que votre proche se nourrit correctement 
                 IDEC :  RDV nutritionniste pour bilan nutritionnel 
\`\`\`

#### Proposition 4.2  Corriger F6_RECO_05

\`\`\`
Avant :  Un suivi rgulier est  prvoir selon les prconisations 
Aprs :  Veillez au suivi spcialiste pour chaque pathologie identifie  un RDV est recommand 
Raison : rendre actionnable (quel suivi ? quel spcialiste ?)
\`\`\`

---

## Manquement 5  MT mal affecte

#### Proposition 5.1  Dplacer MT_V4_066

\`\`\`
MT_V4_066   valuer le risque de fugue ou de perte 
Actuellement : F6 > CAT_01 (chutes)
Propos : F3 > CAT_01 (scurisation comportements)
Raison : La fugue est lie  la dsorientation (E26, F3), pas aux chutes (F6).
\`\`\`

---

## Propositions d'amlioration (non bloquantes)

#### Proposition 6.1  MT ORGA/INFO pour CAT_04

\`\`\`
MT_V4_NEW_F6_04   valuer les capacits restantes pour les gestes quotidiens (manger, tlphone, transferts) 
Type : ORGA | Acteur : IDEC |  Non-contributive | CAT_04

MT_V4_NEW_F6_05   Former l'aidant aux aides  l'alimentation et aux gestes de scurit 
Type : INFO | Acteur : IDEC |  Non-contributive | CAT_04
\`\`\`

**Raisonnement** : E33 (utilisation appareils) n'a aucune MT. Les 3 MT existantes sont toutes MED (orientation mdicale) sans valuation pralable.

---

## Rcapitulatif des propositions

| # | Type | Proposition | Check rsolu | Priorit |
|---|---|---|---|---|
| 1.1 | Rgle STD+CCC | CAT_01 chutes (O6, E32) | #1 + #4 |  Critique |
| 1.2 | Rgle STD+CCC | CAT_02 domicile (O51, N32) | #1 + #4 |  Critique |
| 1.3 | Rgle STD+CCC | CAT_03 pathologies (O16)  array logic | #1 + #4 |  Critique |
| 1.4 | Rgle STD+CCC+CRIT | CAT_04 autonomie (O11, O12, E33) | #1 + #4 |  Critique |
| 2.1 | Architecture | 1 MT paramtrique + mapping (vs 12 MT) | Design |  Haute |
| 3.1 | MT 3 | toffer CAT_02 (ergo, inventaire, info financire) | #3 |  Haute |
| 4.1 | Wording | Sparer RECO_03 (incontinence  nutrition) | #7 |  Haute |
| 4.2 | Wording | Corriger RECO_05 (trop gnrique) | #7 |  Haute |
| 5.1 | Raffectation | MT_V4_066 (fugue)  F3 | #5 |  Moyenne |
| 6.1 | MT 2 | ORGA+INFO pour CAT_04 (E33 non couvert) | Amlioration |  Moyenne |

### Impact sur le score

| Check | Avant | Aprs (si valid) |
|---|---|---|
| #1  Questions  rgles |  0 rgle legacy |  8/8 couvertes |
| #3  CAT  MT suffisantes |  CAT_02=1 MT |  4 MT CAT_02 |
| #4  K3 2 niveaux |  0 rgle |  4/4 CAT 2 niveaux |
| #5  MT orphelines |  MT_V4_066 |  Raffecte |
| #7  Wording cohrent |  RECO_03/05 |  Corrig |
| **Score global** | **3/8** | **8/8** |

---

> ** Ce document est en attente de validation par Dr. Monka.**
`,Sb=`#  Compltude  M1  Comprhension du diagnostic et de la maladie

> **Vulnrabilit** : V5  Parcours Mdical  
> **Score POST-VALIDATION** : 7/8  
> **Score cible** : 8/8  
> **Date** : 15/02/2026

---

## Bilan post-validation Dr. Monka

Dr. Monka a valid TOUTES les sections (3-7) du template M1, y compris les propositions. Cela signifie que les lments suivants sont dsormais **officiels** :

###  lments valids (plus  proposer)

| lment | Dtail | Statut |
|---|---|---|
| 5 nouvelles rgles | STD_P01, STD_P02, CCC_P01, CRIT_P01 (CAT_01) + STD_P03 (CAT_03) |  Valid |
| K3 conforme 3/3 | CAT_01 (STD+CCC+CRIT), CAT_02 (STD+CCC), CAT_03 (STD+CCC) |  Valid |
| Questions orphelines rsolues | E34, E35, N41 couvertes. N17 = contexte document. |  Valid |
| 4 MT ajoutes | P01 (INFO doc vulgaris), P02 (SEC coordination), P03 (MED 2nd avis), P04 (STRUC rfrents) |  Valid |
| MT_V4_050 retire | Flag moteur, pas une MT clinique |  Valid |
| Wording recos corrig | 7 recos reformules (conseil succinct au lieu de verbe d'action) |  Valid |
| Versioning par criticit | 3 niveaux par CAT avec wording adapt |  Valid |
| Reco prvention | 1 reco + 2 MT prvention |  Valid |

### Score post-validation

| Check | Statut | Dtail |
|---|---|---|
| #1 Questions  rgles |  | 6/7 couverts (N17 = contexte) |
| #2 Rgle  reco |  | 9 rgles, toutes avec reco |
| #3 CAT  MT |  | **CAT_02 : 5 ORGA + 2 proposes (SEC+MED)  OK si implmentes** |
| #4 K3 |  | 3/3 |
| #5 MT cohrentes |  | **MT_V5_074/064 quasi-doublons  fusionner** |
| #6 Reco prvention |  | |
| #7 Wording |  | |
| #8 Sens clinique |  | |

> **Score : 7/8**  il reste 1 point : la fusion des MT doublons (#5).

---

## Ce qui reste  faire (post-validation)

### PROP-M1-01   Fusionner MT quasi-doublons CAT_01

MT_V5_074 ("Proposer un temps d'change ddi") et MT_V5_064 ("Proposer un temps d'change pour faire le point") sont quasi-identiques. La fusion a t valide par Dr. Monka mais pas encore implmente.

> **Action** : Conserver MT_V5_074, retirer MT_V5_064. Score : 7/8  8/8.

---

## Rsum

| # | lment | Priorit | Statut |
|---|---|---|---|
| 01 | Fusionner MT_V5_074/064 |  |   implmenter |
| ~~02~~ | ~~5 rgles~~ | ~~~~ |  Valid |
| ~~03~~ | ~~4 MT ajoutes~~ | ~~~~ |  Valid |
| ~~04~~ | ~~K3 3/3~~ | ~~~~ |  Valid |
| ~~05~~ | ~~Wording~~ | ~~~~ |  Valid |

> **Total restant** : 1 action mineure (fusion MT). Score : 7/8  8/8.
`,Eb=`#  Compltude  M2  Accs aux soins et professionnels de sant

> **Vulnrabilit** : V5  Parcours Mdical  
> **Score POST-VALIDATION** : 7/8  
> **Score cible** : 8/8  
> **Date** : 15/02/2026

---

## Bilan post-validation Dr. Monka

Dr. Monka a valid TOUTES les sections (3-7) du template M2, y compris les propositions. Cela signifie que les lments suivants sont dsormais **officiels** :

###  lments valids (plus  proposer)

| lment | Dtail | Statut |
|---|---|---|
| 8 nouvelles rgles | STD_P01-P06 + CCC_P01 + CRIT_P01 |  Valid |
| K3 conforme 4/4 | CAT_01 (STD+CCC), CAT_02 (STD+CCC), CAT_03 (STD+CCC), CAT_04 (STD+CCC+CRIT) |  Valid |
| O17 = "Non"  Critique | Pas de mdecin traitant = rupture totale, dlai 7j |  Valid |
| Questions orphelines rsolues | E39, E41, O17, O18, O20 couverts. O19 = dispatch, O21 = conditionnel. |  Valid |
| 6 MT ajoutes | INFO transport, STRUC aide transport, STRUC ETP, ORGA vrif. MT, INFO bilans, DISPATCH param. |  Valid |
| Fusion MT_V4_005/016 | Quasi-doublons CAT_02 |  Valid |
| Dispatch paramtrique O19 | 17 MT  1 MT dynamique |  Valid |
| Wording recos corrig | 6 recos reformules |  Valid |
| Cross-activations documentes | E42/E43 (M3), N14 (V4/F2) |  Document |

### Score post-validation

| Check | Statut | Dtail |
|---|---|---|
| #1 Questions  rgles |  | 8/9 couverts (O19 = dispatch contextuel) |
| #2 Rgle  reco |  | 10 rgles, toutes avec reco |
| #3 CAT  MT |  | Toutes les CAT ont 1  |
| #4 K3 |  | 4/4 |
| #5 MT cohrentes |  | **Dispatch paramtrique valid mais pas encore implment dans le moteur** |
| #6 Reco prvention |  | |
| #7 Wording |  | |
| #8 Sens clinique |  | |

> **Score : 7/8**  il reste 1 point : l'implmentation du dispatch paramtrique (#5).

---

## Ce qui reste  faire (post-validation)

### PROP-M2-01   Implmenter le dispatch paramtrique O19

Le dispatch paramtrique (17 MT  1 MT dynamique \`{param: O19.selected}\`) a t valid par Dr. Monka mais ncessite une modification d'architecture moteur. Ce pattern est commun avec F6 (V4)  les deux doivent tre traits ensemble.

> **Action** : Implmenter le mcanisme paramtrique pour M2 et F6 simultanment. Score : 7/8  8/8.

> **Dcision architecturale** : Le moteur doit supporter \`MT {param: O19.selected}\` pour gnrer dynamiquement les MTs par spcialiste.

---

## Rsum

| # | lment | Priorit | Statut |
|---|---|---|---|
| 01 | Dispatch paramtrique O19 (moteur) |  |   implmenter |
| ~~02~~ | ~~8 rgles~~ | ~~~~ |  Valid |
| ~~03~~ | ~~K3 4/4~~ | ~~~~ |  Valid |
| ~~04~~ | ~~O17 Critique~~ | ~~~~ |  Valid |
| ~~05~~ | ~~6 MT ajoutes~~ | ~~~~ |  Valid |
| ~~06~~ | ~~Wording~~ | ~~~~ |  Valid |
| ~~07~~ | ~~Cross-activations~~ | ~~~~ |  Document |

> **Total restant** : 1 action technique (dispatch paramtrique). Score : 7/8  8/8.
`,Mb=`#  Compltude  M3  Urgences, hospitalisations et suivi mdical

> **Vulnrabilit** : V5  Parcours Mdical  
> **Score POST-VALIDATION** : 8/8  
> **Date** : 15/02/2026

---

## Bilan post-validation Dr. Monka

Dr. Monka a valid TOUTES les sections (3-7) du template M3 sans aucun commentaire.

###  lments valids

| lment | Dtail | Statut |
|---|---|---|
| 3 catgories | Stabilit suivi (CAT_01), Bilan synthse (CAT_02), Post-hospitalisation (CAT_03) |  Valid |
| 3 nouvelles rgles | STD_P01 (E43 rupture), CCC_P01 (E423+E43), CRIT_P01 (E424) |  Valid |
| Dplacement 3 rgles M3M4 | STD_04, STD_05, CCC_03 (questions 100% M4) |  Valid |
| K3 3/3 | CAT_01 (STD+CCC+CRIT), CAT_02 (STD+CCC), CAT_03 (STD+CCC) |  Valid |
| Fusions MT | MT_V4_056/065 + MT_V4_061/063/067/090 (41-2) |  Valid |
| Retrait MT_V4_137 | Flag moteur, pas MT clinique |  Valid |
| 3 MT ajoutes | MED (urgences), ORGA (bilan RDV), SEC (contact MT post-hospit) |  Valid |
| Wording + Versioning | 4 recos reformules, 3 niveaux par CAT |  Valid |
| Reco prvention + 2 MT |  Prvention stabilit suivi |  Valid |

### Score post-validation

| Check | Statut |
|---|---|
| #1 Questions  rgles |  4/4 |
| #2 Rgle  reco |  |
| #3 CAT  MT |  |
| #4 K3 |  3/3 |
| #5 MT cohrentes |  (aprs fusions) |
| #6 Reco prvention |  |
| #7 Wording |  |
| #8 Sens clinique |  |

> **Score : 8/8**  Rien  complter. M3 est le MP le plus complet de V5.

---

## Particularits M3  documenter

1. **MP "sentinelle"** : M3 ne ragit que quand le parcours drape (urgences, ruptures). Design original.
2. **Cross-activations massives** : CCC_01 utilise E52 (M5), CCC_02 utilise E47 (M4). Aprs dplacement des 3 rgles vers M4, M3 garde 5 rgles propres + 2 cross.
3. **Ratio SEC lev** (8/12 contributives) : justifi pour un MP de surveillance.
`,bb=`#  Compltude  M4  Addictions, troubles psychiques et suivi spcialis

> **Vulnrabilit** : V5  Parcours Mdical  
> **Score POST-VALIDATION** : 8/8  
> **Date** : 15/02/2026

---

## Bilan post-validation Dr. Monka

Dr. Monka a valid TOUTES les sections (3-7) du template M4 sans aucun commentaire. Transformation majeure : M4 avait le **pire ratio de tout V1-V5** (1 rgle pour 7 questions) et passe  14 rgles.

###  lments valids

| lment | Dtail | Statut |
|---|---|---|
| 4 catgories | Addictologie (CAT_01), Suivi psy (CAT_02), Plan crise (CAT_03), Post-hospit psy (CAT_04) |  Valid |
| 10 nouvelles rgles | STD_P01-P05, CCC_P01-P04, CRIT_P01 |  Valid |
| 3 rgles transfres M3M4 | STD_04 (E47), STD_05 (E50), CCC_03 (E50+E51) |  Valid |
| K3 4/4 | De 0/4  4/4  transformation complte |  Valid |
| Rgle Critique | E50+E51+E47 triple signal = danger immdiat |  Valid |
| Retrait MT_V4_062/076 | SAD/SSIAD mal affectes  erreur data |  Valid |
| 6 MT ajoutes | CSAPA (MED), groupes parole (INFO), motivation (ORGA), plan crise (STRUC2), rseau psy (STRUC) |  Valid |
| Wording + Versioning | 7 recos reformules, niveaux par CAT incluant  Critique |  Valid |
| Reco prvention + 2 MT |  Prvention stabilit suivi spcialis |  Valid |

### Score post-validation

| Check | Statut |
|---|---|
| #1 Questions  rgles |  7/7 (E49 = contexte) |
| #2 Rgle  reco |  |
| #3 CAT  MT |  |
| #4 K3 |  4/4 |
| #5 MT cohrentes |  (aprs nettoyage) |
| #6 Reco prvention |  |
| #7 Wording |  |
| #8 Sens clinique |  |

> **Score : 8/8**  Rien  complter.

---

## Particularits M4  documenter

1. **Transformation la plus radicale** : 1 rgle  14 (legacy + transfres + proposes). Score : 1/8  8/8.
2. **Seul MP avec Critique valid dans V5** : triple signal E50+E51+E47 (pas de suivi + refus aide + pas de plan) = dlai 7j.
3. **4/7 questions conditionnelles** (N3 = trouble psy ou addiction). M4 ne s'active que pour une sous-population.
4. **Cross-MP avec M3** : 3 rgles transfres de M3 (E47, E50, E51). Aprs transfert, M3 garde son rle sentinelle, M4 rcupre les signaux psy.
5. **Ratio ORGA lev** (10/12 non-contributives) : cliniquement justifi pour l'accompagnement motivationnel face au refus.
`,Rb=`#  Compltude  M5  Coordination des soins et personne de rfrence

> **Vulnrabilit** : V5  Parcours Mdical  
> **Score POST-VALIDATION** : 7/8  
> **Score cible** : 8/8  
> **Date** : 15/02/2026

---

## Bilan post-validation Dr. Monka

Dr. Monka a valid TOUTES les sections (3-7) du template M5, y compris les propositions. Cela signifie que les lments suivants sont dsormais **officiels** :

###  lments valids (plus  proposer)

| lment | Dtail | Statut |
|---|---|---|
| 6 nouvelles rgles | STD_P01-P03 + CCC_P01-P02 + CRIT_P01 |  Valid |
| K3 conforme 2/2 | CAT_01 (STD+CCC+CRIT), CAT_02 (STD+CCC) |  Valid |
| Questions orphelines rsolues | E53, E55 couverts. O59 = profiling document. |  Valid |
| 2 MT ajoutes | STRUC annuaire rseau (P01), MED concertation pluripro (P02) |  Valid |
| MT_V4_002 retire | Ergothrapeute dplace vers M6/V4 |  Valid |
| MT_V4_093 reformule | "Dispositifs coordination territoire" (plus gnrique) |  Valid |
| MT_V4_029/042 dplaces | Vers reco prvention (pertinentes quand coordination OK) |  Valid |
| Wording recos corrig | 3 recos reformules |  Valid |
| Ratio contributif doubl | 20%  40% |  Valid |
| Cross-activation M6M5 | E54+E57 via V4_M5_CCC_01 documente |  Document |

### Score post-validation

| Check | Statut | Dtail |
|---|---|---|
| #1 Questions  rgles |  | 3/4 couverts (O59 = profiling) |
| #2 Rgle  reco |  | 8 rgles, toutes avec reco |
| #3 CAT  MT |  | MT redistribues par CAT |
| #4 K3 |  | 2/2 |
| #5 MT cohrentes |  | **O59 : MT contextuelles si "Aucun intervenant" proposes Phase B** |
| #6 Reco prvention |  | |
| #7 Wording |  | |
| #8 Sens clinique |  | |

> **Score : 7/8**  il reste 1 point : l'exploitation contextuelle de O59 (#5).

---

## Ce qui reste  faire (post-validation)

### PROP-M5-01   MT contextuelles O59

O59 = "Aucun intervenant au domicile" pourrait dclencher une alerte d'isolement domiciliaire. Ce mcanisme a t identifi mais ncessite une rflexion architecturale sur le traitement des questions de profiling.

> **Action** : Dfinir le mcanisme de MT contextuelles pour les questions de profiling (O59). Score : 7/8  8/8.

---

## Rsum

| # | lment | Priorit | Statut |
|---|---|---|---|
| 01 | MT contextuelles O59 (profiling) |  |   dfinir |
| ~~02~~ | ~~6 rgles~~ | ~~~~ |  Valid |
| ~~03~~ | ~~2 MT ajoutes~~ | ~~~~ |  Valid |
| ~~04~~ | ~~K3 2/2~~ | ~~~~ |  Valid |
| ~~05~~ | ~~Wording~~ | ~~~~ |  Valid |

> **Total restant** : 1 action de conception (MT profiling). Score : 7/8  8/8.
`,yb=`#  Compltude  M6  Vision globale du parcours de soins et valuations spcialises

> **Vulnrabilit** : V5  Parcours Mdical  
> **Score POST-VALIDATION** : 7/8  
> **Score cible** : 8/8  
> **Date** : 15/02/2026

---

## Bilan post-validation Dr. Monka

Dr. Monka a valid TOUTES les sections (3-7) du template M6, y compris les propositions. M6 reprsente la **plus grande transformation ex nihilo du KERNEL** : passage de 0  11 rgles.

###  lments valids (plus  proposer)

| lment | Dtail | Statut |
|---|---|---|
| 11 nouvelles rgles | STD_P01-P06 + CCC_P01-P04 + CRIT_P01 |  Valid |
| K3 conforme 4/4 | Toutes les CATs ont STD+CCC (ou +CRIT) |  Valid |
| Parcours "mort" ressuscit | 0 rgle legacy  11 rgles = 6 recos enfin activables |  Valid |
| 3 MT ajoutes | STRUC synthse parcours, SEC ligibilit griatrique, MED avis neuropdiatrique |  Valid |
| 2 paires MT fusionnes | MT_V4_103/104 (famille/aidant) + MT_V4_107/121 (dispositifs) |  Valid |
| E56 dispatch center | 7 rponses  5 MP/V diffrents  mcanisme document |  Document |
| CRIT_P01 valid | E54=Ingrable + E57=au jour le jour = effondrement |  Valid |
| Wording recos corrig | 6 recos reformules |  Valid |
| Cross-activation M5 | E54+E57 vers V4_M5_CCC_01 documente |  Document |

### Score post-validation

| Check | Statut | Dtail |
|---|---|---|
| #1 Questions  rgles |  | 6/6 couverts |
| #2 Rgle  reco |  | 11 rgles, toutes avec reco |
| #3 CAT  MT |  | Toutes les CAT ont 1  |
| #4 K3 |  | 4/4 |
| #5 MT cohrentes |  | **E56 dispatch center : mcanisme de redirection  formaliser dans le moteur** |
| #6 Reco prvention |  | |
| #7 Wording |  | |
| #8 Sens clinique |  | |

> **Score : 7/8**  il reste 1 point : la formalisation du mcanisme de dispatch E56 (#5).

---

## Ce qui reste  faire (post-validation)

### PROP-M6-01   Formaliser le dispatch E56

E56 (inquitudes) est un "dispatch center" unique dans le KERNEL : chaque rponse pointe vers un MP/V diffrent (ChutesV4/F1, MmoireM6_CAT_03, UrgencesM3, Maintien domicileV4/F6, AlimentationV4/F2). Le mcanisme de redirection n'est pas implment dans le moteur.

> **Action** : Dfinir et implmenter le mcanisme de dispatch E56 dans le moteur. Score : 7/8  8/8.

### PROP-M6-02   Rattacher MT_V4_002 (ergothrapeute)

MT dplace depuis M5   rattacher soit  M6/CAT_03 (valuations griatriques) soit  V4 (fragilit physique).

> **Action** : Dcider du rattachement de MT_V4_002. Impact mineur.

---

## Rsum

| # | lment | Priorit | Statut |
|---|---|---|---|
| 01 | Dispatch E56 (mcanisme moteur) |  |   implmenter |
| 02 | Rattacher MT_V4_002 |  |   dcider |
| ~~03~~ | ~~11 rgles~~ | ~~~~ |  Valid |
| ~~04~~ | ~~K3 4/4~~ | ~~~~ |  Valid |
| ~~05~~ | ~~3 MT ajoutes~~ | ~~~~ |  Valid |
| ~~06~~ | ~~2 fusions MT~~ | ~~~~ |  Valid |
| ~~07~~ | ~~Wording~~ | ~~~~ |  Valid |
| ~~08~~ | ~~Cross-activations~~ | ~~~~ |  Document |

> **Total restant** : 2 actions (dispatch E56 + rattachement MT). Score : 7/8  8/8.
`,Ob=`#  Contrle de Cohrence  V1 Social & Relationnel

> **Vulnrabilit** : V1  Social & Relationnel  
> **15 questions**  **4 MPs** (R1, R2, R3, R4)  **0 doc de compltude**  
> **Date** : 15/02/2026  
> **Score global** : 32/32 (100%) 

---

## 1. COUVERTURE DES QUESTIONS

### 1.1  Mapping question  MP (15/15)

| Q_ID | Libell (rsum) | MP | Unique ? |
|---|---|---|---|
| O27 | Retentissement vie prive | **R1** |  |
| O28 | Retentissement vie professionnelle | **R1** |  |
| N7 | Situation professionnelle | **R1** |  |
| E1 | Rpartition de l'aide | **R2** |  |
| E2 | Entourage qui aide | **R2** |  |
| E3 | Types de soutien reus | **R2** |  |
| N4 | Aidant seul | **R2** |  |
| N20 | Modification de vie sociale du proche | **R3** |  |
| O47 | Distance aidant-proche | **R3** |  |
| O48 | Frquence visites | **R3** |  |
| E4 | Qualit de la relation | **R4** |  |
| E5 | Tensions lies  l'aide | **R4** |  |
| E6 | Acceptation de l'aide par le proche | **R4** |  |
| O30 | Inquitude volution relation | **R4** |  |
| O31 | Sentiment d'en faire trop | **R4** |  |

>  **15/15 questions assignes, 0 doublon, 0 question orpheline**

### 1.2  Rpartition par MP

| MP | Nb Q | % de V1 | quilibre |
|---|---|---|---|
| R1 | 3 | 20% |  Cibl  impact |
| R2 | 4 | 27% |  Solide  rseau soutien |
| R3 | 3 | 20% |  Cibl  isolement proche |
| R4 | 5 | 33% |  Dense  relation |

---

## 2. COHRENCE DES FRONTIRES INTER-MP

### 2.1  Matrice de frontire clinique

| Frontire | Critre discriminant | Confiance |
|---|---|---|
| **R1  R2** | R1 = consquences (impact), R2 = ressources (soutien) |  Haute |
| **R1  R3** | R1 = vie de l'aidant, R3 = vie sociale du proche |  Haute |
| **R1  R4** | R1 = impact sur MA vie, R4 = qualit de NOTRE relation |  Haute |
| **R2  R3** | R2 = rseau de l'aidant, R3 = isolement du proche |  Haute |
| **R2  R4** | R2 = qui m'aide, R4 = comment va notre relation |  Haute |
| **R3  R4** | R3 = socialisation du proche, R4 = relation interpersonnelle |  Haute |

>  **Toutes les frontires sont claires.** V1 est la vulnrabilit avec les distinctions inter-MP les plus nettes. Les 4 angles (impact, soutien, isolement proche, relation) sont orthogonaux.

### 2.2  Cross-MP

| Mcanisme | Dtail | Justification |
|---|---|---|
| **R4_CCC_02** (cross-MP R2) | E5 (tensions, R4) + E1 (rpartition, R2) | Charge dsquilibre  tensions relationnelles |
| **R2/R3 superposition** | N4 (aidant seul, R2) + O48 (visites rares, R3) | Double isolement capt par activation simultane |
| **E1 (R2) dbattable R4** | Rpartition dsquilibre pourrait alimenter E5 (tensions) | Capt par CCC_02 cross-MP  pas de doublon |

>  **1 seul cross-MP explicite** (R4_CCC_02). Bien document, justifi cliniquement.

---

## 3. TAT DES RGLES D'ACTIVATION

| MP | Rgles |  STD |  CCC |  CRIT | Total |
|---|---|---|---|---|---|
| R1 | V1_R1_* | 4 | 2 | 2 | **8** |
| R2 | V1_R2_* | 4 | 3 | 2 | **9** |
| R3 | V1_R3_* | 3 | 1 | 1 | **5** |
| R4 | V1_R4_* | 5 | 3 | 2 | **10** |
| **Total V1** | | **16** | **9** | **7** | **32** |

### Questions  Rgles

| MP | Questions activant | Questions contextuelles | Check #1 |
|---|---|---|---|
| R1 | 3/3 (O27, O28, N7) | 0 |  |
| R2 | 4/4 (E1, E2, E3, N4) | 0 |  |
| R3 | 3/3 (N20, O47, O48) | 0 |  |
| R4 | 5/5 (E4, E5, E6, O30, O31) | 0 |  |

>  **15/15 questions activent au moins 1 rgle. 0 question muette.**

### K3  Niveaux par catgorie

| MP | CAT_01 | CAT_02 | CAT_03 | K3 OK ? |
|---|---|---|---|---|
| R1 | STD + CCC + CRIT | STD + CCC + CRIT | STD + CCC + CRIT |  |
| R2 | STD + CCC + CRIT | STD + CCC + CRIT | STD + CCC |  |
| R3 | STD + CCC + CRIT | STD + CCC + CRIT |  |  |
| R4 | STD + CCC + CRIT | STD + CCC + CRIT | STD + CCC + CRIT |  |

>  **Toutes les catgories ont 2 niveaux. K3 respect partout.**

---

## 4. TAT DES MICRO-TCHES

| MP | MT totales |  Contributives |  Non-contrib. | Domaines |
|---|---|---|---|---|
| R1 | 11 | ~4 (STRUC+SEC) | ~7 (INFO+ORGA) | 91% mdico-social, 9% mdical |
| R2 | 14 | ~4 (SEC+STRUC) | ~10 (INFO+ORGA) | 100% mdico-social |
| R3 | 6 | ~3 (STRUC+SEC) | ~3 (INFO+ORGA) | 83% mdico-social, 17% mdical |
| R4 | 16 | ~6 (STRUC+SEC) | ~10 (INFO+ORGA) | 81% mdico-social, 19% mdical |
| **Total V1** | **47** | **~17** | **~30** | |

### ASR par MP

| MP | ASR | Validable ? |
|---|---|---|
| R1 |  Mesurer l'impact de l'aidance sur votre vie et ajuster  |  |
| R2 |  Renforcer votre rseau de soutien  |  |
| R3 |  Prserver la vie sociale de votre proche  |  |
| R4 |  Amliorer la qualit de votre relation avec votre proche  |  |

>  **4/4 ASR validables. Chaque MP a des MT contributives suffisantes.**

---

## 5. COHRENCE CLINIQUE

### Couverture thmatique V1

| Dimension | MP couvrant | Profondeur |
|---|---|---|
| Impact vie personnelle | R1 |  Excellent |
| Impact vie professionnelle | R1 |  Excellent |
| Rseau de soutien aidant | R2 |  Excellent |
| Isolement aidant | R2 |  Excellent |
| Vie sociale du proche | R3 |  Bon |
| Distance gographique | R3 |  Bon |
| Qualit relation interpersonnelle | R4 |  Excellent |
| Acceptation de l'aide | R4 |  Excellent |

>  **Aucun trou clinique. V1 est la vulnrabilit la plus complte du moteur.**

### Observation : R3 est lger

R3 n'a que 3 questions et 6 MT  c'est le MP le plus lger de V1. Mais c'est cohrent : l'isolement du PROCHE (pas de l'aidant) est un thme plus troit, avec moins de leviers d'action pour l'IDEC. R3 atteint quand mme 8/8.

---

## 6. COHRENCE PRODUIT

### Checklist 8/8

| MP | Score | Prvention | K3 | ASR | Cross-MP |
|---|---|---|---|---|---|
| R1 | **8/8**  |  |  |  |  |
| R2 | **8/8**  |  |  |  |  (source CCC_02) |
| R3 | **8/8**  |  |  |  |  |
| R4 | **8/8**  |  |  |  |  (CCC_02 cross-MP) |
| **V1** | **32/32** | | | | |

### Doublons et conflits

| Doublon potentiel | Rsolution |
|---|---|
|  Orienter vers psychologue  R1 vs V3 | R1 via MT (prescription), V3 direct  pas de doublon inter-V |
| R2_CAT  R4 tensions | Capt par R4_CCC_02 cross-MP, pas de conflit |

---

## 7. SYNTHSE V1

| Critre | Verdict |
|---|---|
| Couverture questions |  15/15, 0 doublon |
| Frontires inter-MP |  Toutes claires (orthogonales) |
| Rgles d'activation |  32 rgles, 15/15 questions activent |
| K3 |  Toutes catgories 2 niveaux |
| MT contributives |  4/4 MPs |
| ASR |  4/4 validables |
| Reco prvention |  4/4 |
| Score global | **32/32 (100%)** |
| Docs de compltude ncessaires | **0** |

> **V1 est le modle de rfrence.** Aucune action requise. Toutes les catgories ont 3 niveaux (STD+CCC+CRIT), toutes les questions activent, tous les ASR sont validables. C'est le standard  atteindre pour V2-V5.
`,Db=`#  Contrle de Cohrence  V2 Administratif & Juridique

> **Vulnrabilit** : V2  Administratif & Juridique  
> **21 questions**  **4 MPs** (A1, A2, A3, A4)  **0 doc de compltude**  
> **Date** : 15/02/2026  
> **Score global** : 32/32 (100%) 

---

## 1. COUVERTURE DES QUESTIONS

### 1.1  Mapping question  MP (21/21)

| Q_ID | Libell (rsum) | MP | Unique ? |
|---|---|---|---|
| E21 | Capacit  maintenir situation de vie | **A1** |  |
| E68 | Temps hebdo dmarches admin | **A1** |  |
| O23 | Couverture sant aidant | **A1** |  |
| O45 | Couverture sant proche | **A1** |  |
| E62 | Aides sociales demandes | **A2** |  |
| N29 | Aides obtenues | **A2** |  |
| N42 | Bnficiaire ALD | **A2** |  |
| O53 | valuation dpendance effectue | **A2** |  |
| O54 | Niveau GIR | **A2** |  |
| E61 | Couverture par un SAAD | **A3** |  |
| E66 | Complexit perue des dmarches | **A3** |  |
| E69 | Comptence numrique | **A3** |  |
| E70 | Frquence situations urgentes | **A3** |  |
| N6 | Mise en place gestionnaire de cas | **A3** |  |
| E63 | Dmarches qui proccupent le plus | **A4** |  Dbattable |
| E64 | Amnagements scolaires/pro | **A4** |  |
| E65 | Besoins scolaires/pro non satisfaits | **A4** |  |
| E67 | Conciliation vie pro/aidance | **A4** |  |
| N43 | Services d'accompagnement utiliss | **A4** |  |
| N5 | Associations frquentes | **A4** |  |
| O61 | Moyens financiers suffisants | **A4** |  |

>  **21/21 questions assignes, 0 doublon**
>  **E63** est dbattable (A3 vs A4). Choix A4 justifi : E63 = inventaire factuel des proccupations, pas mesure de complexit perue (= A3). E63 sert de dclencheur dans le CCC_02 de A4.

### 1.2  Rpartition par MP

| MP | Nb Q | % de V2 | quilibre |
|---|---|---|---|
| A1 | 4 | 19% |  Cibl  couverture de base |
| A2 | 5 | 24% |  Solide  droits concrets |
| A3 | 5 | 24% |  Solide  charge admin |
| A4 | 7 | 33% |  Dense  inclusion + budget |

---

## 2. COHRENCE DES FRONTIRES INTER-MP

### 2.1  Matrice de frontire clinique

| Frontire | Critre discriminant | Confiance |
|---|---|---|
| **A1  A2** | A1 = couverture BASE, A2 = droits CONCRETS activs |  Haute |
| **A1  A3** | A1 = est-ce couvert ?, A3 = est-ce que a m'accable ? |  Haute |
| **A1  A4** | A1 = couverture, A4 = inclusion/budget/viabilit |  Haute |
| **A2  A3** | A2 = quels droits, A3 = combien a cote en nergie |  Haute |
| **A2  A4** | A2 = droits ouverts, A4 = services utiliss + budget |  Haute |
| **A3  A4** | A3 = perception complexit, A4 = inventaire proccupations |  Moyenne |

>  **La frontire A3/A4 est la plus fine de V2** (comme S3/S4 pour V3). Le critre : A3 = PERCEPTION de la charge admin (E66 complexit, E70 urgence), A4 = CONTENU des proccupations (E63 inventaire) + rsultats concrets (inclusion, budget). E63 est le point de friction  mais le choix A4 est justifi et stable.

### 2.2  Cross-MP et liaisons

| Mcanisme | Dtail | Justification |
|---|---|---|
| **A3_CCC_01** | E61 (SAAD, A3) + E21 (maintien, A1) | Si pas de SAAD ET pas de projet de maintien  double vulnrabilit |
| **A3_CCC_03** | N6 (gestionnaire cas, A3) + E21 (A1) | Si pas de gestionnaire ET maintien incertain  accompagnement urgent |
| **A1_CAT_03 vs A3_CAT_01** | Charge en temps (A1) vs complexit perue (A3) | Distinction volume  difficult  cohrent |
| **A2_CAT_01 vs A4_CAT_03** | Droits financiers (A2) vs viabilit financire (A4) | Levier (A2) vs rsultat (A4)  cohrent |
| **E62  N29  N43  E66** | Vue complte V2 : droits ouverts (A2), par qui (A4), charge (A3) | Croisement assur au niveau V2 global |

>  **Cross-MP bien documents, distinctions claires.**

---

## 3. TAT DES RGLES D'ACTIVATION

| MP |  STD |  CCC |  CRIT | Total |
|---|---|---|---|---|
| A1 | 3 | 3 | 1 | **7** |
| A2 | 4 | 3 | 2 | **9** |
| A3 | 4 | 3 | 2 | **9** |
| A4 | 3 | 3 | 2 | **8** |
| **Total V2** | **14** | **12** | **7** | **33** |

### Questions  Rgles

| MP | Questions activant | Check #1 |
|---|---|---|
| A1 | 4/4 (E21, E68, O23, O45) |  |
| A2 | 5/5 (E62, N29, N42, O53, O54) |  |
| A3 | 5/5 (E61, E66, E69, E70, N6) |  |
| A4 | 7/7 (E63, E64, E65, E67, N43, N5, O61) |  |

>  **21/21 questions activent au moins 1 rgle. 0 question muette.**

### K3  Niveaux par catgorie

| MP | CAT_01 | CAT_02 | CAT_03 | K3 OK ? |
|---|---|---|---|---|
| A1 | STD + CCC | STD + CCC | STD + CCC + CRIT |  |
| A2 | STD + CCC + CRIT | STD + CCC + CRIT | STD + CCC |  |
| A3 | STD + CCC + CRIT | STD + CCC + CRIT |  |  |
| A4 | STD + CCC + CRIT | STD + CCC + CRIT | STD + CCC |  |

>  **Toutes les catgories ont 2 niveaux. K3 respect partout.**

---

## 4. TAT DES MICRO-TCHES

| MP | MT totales |  Contributives |  Non-contrib. | Domaines |
|---|---|---|---|---|
| A1 | 10 | 4 (STRUC:1, SEC:3) | 6 (INFO:3, ORGA:3) | 100% mdico-social |
| A2 | 10 | 4 (STRUC:1, SEC:3) | 6 (INFO:3, ORGA:3) | 100% mdico-social |
| A3 | 8 | 4 (STRUC:2, SEC:2) | 4 (INFO:2, ORGA:2) | 100% mdico-social |
| A4 | 11 | 5 (STRUC:2, SEC:3) | 6 (INFO:3, ORGA:3) | 100% mdico-social |
| **Total V2** | **39** | **17** | **22** | |

### ASR par MP

| MP | ASR | Validable ? |
|---|---|---|
| A1 |  Scuriser votre couverture et anticiper  |  |
| A2 |  Activer vos droits et aides  |  |
| A3 |  Simplifier vos dmarches administratives  |  |
| A4 |  Stabiliser votre situation et vos moyens  |  |

>  **4/4 ASR validables. V2 est 100% mdico-social  aucune MT mdicale.**

---

## 5. COHRENCE CLINIQUE

### Couverture thmatique V2

| Dimension | MP couvrant | Profondeur |
|---|---|---|
| Couverture sant (aidant + proche) | A1 |  Excellent |
| Anticipation projet de vie | A1 |  Excellent |
| Droits sociaux et aides | A2 |  Excellent |
| valuation dpendance (AGGIR) | A2 |  Excellent |
| ALD et prestations | A2 |  Bon |
| Charge admin perue | A3 |  Excellent |
| Comptence numrique | A3 |  Bon |
| Gestion des urgences | A3 |  Bon |
| Inclusion scolaire/professionnelle | A4 |  Excellent |
| Accompagnement et associations | A4 |  Excellent |
| Viabilit financire | A4 |  Excellent |

>  **Aucun trou clinique. V2 couvre l'intgralit du spectre administratif et juridique.**

### Observation structurelle

V2 est la vulnrabilit la plus homogne en termes de domaine : **100% mdico-social, 0% mdical**. Cohrent  l'administratif et juridique ne ncessite pas d'intervention mdicale directe. Les acteurs sont principalement IDEC, assistants sociaux, et structures d'accompagnement.

---

## 6. COHRENCE PRODUIT

### Checklist 8/8

| MP | Score | Prvention | K3 | ASR | Cross-MP |
|---|---|---|---|---|---|
| A1 | **8/8**  |  |  |  |  (source CCC E21) |
| A2 | **8/8**  |  |  |  |  |
| A3 | **8/8**  |  |  |  |  (CCC avec E21 A1) |
| A4 | **8/8**  |  |  |  |  |
| **V2** | **32/32** | | | | |

### Doublons et conflits

| Doublon potentiel | Rsolution |
|---|---|
| A1_CAT_03 (charge temps) vs A3_CAT_01 (complexit) | Volume  difficult. Distincts. |
| A2_CAT_01 (activer droits financiers) vs A4_CAT_03 (viabilit financire) | Levier (A2) vs rsultat (A4). Distincts. |
| A3_CAT_02 (SAAD) vs A2_CAT_02 (valuation dpendance) | A3 = mise en place service, A2 = valuation GIR. Distincts. |

>  **Aucun doublon non-rsolu. Toutes les distinctions sont documentes et claires.**

---

## 7. SYNTHSE V2

| Critre | Verdict |
|---|---|
| Couverture questions |  21/21, 0 doublon |
| Frontires inter-MP |  Claires (A3/A4 fine mais justifie) |
| Rgles d'activation |  33 rgles, 21/21 questions activent |
| K3 |  Toutes catgories 2 niveaux |
| MT contributives |  4/4 MPs (17 contributives) |
| ASR |  4/4 validables |
| Reco prvention |  4/4 + MT prvention |
| Score global | **32/32 (100%)** |
| Docs de compltude ncessaires | **0** |

> **V2 est au mme standard que V1.** Aucune action requise. Points forts : homognit de domaine (100% mdico-social), structure rgulire des MT (4 contributives par MP en moyenne), et distinction fine mais stable A3/A4.

---

## 8. COMPARAISON V1 vs V2  Benchmarks pour V3-V5

| Mtrique | V1 | V2 | Moyenne | V3 (actuel) | V3 (cible) |
|---|---|---|---|---|---|
| Questions | 15 | 21 | 18 | 26 | 26 |
| Rgles totales | 32 | 33 | 32.5 | 11  | 23 |
| Rgles/question | 2.1 | 1.6 | 1.8 | 0.4  | 0.9 |
| MT totales | 47 | 39 | 43 | 33 | 40 |
| MT contributives | ~17 | 17 | 17 | 22 | 26 |
| MT/question | 3.1 | 1.9 | 2.4 | 1.3  | 1.5 |
| Score global | 32/32 | 32/32 | 100% | 23/32 (72%) | 32/32 |
| Niveaux STD+CCC+CRIT | 3 niveaux/CAT | 3 niveaux/CAT |  | 1 niveau/CAT  | 2 niveaux/CAT |

>  **V3 actuel est  40% de la densit de V1/V2 en rgles.** Mme aprs compltude, V3 sera  ~70% (0.9 rgle/question vs 1.8). C'est justifi par la nature des questions V3 : beaucoup de questions FACTUELLES (O37-O43, inventaires) qui n'ont pas besoin de rgle individuelle. V1/V2 ont plus de questions GRADIENTES (chelles de Likert) qui se prtent mieux aux seuils.
`,qb=`#  Contrle de Cohrence  V3 Sant de l'Aidant

> **Vulnrabilit** : V3  Sant de l'Aidant  
> **26 questions**  **4 MPs** (S1, S2, S3, S4)  **4 docs de compltude**  
> **Date** : 15/02/2026  
> **Objectif** : Vrifier que templates + compltude = V3 cliniquement et produit-viable

---

## 1. COUVERTURE DES QUESTIONS

### 1.1  Mapping question  MP (26/26)

| Q_ID | Libell (rsum) | MP | Unique ? |
|---|---|---|---|
| E7 | puisement par le rle | **S1** |  |
| E8 | Solitude motionnelle | **S2** |  |
| E9 | Temps pour soi | **S2** |  |
| E10 | Moral (stress, inquitude) | **S1** |  |
| E11 | Soutien dans la dtresse | **S1** |  |
| E12 | Inquitude scurit proche (seul) | **S2** |  Cross-MP |
| E13 | Inquitude scurit proche (nuit) | **S2** |  Cross-MP |
| E14 | Capacit  tenir | **S1** |  |
| E15 | Difficults d'accs aux RDV | **S4** |  |
| E16 | Maintien RDV depuis aidance | **S4** |  |
| E17 | Activit physique rgulire | **S4** |  |
| E18 | Qualit du sommeil | **S3** |  |
| E19 | Soucis de sant actuels | **S4** |  |
| N4 |  |  **Absent V3** | Existe en V1 (R2) |
| N7 |  |  **Absent V3** | Existe en V1 (R1) |
| N8 | Besoin rpit / relais | **S1** |  |
| N20 |  |  **Absent V3** | Existe en V1 (R3) |
| O27-O31 |  |  **Absent V3** | Existent en V1 |
| O29 | Retentissement sur la sant | **S1** |  |
| O32 | Besoins non satisfaits | **S1** |  |
| O33 | Perception charge | **S1** |  |
| O37 | Mdecin traitant ? | **S3** |  |
| O38 | Spcialistes ? | **S3** |  |
| O39 | Lesquels ? (spcialistes) | **S3** |  |
| O40 | RDV raliss cette anne ? | **S3** |  |
| O41 | Lesquels ? (examens) | **S3** |  |
| O42 | Pathologies | **S3** |  |
| O43 | Mdicaments quotidiens | **S3** |  |
| O44 | Sant perue vs pairs | **S3** |  |
| O50 | Heures/semaine d'aide | **S1** |  |

>  **26 questions V3 = 26 assignations MP, sans doublons d'assignation.**
>  **E12/E13** sont proprits de S2 mais dclenchent des rgles dans S1 (cross-MP document et justifi cliniquement).

### 1.2  Rpartition par MP

| MP | Nb Q | % de V3 | quilibre |
|---|---|---|---|
| S1 | 9 | 34.6% |  Dense  MP pivot |
| S2 | 4 | 15.4% |  Normal  thme cibl |
| S3 | 9 | 34.6% |  Dense  suivi mdical dtaill |
| S4 | 4 | 15.4% |  Lger   enrichir via compltude |

> **Observation** : S1 et S3 portent 70% de V3. Cohrent : S1 = charge globale (construit large), S3 = suivi mdical (beaucoup de questions factuelles dtailles). S2 et S4 sont cibls et plus petits.

---

## 2. COHRENCE DES FRONTIRES INTER-MP

### 2.1  Matrice de frontire clinique

| Frontire | Critre discriminant | Confiance | Zones grises |
|---|---|---|---|
| **S1  S2** | S1 = charge/puisement, S2 = isolement/scurit |  Haute | Aucune. E12/E13 cross-MP document. |
| **S1  S3** | S1 = impact subjectif peru, S3 = suivi mdical objectif |  Haute | O29 (retentissement sant) dbattable  justifi S1 |
| **S1  S4** | S1 = charge, S4 = hygine de vie |  Haute | Aucune |
| **S2  S3** | S2 = psycho-social, S3 = mdical |  Haute | Aucune |
| **S2  S4** | S2 = isolement, S4 = prvention active |  Haute | Aucune |
| **S3  S4** | S3 = tat du suivi existant, S4 = comportement d'entretien |  Moyenne | **E15, E16, E19 dbattables** |

>  **La frontire S3/S4 est la plus fine de V3.** Le critre : S3 =  ai-je un suivi ?  vs S4 =  est-ce que je l'entretiens ? . E15/E16 (accs aux RDV) et E19 (soucis de sant) pourraient tre dans S3. Le choix S4 est justifi par la cohrence du CCC S4 (E15+E16 = renoncement actif) et l'quilibre structurel (S3 a dj 9Q).

### 2.2  Cross-MP : E12/E13

| Question | Proprit thmatique | Active une rgle dans | Justification |
|---|---|---|---|
| E12 (scurit seul) | S2 | **S1** (CRIT_01) | Inquitude scuritaire  explosion charge motionnelle |
| E13 (scurit nuit) | S2 | **S1** (CRIT_02) | Risque vital nocturne  urgence scurisation globale |

>  **Cross-MP justifi** : Le risque vital (CRIT) est trait par S1 (urgence de scurisation globale), tandis que S2 traite le versant psycho-social. Pas de doublon d'action  S1 scurise, S2 accompagne l'isolement.

---

## 3. TAT DES RGLES D'ACTIVATION

### 3.1  Inventaire des rgles (templates actuels)

| MP | Rgles existantes | Types | Questions dclenchantes | Questions V3 sans rgle |
|---|---|---|---|---|
| S1 | 7 |  CRIT 2,  CCC 1,  STD 4 | E7, E14, E8+E9(CCC), O33, N8, E12, E13 | E10, E11, O29, O32, O50 |
| S2 | 2 |  CCC 1,  STD 1 | E8+E9(CCC), E8(STD) | E12, E13 (cross-MP vers S1) |
| S3 | 1 |  CCC 1 | O44+E18(CCC) | O37, O38, O39, O40, O41, O42, O43 |
| S4 | 1 |  CCC 1 | E15+E16(CCC) | E17, E19 |
| **Total** | **11** | 2 CRIT, 3 CCC, 1 STD non-S1, 4 STD S1 | | |

### 3.2  Aprs compltude (si tout valid)

| MP | Rgles (avantaprs) | Rgles | Questions couvertes (avantaprs) |
|---|---|---|---|
| S1 | 7  **11** | +4 STD | 4/9  **9/9** |
| S2 | 2  **5** | +2 STD, +1 CCC | 2/4  **4/4** |
| S3 | 1  **4** | +3 STD | 2/9  **5/9** (O38/O39/O41/O42 restent contextuelles  justifi) |
| S4 | 1  **3** | +1 STD, +1 STD(E17) | 2/4  **3/4** (E19 reste contextuelle  justifi) |
| **Total** | **11  23** | **+12 rgles** | |

>  **Point d'attention** : V3 passerait de 11  23 rgles. V1 a combien pour comparaison ? V2 ? Pour assurer la proportionnalit.

---

## 4. TAT DES MICRO-TCHES

### 4.1  Inventaire MT (templates actuels)

| MP | MT totales |  Contributives |  Non-contributives | Types | Domaines |
|---|---|---|---|---|---|
| S1 | 4 | 1 (SEC) | 3 (INFO2, ORGA1) | SEC, INFO, ORGA | 100% mdico-social |
| S2 | 8 | 5 (SEC5) | 3 (INFO1, ORGA2) | SEC, INFO, ORGA | 75% mdico-social, 25% mdical |
| S3 | 18 | 16 (MED16) | 2 (INFO1, ORGA1) | MED, INFO, ORGA | 89% mdical |
| S4 | 3 | **0**  | 3 (ORGA3) | ORGA | 100% mdico-social |
| **Total** | **33** | **22** | **11** | | |

### 4.2  Aprs compltude (si tout valid)

| MP | MT (avantaprs) |  (avantaprs) | Ajouts |
|---|---|---|---|
| S1 | 4  **7** | 1  **3** | +2 SEC, +1 ORGA |
| S2 | 8  **9** | 5  5 | +1 INFO |
| S3 | 18  18 | 16  16 | Aucun ajout MT (clarification K11 seulement) |
| S4 | 3  **6** | 0  **2** | +1 MED(), +1 SEC(), +1 INFO |
| **Total** | **33  40** | **22  26** | **+7 MT** |

### 4.3  Viabilit ASR par MP

| MP | ASR | Avant compltude | Aprs compltude |
|---|---|---|---|
| S1 |  Mesurer la charge et ajuster  |  1 MT contributive |  3 MT contributives |
| S2 |  Scuriser votre quotidien  |  5 MT contributives |  5 MT contributives |
| S3 |  Protger votre sant  |  16 MT (conditionnes O39) |  + clarification K11 |
| S4 |  Prserver votre qualit de vie  |  **0 MT contributive** |  2 MT contributives |

>  **S4 est le seul MP avec ASR non-validable actuellement.** C'est le problme le plus critique de V3. Sans compltude, S4 est un MP  mort   il active des recos mais ne peut jamais valider son ASR.

---

## 5. COHRENCE CLINIQUE GLOBALE

### 5.1  Couverture thmatique V3

| Dimension de sant | MP couvrant | Profondeur |
|---|---|---|
| puisement physique et psychologique | S1 |  Excellent (9Q, 7 rgles, 3 CAT) |
| Isolement motionnel | S2 |  Bon (4Q, 2 rgles, 3 CAT) |
| Inquitudes scuritaires (proche) | S2 + S1 (cross-MP) |  Excellent (E12/E13  CRIT S1) |
| Suivi mdical existant | S3 |  Excellent (9Q, 18 MT) |
| Sommeil | S3 (E18) |  Moyen (1Q, via CCC seulement) |
| Accs aux soins / renoncement | S4 (E15/E16) |  Moyen (via CCC seulement  STD en compltude) |
| Activit physique | S4 (E17) |  **Absent** (aucune action  ajout via compltude) |
| Polymdication | S3 (O43) |  **Absent** (aucune rgle  ajout propos en compltude) |
| Soucis de sant prioritaires | S4 (E19) |  Contextuel seulement |

### 5.2  Trous cliniques restants aprs compltude

| Trou | Gravit | Couvert par compltude ? |
|---|---|---|
| Activit physique (E17) |  |  S4_CAT_02 propose |
| Polymdication (O43  7) |  |  S3_STD_03 propose |
| E19 sans action propre |  |  Justifi : question contextuelle |
| Pathologies lourdes (O42) |  | Pas couvert  trop complexe  modliser en rgle simple |
| Sommeil isol (E18 sans combinaison) |  | Pas couvert  E18 n'active qu'en combo CCC avec O44 |

>  **Aprs compltude, 2 trous mineurs restent** : O42 (pathologies, trop htrogne) et E18 isol (sommeil sans dgradation perue). Ni l'un ni l'autre ne sont des bloquants cliniques. Les pathologies sont inventories et servent  contexte. Le sommeil seul est couvert en prvention.

---

## 6. COHRENCE PRODUIT

### 6.1  K-Rules compliance

| K-Rule | Description | S1 | S2 | S3 | S4 | Aprs compltude |
|---|---|---|---|---|---|---|
| K1 | Questions  MP |  |  |  |  |  |
| K3 | 2 niveaux/CAT |  CAT_03 |  CAT_02 |  3 |  CAT_01 |  Tous OK |
| K6 | Reco prvention |  |  |  |  |  |
| K11 | ASR = 100% MT contrib. |  |  |  Clarification |  **0 contrib.** |  |

### 6.2  Checklist 8/8

| MP | Score actuel | Score aprs compltude | Blocages |
|---|---|---|---|
| S1 | **5/8** | **8/8** | 8 propositions |
| S2 | **6/8** | **8/8** | 5 propositions |
| S3 | **6/8** | **8/8** | 4 propositions |
| S4 | **6/8** | **8/8** | 7 propositions (dont 1  critique) |
| **V3 globale** | **23/32** | **32/32** | **24 propositions totales** |

### 6.3  Doublons et conflits produit

| Doublon potentiel | Dtail | Gravit | Rsolution |
|---|---|---|---|
| S4_RECO_01  S3_RECO_04 |  Bilan avec le MT  dans les deux MP |  | Wording diffrenci propos en compltude S4 |
| MT SAD (S4_RECO_01) vs S1 | MT_V3_007/009/013 semblent S1 |  | Vrification mapping demande en compltude S4 |
| MT  Contacter MT pour bilan  | S1 (CAT_01), S3 (S3_RECO_04), S4 (S4_RECO_01) |  | Mme action concrte, mais motivations diffrentes |

>  **La  prise de contact MT  revient dans 3 MPs**  c'est normal. Le MT est le pivot du systme de sant. La diffrence est la RAISON : S1 = charge, S3 = dgradation dtecte, S4 = renoncement aux soins. Le wording IDEC doit reflter cette distinction.

---

## 7. SYNTHSE  V3 est-elle viable ?

### tat actuel (sans compltude)

| Critre | Verdict |
|---|---|
| Couverture questions |  26/26 assignes, 0 doublon |
| Frontires inter-MP |  S3/S4 fine mais justifie |
| Rgles d'activation |  11 rgles, 14 questions muettes |
| MT contributives |  S4 = 0 (ASR mort) |
| K3 |  choue sur 4 catgories |
| Score global | **23/32 (72%)** |

### tat cible (avec compltude valide)

| Critre | Verdict |
|---|---|
| Couverture questions |  26/26 |
| Frontires inter-MP |  Toutes documentes et justifies |
| Rgles d'activation |  23 rgles, 5 questions contextuelles (justifi) |
| MT contributives |  Tous les MPs ont 1 contrib. |
| K3 |  Toutes les catgories  2 niveaux |
| Score global | **32/32 (100%)** |
| Doublons rsolus |  Wordings diffrencis |
| ASR validable |  4/4 MPs |

### Priorits d'action pour Dr. Monka

| Priorit | Docs  lire | Contenu |
|---|---|---|
|  **Critique** | [S4_hygiene_de_vie.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/S4_hygiene_de_vie.md)  Prop. 3.1 | MT contributive pour ASR |
|  **Haute** | [S1_charge_fatigue.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/S1_charge_fatigue.md) | 8 propositions (rgles + MT) |
|  **Haute** | [S4_hygiene_de_vie.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/S4_hygiene_de_vie.md)  Prop. 1.1-3.4 | 6 propositions (CAT_02, rgles) |
|  **Haute** | [S3_sante_physique.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/S3_sante_physique.md) | 4 propositions (3 rgles STD) |
|  **Moyenne** | [S2_inquietudes_securite.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/S2_inquietudes_securite.md) | 5 propositions (rgles + correction) |

> **Conclusion : V3 est VIABLE cliniquement et produit,  condition que les 24 propositions de compltude soient valides par Dr. Monka. Le seul bloquant critique est S4 (0 MT contributive = ASR mort).**
`,Vb=`#  Contrle de Cohrence  V4 Fragilit du Proche

> **Vulnrabilit** : V4  Fragilit du Proche  
> **57 questions**  **6 MPs** (F1F6)  **6 docs de compltude**  
> **Date** : 15/02/2026  
> **Objectif** : Vrifier que templates + compltude = V4 cliniquement et produit-viable

---

## 1. COUVERTURE DES QUESTIONS

### 1.1  Mapping question  MP (57/57)

| Q_ID | Libell (rsum) | MP | Unique ? |
|---|---|---|---|
| E20 | Difficults gestion budget | **F1** |  |
| E21 | Risque perte logement | **F1** |  |
| E22 | Aide humaine jour | **F2** |  |
| E23 | Aide humaine nuit | **F2** |  |
| E24 | Difficult dplacement | **F2** |  |
| E25 | Confusion jour/nuit | **F3** |  |
| E26 | Dsorientation lieux familiers | **F3** |  |
| E27 | Comportements dangereux | **F3** |  |
| E28 | Nb hospitalisations 3 mois | **F5** |  |
| E29 | Nb hospitalisations programmes | **F5** |  |
| E30 | Nb urgences | **F5** |  |
| E31 | Dure dernire hospitalisation | **F5** |  |
| E32 | Difficults se lever | **F6** |  |
| E33 | Difficults appareils simples | **F6** |  |
| N9 | Connaissance des aides | **F1** |  |
| N10 | Relations entourage | **F1** |  |
| N11 | Douleurs chroniques | **F4** |  |
| N12 | Fatigue/nergie | **F4** |  |
| N13 | Troubles sommeil | **F4** |  |
| N16 | Origine handicap | **F5** |  (cadrage) |
| N18 | Communication avec proche | **F2** |  |
| N19 | Changements humeur | **F3** |  |
| N21 | Isolement social | **F1** |  |
| N22 | Comportements  risque / automutilation | **F3** |  |
| N23 | Activits sociales | **F1** |  |
| N24 | Troubles mmoire | **F3** |  |
| N25 | Ides suicidaires | **F3** |  Cross-MP (rgle en F4) |
| N27 | Logement inadapt | **F1** |  |
| N30 | Taux incapacit | **F5** |  |
| N32 | Aides techniques en place | **F6** |  |
| N34 | Difficults alimentation | **F4** |  |
| N36 | Communication/dcision | **F2** |  |
| N37 | Type addiction | **F5** |  (cadrage) |
| N38 | Contrle addiction | **F5** |  Cross-MP (rgle CRIT en F4) |
| N39 | Sant impacte addiction | **F5** |  Cross-MP (rgle CRIT en F4) |
| N40 | Tentative sevrage | **F5** |  (cadrage) |
| N44 | Changement poids | **F4** |  |
| O3 | Nb mdicaments/jour | **F4** |  |
| O4 | Humeur actuelle | **F4** |  |
| O5 | Sant compare  l'ge | **F4** |  |
| O6 | Chutes 6 derniers mois | **F6** |  |
| O7 | Changements nutrition | **F4** |  |
| O8 | Aide humaine extrieur | **F2** |  |
| O9 | Aide humaine intrieur | **F2** |  |
| O11 | Incontinence | **F6** |  |
| O12 | Alimentation autonome | **F6** |  |
| O13 | Dtrioration cognitive | **F3** |  |
| O15 | Consommation alcool/tabac | **F4** |  |
| O16 | Pathologies (16 sous-items) | **F6** |  |
| O22 | Rsultats vue/audition | **F4** |  |
| O26 | Diminution taille | **F4** |  |
| O51 | Adapter lieu de vie | **F1** / **F6** |  Partage |
| O53 | valuation AGGIR faite | **F5** |  |
| O54 | Niveau GIR | **F5** |  |

>  **57 questions V4 = 57 assignations MP.** 3 cross-MP documents (N25, N38, N39). 1 question partage (O51 : F1 + F6). 3 questions de cadrage (N16, N37, N40).

### 1.2  Rpartition par MP

| MP | Nb Q | % de V4 | quilibre |
|---|---|---|---|
| F1 | 8 | 14.0% |  Normal |
| F2 | 7 | 12.3% |  Normal |
| F3 | 8 | 14.0% |  Normal |
| F4 | 12 | 21.1% |  Dense  somatique central |
| F5 | 12 | 21.1% |  Dense  htrogne (3 sous-domaines) |
| F6 | 8 (+O51) | 14.0% |  Normal |

> **Observation** : F4 et F5 portent 42% de V4. Cohrent : F4 = tat somatique global (12Q couvrant douleur, sommeil, nutrition, sensoriels, mdication, humeur), F5 = trajectoire institutionnelle (hospitalisations + addictions + dpendance administrative). F1F3 et F6 sont quilibrs autour de 8Q.

---

## 2. COHRENCE DES FRONTIRES INTER-MP

### 2.1  Matrice de frontire clinique

| Frontire | Critre discriminant | Confiance | Zones grises |
|---|---|---|---|
| **F1  F2** | F1 = quotidien/social, F2 = aide humaine organise |  Haute | O51 partage (adaptation) |
| **F2  F6** | F2 = aide HUMAINE, F6 = aide TECHNIQUE + capacits |  Haute | Aucune |
| **F3  F4** | F3 = cerveau (cognitif), F4 = corps (somatique) |  Moyenne | **N19 (humeur F3) vs O4 (humeur F4)** |
| **F4  F5** | F4 = symptmes, F5 = institutionnel |  Moyenne | **O15 (conso F4) vs N37 (addiction F5)** |
| **F5  F6** | F5 = droits/hospitalisation, F6 = autonomie fonctionnelle |  Haute | Aucune |
| **F3  F6** | F3 = cognitif/comportemental, F6 = moteur/fonctionnel |  Haute | MT_V4_066 (fugue)  dplacer vers F3 |

### 2.2  Cross-MP documents

| Question | Proprit | Rgle dans | Justification |
|---|---|---|---|
| **N25** (ides suicidaires) | F3 | **F4** (CRIT_01) | tat somatique  urgence vitale. **Compltude : F3 doit avoir sa propre CRIT.** |
| **N38** (contrle addiction) | F5 | **F4** (CRIT_02) | Impact somatique de l'addiction. **F5  crer ses propres rgles.** |
| **N39** (sant/addiction) | F5 | **F4** (CRIT_03) | Idem N38. Coexistence F4 (bilan somatique) + F5 (orientation addictologue). |
| **E25/E26** (confusion/dsorientation) | F3 | **Propos  F2** | Impact sur scurisation nocturne. Cross-activation recommande. |
| **O51** (adapter lieu de vie) | F1 + F6 | F6 propos | Double assignation justifie : F1 = intention, F6 = action. |

>  **Zone grise principale : F3/F4 sur l'humeur.** N19 ("changements d'humeur/comportement") est en F3 car c'est un indicateur COMPORTEMENTAL. O4 ("humeur actuelle") est en F4 car c'est une valuation SOMATIQUE de l'tat psychique. Distinction fine mais cliniquement dfendable : le comportement est une manifestation observable, l'humeur est un tat interne.

>  **Zone grise F4/F5 sur les addictions.** O15 (consommation alcool/tabac) est en F4 comme facteur somatique. N37 (type d'addiction identifie) est en F5 comme dimension comportementale/institutionnelle. Distinction : O15 = habitude de consommation, N37 = addiction reconnue comme pathologie.

---

## 3. TAT DES RGLES D'ACTIVATION

### 3.1  Inventaire des rgles (templates actuels)

| MP | Rgles | Types | Questions dclenchantes | Questions orphelines |
|---|---|---|---|---|
| F1 | 4 |  CCC 2,  STD 2 | E20, E21, N21, N27, E20+E21(CCC) | N9, N10, N23, O51 |
| F2 | 2 |  CCC 1,  STD 1 | E22+E23+E24(CCC), E22(STD) | N18, N36 |
| F3 | 3 |  CCC 1,  CRIT 2 | O13+E25/E26(CCC), E27(CRIT), N22(CRIT) | **N19, N24, N25** |
| F4 | 4 |  CCC 1,  CRIT 3 | N11+N12+N13+N34+O4(CCC), N25/N38/N39(CRIT cross) | **N44, O3, O5, O7, O15, O22, O26** |
| F5 | 2 |  CCC 1,  STD 1 | E28(STD), E28+O53(CCC) | **E29, E30, E31, N16, N30, N37, N38, N39, N40, O54** |
| F6 | **0** |  |  | **Toutes (E32, E33, N32, O6, O11, O12, O16, O51)** |
| **Total** | **15** | 5 STD, 5 CCC, 5 CRIT | | **35 orphelines / 57 (61%)** |

### 3.2  Aprs compltude (si tout valid)

| MP | Rgles (avantaprs) | Rgles | Questions couvertes (avantaprs) |
|---|---|---|---|
| F1 | 4  **7** | +3 STD | 4/8  **8/8** |
| F2 | 2  **5** | +2 STD, +1 CCC | 3/7  **7/7** |
| F3 | 3  **9** | +3 STD, +2 CCC, +1 CRIT | 5/8  **8/8** |
| F4 | 4  **12** | +4 STD, +3 CCC, +1 CCC(dnut.) | 5/12  **12/12** |
| F5 | 2  **10** | +3 STD, +2 CCC, +1 CRIT, +2 CRIT/CCC | 2/12  **12/12** (dont 4 cadrage) |
| F6 | 0  **12** | +5 STD, +5 CCC, +1 CRIT, +1 combo | 0/8  **8/8** |
| **Total** | **15  55** | **+40 rgles** | **22/57  55/57** (+2 cadrage justifi) |

>  **V4 passerait de 15  55 rgles**  l'augmentation la plus massive de toutes les V. Comparaison : V1 27 rgles, V2 24 rgles, V3 23 rgles. V4  55 serait la plus grosse V. C'est proportionnel : V4 a 57 questions (vs 26 en V3, 17 en V1, 16 en V2).

---

## 4. TAT DES MICRO-TCHES

### 4.1  Inventaire MT (templates actuels)

| MP | MT totales |  Contrib. |  Non-contrib. | Types dominants | Domaine |
|---|---|---|---|---|---|
| F1 | 7 | 5 | 2 | ORGA, SEC, INFO |  100% mdico-social |
| F2 | 7 | 5 | 2 | ORGA, SEC, MED | 60% , 40%  |
| F3 | 6 | 3 | 3 | ORGA, INFO, MED | 50% , 50%  |
| F4 | 9 | **9** | **0**  | MED, SEC | 100%  |
| F5 | 2 | 1 | 1 | SEC, INFO | 50/50 |
| F6 | 19 | 17 | 2 | SEC (13), MED (5) | 89%  |
| **Total** | **50** | **40** | **10** | | |

### 4.2  Aprs compltude (si tout valid)

| MP | MT (avantaprs) |  (avantaprs) | Ajouts cls |
|---|---|---|---|
| F1 | 7  **10** | 5  **8** | +2 SEC(CAT_02), +1 ORGA(CAT_03) |
| F2 | 7  **10** | 5  **7** | +2 SEC, +1 INFO |
| F3 | 6  **10** | 3  **5** | +1 SEC(CAT_01), +1 STRUC(CAT_01), +1 SEC(CAT_03), +1 ORGA(CAT_03) |
| F4 | 9  **12** | 9  9 | +3 ORGA/INFO (non-contrib.) |
| F5 | 2  **14** | 1  **7** | +4 CAT_01, +3 CAT_02, +3 CAT_03 |
| F6 | 19  **24** (ou 13 si paramtrique) | 17  **20** | +3 CAT_02, +2 CAT_04 |
| **Total** | **50  ~80** | **40  ~56** | **+~30 MT** |

### 4.3  Viabilit ASR par MP

| MP | ASR | Avant compltude | Aprs compltude |
|---|---|---|---|
| F1 |  Stabiliser quotidien et entourage  |  5  |  8  |
| F2 |  Organiser l'aide humaine  |  5  |  7  |
| F3 |  Rduire risques et encadrer  |  **CAT_01 = 0 ** |  5  (2 nouvelles SEC/STRUC) |
| F4 |  Suivi tat gnral global  |  9  (mais 0 ) |  9  + 3  |
| F5 |  Stabiliser parcours et droits  |  **CAT_01 = 0 MT, CAT_03 = 0 ** |  7  |
| F6 |  Scuriser environnement, bilans fonctionnels  |  CAT_02 = 1 MT |  20  |

>  **F3 et F5 ont des ASR impossibles actuellement**  CAT_01 F3 (0 MT contributive pour le MP le plus critique de V4) et CAT_01/03 F5. Ce sont les 2 problmes les plus critiques de V4.

---

## 5. COHRENCE CLINIQUE GLOBALE

### 5.1  Couverture thmatique V4

| Dimension clinique | MP couvrant | Profondeur |
|---|---|---|
| Quotidien, budget, isolement social | F1 |  Bon (8Q, 4 rgles, 3 CAT) |
| Aide humaine organise (jour/nuit/mobilit) | F2 |  Bon (7Q, 2 rgles, 3 CAT) |
| Troubles cognitifs et mmoire | F3 (CAT_02) |  Moyen (N24/O13, CCC seulement  STD en compltude) |
| Comportements dangereux | F3 (CAT_01) |  Bon (2 CRIT legacy) |
| Risque suicidaire | F3 (CAT_03) + F4 cross |  **Fragile** (N25 : rgle F4, pas F3  compltude CRIT) |
| Douleur et fatigue | F4 (CAT_01) |  Moyen (CCC seul  STD en compltude) |
| Sommeil et nutrition | F4 (CAT_02) |  Moyen (partiellement CCC  STD en compltude) |
| Polymdication | F4 (CAT_03) |  **Absent** (O3 orpheline  STD/CCC en compltude) |
| Bilan sensoriel | F4 (CAT_03) |  **Absent** (O22 orpheline  STD/CCC en compltude) |
| Hospitalisations rcurrentes | F5 (CAT_01) |  Moyen (STD+CCC mais E29/E30/E31 orphelines) |
| Addictions | F5 (CAT_02) |  **Absent** (0 rgle  STD+CCC+CRIT en compltude) |
| Droits sociaux, AGGIR, handicap | F5 (CAT_03) |  Partiel (via CCC_01 conditionn  E28) |
| Chutes | F6 (CAT_01) |  **Absent** (0 rgle  propos en compltude) |
| Adaptation domicile | F6 (CAT_02) |  **Absent** (0 rgle  propos) |
| Pathologies chroniques | F6 (CAT_03) |  **Absent** (0 rgle  propos, mais 12 MT dispatch) |
| Autonomie quotidienne | F6 (CAT_04) |  **Absent** (0 rgle  propos avec CRIT) |

### 5.2  Trous cliniques rsiduels aprs compltude

| Trou | Gravit | Couvert par compltude ? |
|---|---|---|
| O16 pathologies : logique array |  |  Rgle propose (STD + CCC COUNT3)  contrainte technique moteur |
| 12 MT dispatch spcialistes |  |  Architecture propose (1 MT paramtrique + mapping)  dcision Dr. Monka |
| O5 (sant perue) seulement contextuel |  |  Justifi : cadrage/perception, pas dclencheur direct |
| E29 (hospitalisations programmes) |  |  Cadrage  sert au calcul implicite de E30 |
| Questions conditionnelles (N37N3, etc.) |  | Pas couvert  contrainte UX en amont du moteur de rgles |

>  **Aprs compltude : 0 trou clinique majeur.** Les 2 points ouverts (architecture O16, questions conditionnelles) sont des contraintes techniques, pas des lacunes cliniques.

---

## 6. COHRENCE PRODUIT

### 6.1  K-Rules compliance

| K-Rule | Description | F1 | F2 | F3 | F4 | F5 | F6 | Aprs compltude |
|---|---|---|---|---|---|---|---|---|
| K1 | Questions  MP |  |  |  |  |  |  |  |
| K3 | 2 niveaux/CAT |  CAT_02 |  CAT_02/03 |  3 |  4 |  CAT_02 |  Total |  Tous OK |
| K6 | Reco prvention |  |  |  |  |  |  |  |
| K11 | ASR validable |  |  |  CAT_01 |  |  CAT_01/03 |  CAT_02 |  |

### 6.2  Checklist 8/8

| MP | Score actuel | Score aprs compltude | Nb propositions |
|---|---|---|---|
| F1 | **5/8** | **8/8** | 9 |
| F2 | **5/8** | **8/8** | 10 |
| F3 | **4/8** | **8/8** | 13 |
| F4 | **4/8** | **8/8** | 14 |
| F5 | **4/8** | **8/8** | 11 |
| F6 | **3/8** | **8/8** | 10 |
| **V4 globale** | **25/48** | **48/48** | **67 propositions** |

> **V4 passe de 52%  100%** si les 67 propositions sont valides. C'est la marge de progression la plus importante de toutes les vulnrabilits.

### 6.3  Doublons et conflits produit

| Doublon potentiel | Dtail | Gravit | Rsolution |
|---|---|---|---|
| N25 : rgle F3 ET F4 | F3_CRIT_03 (propos) + F4_CRIT_01 (legacy) sur la mme question |  | Actions diffrentes : F3  urgences psy, F4  bilan somatique. Coexistence justifie. |
| N38/N39 : rgle F4 ET F5 | F4_CRIT_02/03 (legacy) + F5 (propos) |  | Actions diffrentes : F4  bilan somatique, F5  CSAPA/addictologue. |
| O51 : F1 ET F6 | Question partage entre 2 MPs |  | F1 = intention (quotidien), F6 = action (ergo/amnagement). Pas de conflit. |
| "Contacter MT"  N MPs | MT "contacter MT" dans F1, F3, F4, F5, F6 |  | Normal  MT est le pivot. Motivations diffrentes par MP. |
| O22 (vue/audition) : F4 + F6 | F4 = bilan sensoriel (ophtalmologue), F6 = pathologies (RECO_05 spcialistes) |  | F4 = bilan initial, F6 = suivi pathologie chronique. Pas de doublon. |
| F6_RECO_03 : incontinence + nutrition | Legacy RECO mlange 2 sujets |  | Sparation en 2 recos distinctes propose en compltude F6. |

---

## 7. SYNTHSE  V4 est-elle viable ?

### tat actuel (sans compltude)

| Critre | Verdict |
|---|---|
| Couverture questions |  57/57 assignes, 3 cross-MP documents |
| Frontires inter-MP |  F3/F4 (humeur) et F4/F5 (addiction) fines mais justifies |
| Rgles d'activation |  **15 rgles, 35 questions muettes (61%)** |
| MT contributives |  **F3 CAT_01 = 0, F5 CAT_01 = 0, F5 CAT_03 = 0** |
| K3 |  **choue massivement**  14 catgories sans Standard |
| Score global | **25/48 (52%)**  le plus bas de toutes les V |

### tat cible (avec compltude valide)

| Critre | Verdict |
|---|---|
| Couverture questions |  57/57 (dont 4 cadrage justifi + 1 partage) |
| Frontires inter-MP |  Toutes documentes, cross-MP formaliss |
| Rgles d'activation |  55 rgles, toutes questions couvertes |
| MT contributives |  Tous les MPs ont 1  par CAT |
| K3 |  Toutes les 21 catgories  2 niveaux |
| Score global | **48/48 (100%)** |
| Doublons rsolus |  Cross-activations justifies, pas de conflit |
| ASR validable |  6/6 MPs |

###  Comparaison inter-vulnrabilits

| V | Questions | MPs | Score avant | Score aprs |  | Propositions |
|---|---|---|---|---|---|---|
| V1 | 17 | 4 | 28/32 (88%) | 32/32 (100%) | +12% | 11 |
| V2 | 16 | 4 | 26/32 (81%) | 32/32 (100%) | +19% | 16 |
| V3 | 26 | 4 | 23/32 (72%) | 32/32 (100%) | +28% | 24 |
| **V4** | **57** | **6** | **25/48 (52%)** | **48/48 (100%)** | **+48%** | **67** |

> V4 est **de loin la vulnrabilit la plus lacunaire** (52% vs 72%+ pour V1-V3) mais aussi celle avec la plus grande marge de progression. Les 67 propositions sont 3 plus que V1-V2 combins. C'est proportionnel  la taille (57Q vs 17Q).

### Priorits d'action pour Dr. Monka

| Priorit | Docs  lire | Contenu |
|---|---|---|
|  **Critique** | [F3_memoire_comportement.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/F3_memoire_comportement.md)  Prop. 2.3 | N25 : rgle CRIT propre en F3 (risque suicidaire) |
|  **Critique** | [F5_dependance_handicap.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/F5_dependance_handicap.md)  Prop. 1.1-1.3 | CAT_02 addictions : 3 rgles  crer de zro |
|  **Critique** | [F6_autonomie_chutes.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/F6_autonomie_chutes.md)  Prop. 1.1-1.4 | MP entier : TOUTES les rgles  crer |
|  **Critique** | [F3_memoire_comportement.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/F3_memoire_comportement.md)  Prop. 3.1-3.2 | CAT_01 scurisation : 0   ASR impossible |
|  **Haute** | [F4_douleur_fatigue.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/F4_douleur_fatigue.md) | 7/12 orphelines, 4 wordings incohrents |
|  **Haute** | [F5_dependance_handicap.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/F5_dependance_handicap.md)  Prop. 3.1-3.3 | 0 MT pour CAT_01 entire, toffer CAT_02/03 |
|  **Haute** | [F6_autonomie_chutes.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/F6_autonomie_chutes.md)  Prop. 2.1 | Architecture : 12 MT dispatch vs 1 MT paramtrique |
|  **Moyenne** | [F1_quotidien_budget.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/F1_quotidien_budget.md) + [F2_autonomie_aide.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/F2_autonomie_aide.md) | K3, orphelines, wording  structurellement plus sains |

---

## 8. VERDICT COMPLTUDE V4  PRT POUR LE 8/8 ?

###  OUI  Les docs de compltude couvrent TOUT

Les 6 documents de compltude F1F6 constituent un **plan d'action complet** pour atteindre 48/48. Voici l'analyse check par check :

| Check | Situation legacy | Ce que propose la compltude | Suffisant ? |
|---|---|---|---|
| **#1 Questions  rgles** | 35/57 orphelines (61%) | +40 rgles couvrant les 35 questions manquantes |  **Complet** |
| **#3 CAT  MT** | F3 CAT_01=0, F5 CAT_01=0MT, CAT_02/03=1 chacune | +~30 MT dont SEC/STRUC/MED contributives |  **Complet** |
| **#4 K3 2 niveaux** | 14/21 catgories chouent | +13 STD + enrichissements par compltude |  **Complet** |
| **#7 Wording** | 13 incohrences identifies  travers F1F6 | Correction propose pour chaque incohrence |  **Complet** |
| **#5 MT orphelines** | MT_V4_066 (fugue) mal place | Dplacement F6F3 propos |  |
| **#8 Sens clinique** | 15 rgles legacy documentes | 40 propositions avec sens clinique systmatique |  |

### Points de vigilance

| Point | Risque | Mitigation |
|---|---|---|
| **55 rgles post-compltude** | Complexit d'implmentation | Les rgles sont simples (1-2 conditions max), pas de logique composite complexe |
| **~80 MT** | Volume de tches | La plupart sont des "RDV [spcialiste]"  rptitives mais ncessaires |
| **O16 : logique array** | Contrainte technique moteur | MT paramtrique propose comme solution lgante |
| **Cross-activations 3** | Doublons potentiels | Documents et justifis  actions complmentaires, pas concurrentes |
| **Questions conditionnelles** | UX en amont | Hors primtre compltude  contrainte d'interface |

### Conclusion

> **V4 est cliniquement VIABLE et PRTE pour le 8/8,  condition que les 67 propositions soient valides par Dr. Monka.** Chaque proposition est accompagne d'un raisonnement clinique dtaill et d'un impact checklist prcis. Il n'y a aucun trou clinique rsiduel aprs compltude  les seuls points ouverts sont des contraintes techniques (logique array pour O16, MT paramtrique pour F6) qui n'affectent pas la pertinence clinique.

> **Les 4 priorits absolues** avant toute autre action :
> 1.  F3  Rgle CRIT pour N25 (risque suicidaire sans action en F3)
> 2.  F5  Rgles CAT_02 (addiction ignore par le moteur)
> 3.  F6  Cration de TOUTES les rgles (MP sans logique)
> 4.  F3  MT contributives CAT_01 (ASR impossible pour scurisation comportements)
`,Nb=`#  Contrle de Cohrence  V5 Parcours Mdical

> **Vulnrabilit** : V5  Parcours Mdical  
> **37 questions**  **6 MPs** (M1M6)  **6 docs de compltude**  
> **Date** : 15/02/2026  
> **Objectif** : Vrifier que templates + compltude = V5 cliniquement et produit-viable

---

## 1. COUVERTURE DES QUESTIONS

### 1.1  Mapping question  MP (37/37)

| Q_ID | Libell (rsum) | MP | Unique ? |
|---|---|---|---|
| E34 | Comprhension maladie/besoins mdicaux | **M1** |  |
| E35 | Diagnostic clair et tabli | **M1** |  |
| E36 | Errance diagnostique (beaucoup de pros consults) | **M1** |  |
| E37 | Avis mdicaux contradictoires | **M1** |  |
| E38 | Transition enfant  adulte (conditionnelle) | **M1** |  |
| E39 | Professionnel de sant < 15 min du domicile | **M2** |  |
| E40 | Difficults d'accs aux soins (choix multiples) | **M2** |  |
| E41 | Participation programme ETP (conditionnelle) | **M2** |  |
| E42 | RDV mdicaux imprvus/urgences | **M3** |  Cross-MP M2 |
| E43 | Ruptures prolonges de suivi | **M3** |  Cross-MP M2 |
| E44 | Bilan de synthse (conditionnelle) | **M3** |  |
| E45 | Suivi addictologie/protocole | **M4** |  |
| E46 | Traitements bien suivis | **M4** |  |
| E47 | Effets secondaires gnants | **M4** |  |
| E48 | Suivi psychologique/psychiatrique | **M4** |  |
| E49 | Protocole de crise en place | **M4** |  |
| E50 | Changements de traitement rcents | **M4** |  |
| E51 | Automdication/pratiques alternatives | **M4** |  |
| E52 | Personne de rfrence coordination | **M5** |  |
| E53 | Professionnel rfrent identifi | **M5** |  |
| E54 | Organisation des soins (perception) | **M6** |  Cross-MP M5 |
| E55 | Besoin de coordination | **M5** |  |
| E56 | Inquitude sant prochains mois (dispatch) | **M6** |  |
| E57 | Plan de route clair | **M6** |  Cross-MP M5 |
| E58 | valuation griatrique (conditionnelle) | **M6** |  |
| E59 | Orientation TND enfant (conditionnelle) | **M6** |  |
| E60 | Professionnels valuation enfant (choix mult.) | **M6** |  |
| N14 | Type de pathologie |  |  Cross-V (V4/F2) |
| N17 | Type de handicap (conditionnelle) | **M1** |  (contexte) |
| N41 | Reconnaissance ALD | **M1** |  |
| O17 | Mdecin traitant | **M2** |  |
| O18 | Spcialistes en suivi | **M2** |  |
| O19 | Lesquels (dispatch, conditionnel O18) | **M2** |  (dispatch) |
| O20 | RDV mdicaux raliss cette anne | **M2** |  |
| O21 | Lesquels (conditionnel O20) | **M2** |  (conditionnel) |
| O24 | Difficults RDV spcialistes | **M2** |  |
| O59 | Intervenants domicile (choix multiples) | **M5** |  (profiling) |

>  **37 questions V5 = 37 assignations MP.** 3 cross-MP documents (E42/E43 vers M2, E54/E57 vers M5). 1 cross-vulnrabilit (N14 vers V4/F2). 5 questions conditionnelles (E38, E41, E44, E58, E59). 3 questions de profiling/contexte (N17, O59, O19).

### 1.2  Rpartition par MP

| MP | Nb Q | % de V5 | quilibre |
|---|---|---|---|
| M1 | 7 | 18.9% |  Normal |
| M2 | 9 | 24.3% |  Dense  accs soins multidimensionnel |
| M3 | 4 | 10.8% |  Compact |
| M4 | 7 | 18.9% |  Normal |
| M5 | 4 | 10.8% |  Compact  pivot transversal |
| M6 | 6 | 16.2% |  Normal  mais 3 conditionnelles |

> **Observation** : M2 porte 24% de V5 (accs soins = multidimensionnel). M3 et M5 sont compacts (4Q chacun) mais jouent un rle pivot : M3 = urgences/ruptures, M5 = coordination transversale. M6 est le plus htrogne (3 questions universelles + 3 conditionnelles pour des populations trs diffrentes : griatrie vs TND).

---

## 2. COHRENCE DES FRONTIRES INTER-MP

### 2.1  Matrice de frontire clinique

| Frontire | Critre discriminant | Confiance | Zones grises |
|---|---|---|---|
| **M1  M2** | M1 = comprhension diagnostic, M2 = accs logistique |  Haute | E44 (bilan synthse)  M3 et non M1 : acte, pas comprhension |
| **M2  M3** | M2 = accs rgulier, M3 = urgences/ruptures |  Haute | E42/E43 cross-activation M2 documente |
| **M3  M4** | M3 = suivi mdical gnral, M4 = psy/addictions |  Haute | Aucune |
| **M4  M5** | M4 = traitement psy, M5 = coordination |  Haute | Aucune |
| **M5  M6** | M5 = infrastructure coordination, M6 = perception/valuations |  Haute | E54/E57 cross-activation M5 documente |
| **M1  M6** | M1 = diagnostic initial, M6 = vision globale long terme |  Haute | E56 dispatch  peut renvoyer vers M1 (mmoire) |

### 2.2  Cross-MP documents

| Question | Proprit | Rgle dans | Justification |
|---|---|---|---|
| **E42/E43** (urgences/ruptures) | M3 | **M2** (CCC_02) | Ruptures de suivi = difficult d'accs. Cross-activation valide. |
| **E54** (organisation soins) | M6 | **M5** (CCC_01) | Organisation ingrable  besoin de coordination. Cross-activation valide. |
| **E57** (plan de route) | M6 | **M5** (CCC_01) | Pas de plan  pas de pilotage. Cross-activation valide. |
| **N14** (type pathologie) | V4/F2 | **M2** (RECO_04) | Bilan griatrique conditionn par pathologie. Cross-vulnrabilit documente. |

>  **Toutes les frontires M1-M6 sont  haute confiance.** Aucune zone grise non rsolue.

---

## 3. TAT DES RGLES D'ACTIVATION

### 3.1  Inventaire des rgles (templates officiels valids)

| MP | Rgles | Types | Legacy | Nouvelles | Questions orphelines |
|---|---|---|---|---|---|
| M1 | 9 | :5, :3, :1 | 4 | +5 | N17 (contexte) |
| M2 | 10 | :6, :3, :1 | 2 | +8 | O19 (dispatch conditionnel) |
| M3 | 7 | :4, :2, :1 | 4 | +3 |  |
| M4 | 14 | :6, :7, :1 | 9 | +5 |  |
| M5 | 8 | :4, :3, :1 | 2 | +6 | O59 (profiling) |
| M6 | 11 | :6, :4, :1 | 0 | +11 |  |
| **Total** | **59** | :31, :22, :6 | **21** | **+38** | **3 justifies** |

>  **59 rgles valides**  21 legacy + 38 nouvelles.
>  **K3 conforme : 20/20 catgories** (toutes avec 2 niveaux).
>  **6 rgles  Critique**  1 par MP (rare, cibl, urgent).
>  **Seulement 3 questions orphelines**, toutes justifies (contexte/profiling/dispatch).

### 3.2  Transformation par MP

| MP | Avant | Aprs |  | Commentaire |
|---|---|---|---|---|
| M1 | 4 rgles, K3 1/3 | 9 rgles, K3 3/3 | +5 | K3 complt, CRIT ajout |
| M2 | 2 rgles, K3 0/4 | 10 rgles, K3 4/4 | +8 | **Pire score V5 legacy  100% conforme** |
| M3 | 4 rgles, K3 2/3 | 7 rgles, K3 3/3 | +3 | Enrichissement modr |
| M4 | 9 rgles, K3 3/5 | 14 rgles, K3 5/5 | +5 | Le plus riche en rgles, bien couvert |
| M5 | 2 rgles, K3 1/2 | 8 rgles, K3 2/2 | +6 | CAT_02 cre de zro |
| M6 | **0 rgles** | **11 rgles**, K3 4/4 | **+11** | ** Plus grande transformation ex nihilo du KERNEL** |

---

## 4. TAT DES MICRO-TCHES

### 4.1  Inventaire MT (templates officiels valids)

| MP | MT totales |  Contrib. |  Non-contrib. | Types dominants | Domaine |
|---|---|---|---|---|---|
| M1 | 19 | 8 | 11 | ORGA, SEC, MED | 50% , 50%  |
| M2 | 44 (28 param.) | 24 | 20 | SEC (dispatch), ORGA | 50% , 50%  |
| M3 | 17 | 7 | 10 | ORGA, SEC, MED | 40% , 60%  |
| M4 | 25 | 12 | 13 | ORGA, SEC, MED | 40% , 60%  |
| M5 | 15 | 6 | 9 | ORGA, MED, SEC | 33% , 67%  |
| M6 | 30 | 11 | 19 | INFO, SEC, STRUC | 23% , 77%  |
| **Total** | **~150** (134 param.) | **~68** | **~82** | | |

### 4.2  Viabilit ASR par MP

| MP | ASR | Statut |
|---|---|---|
| M1 |  Diagnostic clarifi et compris par l'aidant + Parcours de soins lisible  |  3/3 CAT compltes |
| M2 |  Accs aux professionnels fonctionnel + Suivi prventif engag  |  4/4 CAT compltes |
| M3 |  Crises anticipes + Suivi maintenu + Synthse ralise  |  3/3 CAT compltes |
| M4 |  Suivi psy/addictologie observ + Crise anticipe  |  5/5 CAT compltes |
| M5 |  Coordinateur identifi + Articulation inter-pros structure  |  2/2 CAT compltes |
| M6 |  Parcours lisible et pilot + valuations ralises  |  4/4 CAT compltes |

>  **21/21 catgories ASR-viables**  toutes avec 1 MT contributive ().

---

## 5. COHRENCE CLINIQUE GLOBALE

### 5.1  Couverture thmatique V5

| Dimension clinique | MP couvrant | Profondeur |
|---|---|---|
| Comprhension du diagnostic | M1 (CAT_01) |  Complte (5Q + 4 legacy + 5 nouvelles) |
| Errance diagnostique | M1 (CAT_02) |  Complte (E36+E37) |
| Transition enfant  adulte | M1 (CAT_03) |  Conditionnelle (E38) |
| Accessibilit gographique | M2 (CAT_01) |  Complte (E39+O24) |
| Freins d'accs aux soins | M2 (CAT_02) |  Complte (E40) |
| ducation thrapeutique | M2 (CAT_03) |  Complte (E41) |
| Rseau spcialistes + bilans | M2 (CAT_04) |  Complte (O17+O18+O20+O24) |
| Urgences et crises mdicales | M3 (CAT_01) |  Complte (E42) |
| Ruptures de suivi | M3 (CAT_02) |  Complte (E43) |
| Bilan de synthse | M3 (CAT_03) |  Conditionnelle (E44) |
| Suivi addictologique | M4 (CAT_01) |  Complte (E45) |
| Observance traitements | M4 (CAT_02) |  Complte (E46+E47+E50) |
| Suivi psy/psychiatrique | M4 (CAT_03) |  Complte (E48) |
| Protocole de crise | M4 (CAT_04) |  Complte (E49) |
| Automdication | M4 (CAT_05) |  Complte (E51) |
| Coordination et rfrent | M5 (CAT_01) |  Complte (E52+E53) |
| Besoin de coordination | M5 (CAT_02) |  Complte (E55) |
| Lisibilit parcours global | M6 (CAT_01) |  Complte (E54+E57) |
| Inquitudes anticipation | M6 (CAT_02) |  Complte (E56 = dispatch center) |
| valuations griatriques | M6 (CAT_03) |  Conditionnelle (E58) |
| valuations TND enfants | M6 (CAT_04) |  Conditionnelle (E59+E60) |

### 5.2  Trous cliniques rsiduels

| Trou | Gravit | Couvert ? |
|---|---|---|
| O17 = "Non" (pas de MT) |  Rsolu |  CRIT_P01 valid dans M2 |
| M6 : 0 rgle legacy |  Rsolu |  11 rgles cres ex nihilo |
| E56 dispatch center non implment |  Phase B | Mcanisme document,  implmenter |
| O19 dispatch spcialistes (17 MT) |  Phase B | MT paramtrique valid,  implmenter |
| MT doublons MinCount |  Phase B | Fusions valides (M1: 074/064, M2: 005/016, M6: 103/104+107/121) |

>  **0 trou clinique majeur.** Les 3 points ouverts sont des volutions techniques Phase B.

---

## 6. COHRENCE PRODUIT

### 6.1  K-Rules compliance

| K-Rule | Description | M1 | M2 | M3 | M4 | M5 | M6 | Global |
|---|---|---|---|---|---|---|---|---|
| K1 | Questions  MP |  |  |  |  |  |  |  |
| K3 | 2 niveaux/CAT |  3/3 |  4/4 |  3/3 |  5/5 |  2/2 |  4/4 |  21/21 |
| K6 | Reco prvention |  |  |  |  |  |  |  |
| K11 | ASR validable |  |  |  |  |  |  |  |

### 6.2  Checklist 8/8

| MP | Score template | Score completude |  vers 8/8 |
|---|---|---|---|
| M1 | **8/8**  | **7/8** (fusion MT) | 1 action mineure |
| M2 | **8/8**  | **7/8** (dispatch param.) | 1 action technique |
| M3 | **8/8**  | **8/8**  |  |
| M4 | **8/8**  | **8/8**  |  |
| M5 | **8/8**  | **7/8** (MT profiling O59) | 1 action conception |
| M6 | **8/8**  | **7/8** (dispatch E56) | 1 action technique |
| **V5 globale** | **48/48 (100%)** | **44/48 (92%)** | **4 actions restantes** |

### 6.3  Doublons et conflits produit

| Doublon potentiel | Dtail | Gravit | Rsolution |
|---|---|---|---|
| E42/E43 dans M2 ET M3 | M3 propritaire, M2 cross-activation |  | Actions diffrentes : M3=suivi, M2=accs. Coexistence justifie. |
| E54/E57 dans M5 ET M6 | M6 propritaire, M5 cross-activation |  | Actions diffrentes : M5=installer coordination, M6=lisibilit. |
| Reco "contacter MT"  4 MPs | MT "contacter MT" dans M1, M2, M3, M6 |  | Normal  MT est le pivot. Motivations diffrentes par MP. |
| M5_CCC_01 = M6_CCC_P01 | Mme condition (E54+E57), effets diffrents |  | M5 active coordination, M6 active restructuration. Dual activation documente. |

>  **Aucun conflit produit.** Toutes les coexistences sont justifies.

---

## 7. SYNTHSE  V5 est-elle viable ?

### tat officiel (templates valids)

| Critre | Verdict |
|---|---|
| Couverture questions |  37/37 assignes, 3 cross-MP documents, 1 cross-V |
| Frontires inter-MP |  Toutes  haute confiance, 4 cross-activations documentes |
| Rgles d'activation |  **59 rgles** (21 legacy + 38 nouvelles) |
| K3 |  **21/21 catgories conformes** |
| MT contributives |  **~68 ** sur ~150 MT totales |
| ASR |  **6/6 MPs validables** |
| Score global | **48/48 (100%)** |
| Trous cliniques |  **0 trou majeur** |

###  Comparaison inter-vulnrabilits

| V | Questions | MPs | Rgles | K3 | Score |  legacy  officiel |
|---|---|---|---|---|---|---|
| V1 | 15 | 4 | 27 | 12/12  | 32/32 (100%) | +12% |
| V2 | 21 | 4 | 24 | 12/12  | 32/32 (100%) | +19% |
| V3 | 26 | 4 | 23 | 12/12  | 32/32 (100%) | +28% |
| V4 | 57 | 6 | 55* | 21/21* | 48/48* (100%) | +48%* |
| **V5** | **37** | **6** | **59** | **21/21 ** | **48/48 (100%)** | **+81%** |

> *V4 = scores cibles (completude propose mais templates non encore officialiss au pattern V1)

>  **V5 a la plus grande transformation legacy  officiel** (+81%, de 21  59 rgles). M6 seul reprsente le plus grand saut du KERNEL entier (011 rgles). V5 est aussi la seule V o **chaque MP a 1 rgle Critique**  couverture d'urgence complte.

### lments Phase B restants

| # | lment | Priorit | Impact |
|---|---|---|---|
| 1 | Dispatch paramtrique O19 (171 MT) |  Haute | Simplification M2 + applicable  F6 |
| 2 | Dispatch center E56 (redirection inter-MP) |  Haute | Mcanisme unique,  implmenter dans moteur |
| 3 | Fusion MT doublons (4 paires identifies) |  Moyenne | Nettoyage |
| 4 | MT contextuelles O59 profiling |  Moyenne | Enrichissement |

---

## 8. VERDICT COMPLTUDE V5  100% VIABLE

>  **V5 est la vulnrabilit la plus aboutie du KERNEL post-officialisation.** 6/6 MPs au pattern "Fiche Officielle", 59 rgles valides, K3 21/21 conforme, 0 trou clinique. Les 4 lments Phase B sont des optimisations techniques, pas des lacunes cliniques.

> **V5 est PRTE pour la production  aucune action bloquante.**
`,Pb=`#  Audit Global KERNEL  24 MPs  5 Vulnrabilits

> **Date** : 16/02/2026  
> **Primtre** : KERNEL complet (V1V5)  
> **Objectif** : Vrifier l'intgrit globale  questions, MPs, rgles, cohrence inter-V

---

## 1. INVENTAIRE DES 24 MICRO-PARCOURS

### Mapping complet V  MP

| V | Nom vulnrabilit | MPs | Noms | Sous-bloc questionnaire |
|---|---|---|---|---|
| **V1** | Social & Relationnel | 4 | R1, R2, R3, R4 | Bloc 1  Relations & soutien |
| **V2** | Administratif & Juridique | 4 | A1, A2, A3, A4 | Bloc 2  Droits & dmarches |
| **V3** | Sant de l'Aidant | 4 | S1, S2, S3, S4 | Bloc 5  Sant aidant |
| **V4** | Fragilit du Proche | 6 | F1, F2, F3, F4, F5, F6 | Bloc 4  tat du proche |
| **V5** | Parcours Mdical | 6 | M1, M2, M3, M4, M5, M6 | Bloc 6  Parcours soins |
| **TOTAL** | | **24** | | |

>  **24 MPs confirms**  4+4+4+6+6.

### Dtail des 24 MPs

| # | MP | Vulnrabilit | Thmatique | Questions | Catgories |
|---|---|---|---|---|---|
| 1 | R1 | V1 | Perception du rle et lien avec le proche | 4 | 2 |
| 2 | R2 | V1 | Soutien de l'entourage | 4 | 2 |
| 3 | R3 | V1 | Lien social et activits | 3 | 2 |
| 4 | R4 | V1 | Communication et relation d'aide | 4 | 2 |
| 5 | A1 | V2 | Aides financires et droits | 5 | 3 |
| 6 | A2 | V2 | Dmarches administratives | 6 | 3 |
| 7 | A3 | V2 | Protection juridique | 5 | 2 |
| 8 | A4 | V2 | Travail et vie professionnelle | 5 | 3 |
| 9 | S1 | V3 | Charge ressentie et fatigue | 9 | 3 |
| 10 | S2 | V3 | Inquitudes et scurit | 5 | 2 |
| 11 | S3 | V3 | Sant physique de l'aidant | 8 | 3 |
| 12 | S4 | V3 | Hygine de vie | 4 | 2 |
| 13 | F1 | V4 | Quotidien, budget, isolement | 8 | 3 |
| 14 | F2 | V4 | Aide humaine organise | 7 | 3 |
| 15 | F3 | V4 | Mmoire, comportement, risques | 8 | 3 |
| 16 | F4 | V4 | Douleur, fatigue, tat gnral | 12 | 4 |
| 17 | F5 | V4 | Dpendance, handicap, droits | 12 | 3 |
| 18 | F6 | V4 | Autonomie, chutes, pathologies | 8+1 | 4 |
| 19 | M1 | V5 | Comprhension diagnostic | 7 | 3 |
| 20 | M2 | V5 | Accs aux soins | 9 | 4 |
| 21 | M3 | V5 | Urgences, hospitalisations | 4 | 3 |
| 22 | M4 | V5 | Addictions, troubles psy | 7 | 5 |
| 23 | M5 | V5 | Coordination des soins | 4 | 2 |
| 24 | M6 | V5 | Vision globale, valuations | 6 | 4 |

---

## 2. INVENTAIRE DES QUESTIONS

### 2.1  Comptage par vulnrabilit

| V | Questions propres | Partages cross-V | Total affich dans coherence check |
|---|---|---|---|
| V1 | 15 | 0 | **15** |
| V2 | 21 | N41, O53, O54, E21 (4 partages avec V4/V5) | **21** |
| V3 | 26 | 0 | **26** |
| V4 | 57 | E21 (V2), O53/O54 (V2), N3 (V5) | **57** |
| V5 | 37 | N3 (V4), N14 (V4), N41 (V2) + O1/N3 (conditions syst.) | **37** |
| **Somme brute** | | | **156** |

### 2.2  Questions partages entre vulnrabilits

| Q_ID | Libell | V propritaire | Autres V utilisatrices | Type de partage |
|---|---|---|---|---|
| **N3** | Nature de la pathologie | Systme | V4 (cadrage F5), V5 (condition E58/E59) |  Question systme  conditionne l'affichage, pas un MP |
| **N14** | Type de pathologie | V4 (F2) | V5 (cross-V dans M2) |  Cross-V rfrence  M2 conditionne bilan griatrique |
| **N41** | Reconnaissance ALD | V2 (A1) | V5 (M1) |  Cross-V rfrence  M1 utilise pour diagnostic/droits |
| **O1** | ge de l'aid (enfant/adulte) | Systme | V5 (condition E59/E60) |  Question systme |
| **O53** | valuation AGGIR faite | V4 (F5) | V2 (A2) |  Cross-V rfrence  droits administratifs |
| **O54** | Niveau GIR | V4 (F5) | V2 (A2) |  Cross-V rfrence  droits administratifs |
| **E21** | Risque perte logement | V4 (F1) | V2 (A1) |  Cross-V rfrence  droits/budget |

> **7 questions partages** dont 2 questions systme (N3, O1).

### 2.3  Comptage final

| Mthode | Total |
|---|---|
| **Somme brute** (questions assignes par V) | **156** |
| **Questions systme** (N3, O1  pas assignes  un MP, servent de conditions) | **-2** |
| **Cross-V partages** (N14, N41, O53, O54, E21  comptes 2 car dans 2 V) | **-5** |
| **Total unique de questions distinctes dans le questionnaire** | ** 149150** |

>  **~150 questions uniques confirmes**  le delta exact dpend du comptage des questions de cadrage (N16, N37, N40 en V4 sont comptes dans V4 mais ne gnrent pas de MP propre).

>  **156 questions si on compte les assignations par V. ~150 questions uniques dans le questionnaire rel.** La diffrence s'explique par les 7 partages cross-V et les 2 questions systme. Les deux chiffres sont corrects selon l'angle de lecture.

---

## 3. BILAN DES RGLES D'ACTIVATION

| V | Rgles legacy | Rgles aprs officialisation |  | K3 |
|---|---|---|---|---|
| V1 | 27 | 27 | 0 | 12/12  |
| V2 | 24 | 24 | 0 | 12/12  |
| V3 | 23 | 23 | 0 | 12/12  |
| V4 | 15 | 55* | +40 | 21/21* |
| V5 | 21 | **59** | +38 | 21/21  |
| **TOTAL** | **110** | **~188** | **+78** | **78/78** |

> *V4 = scores cibles (completude propose, templates pas encore au pattern Fiche Officielle)

>  **V4 et V5 portent 92% de la croissance des rgles**  logique : V1-V3 taient dj bien couverts. V4 (57Q) et V5 (37Q) avaient le plus de questions orphelines.

---

## 4. BILAN DES MICRO-TCHES

| V | MT estimes |  Contrib. | Rgles CRIT |
|---|---|---|---|
| V1 | ~40 | ~20 | 3 |
| V2 | ~35 | ~18 | 2 |
| V3 | ~45 | ~22 | 4 |
| V4 | ~80* | ~56* | 5* |
| V5 | ~150 | ~68 | 6 |
| **TOTAL** | **~350** | **~184** | **20** |

>  V5 est le plus riche en MT (150) grce au dispatch paramtrique M2 (17 spcialistes  1 MT paramtrique  options).

---

## 5. TAT DE COMPLTUDE PAR VULNRABILIT

### 5.1  Documents existants

| V | Docs de compltude | Coherence Check | Statut |
|---|---|---|---|
| V1 |  Non requis |  [V1_COHERENCE_CHECK.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/V1_COHERENCE_CHECK.md) |  **Propre**  aucune action requise |
| V2 |  Non requis |  [V2_COHERENCE_CHECK.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/V2_COHERENCE_CHECK.md) |  **Propre**  aucune action requise |
| V3 |  S1, S2, S3, S4 |  [V3_COHERENCE_CHECK.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/V3_COHERENCE_CHECK.md) |  **Templates pr-validation**  completude propose |
| V4 |  F1, F2, F3, F4, F5, F6 |  [V4_COHERENCE_CHECK.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/V4_COHERENCE_CHECK.md) |  **Templates pr-validation**  completude propose |
| V5 |  M1, M2, M3, M4, M5, M6 |  [V5_COHERENCE_CHECK.md](file:///Users/antonin/monka/KERNEL/COMPLETUDE/V5_COHERENCE_CHECK.md) |  **Officiel**  6/6 au pattern "Fiche Officielle" |

### 5.2  Score global de maturit

| V | Templates | Pattern officiel ? | Completude ? | Coherence ? | Maturit |
|---|---|---|---|---|---|
| V1 | 4/4  |  Natif |  |  |  **Production-ready** |
| V2 | 4/4  |  Natif |  |  |  **Production-ready** |
| V3 | 4/4  |  Pr-validation |  Propose |  |  ** officialiser** |
| V4 | 6/6  |  Pr-validation |  Propose |  |  ** officialiser** |
| V5 | 6/6  |  **Officiel** |  Post-valid |  |  **Production-ready** |

---

## 6. SYNTHSE GLOBALE KERNEL

### Les chiffres

| Mtrique | Valeur |
|---|---|
| **Vulnrabilits** | 5 (V1V5) |
| **Micro-Parcours (MPs)** | **24**  |
| **Questions uniques** | **~150**  (156 assignations, 7 cross-V, 2 systme) |
| **Rgles d'activation** | ~188 (110 legacy + 78 nouvelles) |
| **Micro-Tches** | ~350 |
| **Catgories de reco** | 78 |
| **K3 conforme** | 78/78 (aprs officialisation complte) |
| **Coherence checks** | 5/5  |

### Ce qui est propre

| V | Statut | Rsum |
|---|---|---|
|  **V1** | Production-ready | 15Q, 4 MPs, 27 rgles, pattern natif |
|  **V2** | Production-ready | 21Q, 4 MPs, 24 rgles, pattern natif |
|  **V5** | Production-ready | 37Q, 6 MPs, 59 rgles, pattern Fiche Officielle |

### Ce qui reste  officialiser

| V | Statut | Ce qui manque |
|---|---|---|
|  **V3** | Templates pr-validation | Appliquer le pattern "Fiche Officielle"  S1-S4 (comme fait pour V5) |
|  **V4** | Templates pr-validation | Appliquer le pattern "Fiche Officielle"  F1-F6 (comme fait pour V5) |

>  **V3 et V4 ont leurs completude docs + coherence checks = le travail clinique est fini.** Il ne manque que la **rcriture des templates au pattern officiel** (Fiche Officielle, prose rule blocks, Dcisions actes)  exactement ce qui a t fait pour V5 M1-M6.

### Effort restant estim

| Tche | V3 (4 MPs) | V4 (6 MPs) | Total |
|---|---|---|---|
| Rcriture pattern officiel | ~2h | ~3h | ~5h |
| Templates S1S4 / F1F6 | 4 fichiers | 6 fichiers | 10 fichiers |
| Validation Dr. Monka |  Dj propos |  Dj propos |  |

---

## 7. VERDICT FINAL

>  **Le KERNEL est structurellement complet.** 24 MPs couvrent 150 questions uniques  travers 5 vulnrabilits. 5 coherence checks confirment la cohrence clinique et produit. La seule tche restante est la rcriture cosmtique de V3 (S1-S4) et V4 (F1-F6) au pattern "Fiche Officielle"  le contenu clinique est dj valid.

>  **V5 est le modle**  premire vulnrabilit entirement officialise avec le pattern complet. V1 et V2 taient nativement au pattern. V3 et V4 suivront le mme processus.
`;function nn(n,t,s,r){const l=t.split(`
`),u=t.match(/^#\s+(.+)$/m),c=u?u[1]:n,p=t.match(/\*\*Vulnrabilit\*\*\s*:\s*(.+)/),h=p?p[1].trim():"",m=t.match(/\*\*Score POST-VALIDATION\*\*\s*:\s*(\d+\/\d+)/i)||t.match(/Score\s*:\s*(\d+\/\d+)/),g=m?m[1]:void 0,C=[];let T="",_=[],S=0;for(const b of l)if(b.startsWith("## ")){if(T){const D=_.join(`
`),R=`COMP_${n}_section_${S}`,P=/PROP-|Proposition|propositi| faire||reste  faire| dfinir| implmenter| dcider/i.test(D);C.push({id:R,title:T,content:D,hasDecisionItems:P}),S++}T=b.replace(/^##\s+/,""),_=[]}else _.push(b);if(T){const b=_.join(`
`),D=`COMP_${n}_section_${S}`,R=/PROP-|Proposition|propositi| faire||reste  faire| dfinir| implmenter| dcider/i.test(b);C.push({id:D,title:T,content:b,hasDecisionItems:R})}return{id:n,title:c.replace(/^[]\s*/,""),subtitle:h,type:s,vulnerability:r,score:g,rawContent:t,sections:C}}function Ib(){return[nn("COMP_S1",pb,"mp_completude","V3"),nn("COMP_S2",mb,"mp_completude","V3"),nn("COMP_S3",fb,"mp_completude","V3"),nn("COMP_S4",hb,"mp_completude","V3"),nn("COMP_F1",gb,"mp_completude","V4"),nn("COMP_F2",Cb,"mp_completude","V4"),nn("COMP_F3",vb,"mp_completude","V4"),nn("COMP_F4",_b,"mp_completude","V4"),nn("COMP_F5",Tb,"mp_completude","V4"),nn("COMP_F6",Ab,"mp_completude","V4"),nn("COMP_M1",Sb,"mp_completude","V5"),nn("COMP_M2",Eb,"mp_completude","V5"),nn("COMP_M3",Mb,"mp_completude","V5"),nn("COMP_M4",bb,"mp_completude","V5"),nn("COMP_M5",Rb,"mp_completude","V5"),nn("COMP_M6",yb,"mp_completude","V5"),nn("CHECK_V1",Ob,"coherence_check","V1"),nn("CHECK_V2",Db,"coherence_check","V2"),nn("CHECK_V3",qb,"coherence_check","V3"),nn("CHECK_V4",Vb,"coherence_check","V4"),nn("CHECK_V5",Nb,"coherence_check","V5"),nn("GLOBAL_AUDIT",Pb,"global_audit","ALL")]}function vl(n,t){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(n);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(n,r[l])&&(s[r[l]]=n[r[l]]);return s}function xb(n,t,s,r){function l(u){return u instanceof s?u:new s(function(c){c(u)})}return new(s||(s=Promise))(function(u,c){function p(g){try{m(r.next(g))}catch(C){c(C)}}function h(g){try{m(r.throw(g))}catch(C){c(C)}}function m(g){g.done?u(g.value):l(g.value).then(p,h)}m((r=r.apply(n,t||[])).next())})}const Lb=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class np extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class jb extends np{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nC extends np{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tC extends np{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(bd||(bd={}));class wb{constructor(t,{headers:s={},customFetch:r,region:l=bd.Any}={}){this.url=t,this.headers=s,this.region=l,this.fetch=Lb(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xb(this,arguments,void 0,function*(s,r={}){var l;let u,c;try{const{headers:p,method:h,body:m,signal:g,timeout:C}=r;let T={},{region:_}=r;_||(_=this.region);const S=new URL(`${this.url}/${s}`);_&&_!=="any"&&(T["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let b;m&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",b=m):typeof m=="string"?(T["Content-Type"]="text/plain",b=m):typeof FormData<"u"&&m instanceof FormData?b=m:(T["Content-Type"]="application/json",b=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?b=JSON.stringify(m):b=m;let D=g;C&&(c=new AbortController,u=setTimeout(()=>c.abort(),C),g?(D=c.signal,g.addEventListener("abort",()=>c.abort())):D=c.signal);const R=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),p),body:b,signal:D}).catch(Y=>{throw new jb(Y)}),P=R.headers.get("x-relay-error");if(P&&P==="true")throw new nC(R);if(!R.ok)throw new tC(R);let N=((l=R.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),$;return N==="application/json"?$=yield R.json():N==="application/octet-stream"||N==="application/pdf"?$=yield R.blob():N==="text/event-stream"?$=R:N==="multipart/form-data"?$=yield R.formData():$=yield R.text(),{data:$,error:null,response:R}}catch(p){return{data:null,error:p,response:p instanceof tC||p instanceof nC?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var Ub=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},kb=class{constructor(n){var t,s,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(r=n.urlLengthLimit)!==null&&r!==void 0?r:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let l=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,p=null,h=null,m=u.status,g=u.statusText;if(u.ok){var C,T;if(s.method!=="HEAD"){var _;const R=await u.text();R===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((_=s.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?p=R:p=JSON.parse(R))}const b=(C=s.headers.get("Prefer"))===null||C===void 0?void 0:C.match(/count=(exact|planned|estimated)/),D=(T=u.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");b&&D&&D.length>1&&(h=parseInt(D[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(c={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,h=null,m=406,g="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var S;const b=await u.text();try{c=JSON.parse(b),Array.isArray(c)&&u.status===404&&(p=[],c=null,m=200,g="OK")}catch{u.status===404&&b===""?(m=204,g="No Content"):c={message:b}}if(c&&s.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,m=200,g="OK"),c&&s.shouldThrowOnError)throw new Ub(c)}return{error:c,data:p,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(l=l.catch(u=>{var c;let p="",h="",m="";const g=u==null?void 0:u.cause;if(g){var C,T,_,S;const R=(C=g==null?void 0:g.message)!==null&&C!==void 0?C:"",P=(T=g==null?void 0:g.code)!==null&&T!==void 0?T:"";p=`${(_=u==null?void 0:u.name)!==null&&_!==void 0?_:"FetchError"}: ${u==null?void 0:u.message}`,p+=`

Caused by: ${(S=g==null?void 0:g.name)!==null&&S!==void 0?S:"Error"}: ${R}`,P&&(p+=` (${P})`),g!=null&&g.stack&&(p+=`
${g.stack}`)}else{var b;p=(b=u==null?void 0:u.stack)!==null&&b!==void 0?b:""}const D=this.url.toString().length;return(u==null?void 0:u.name)==="AbortError"||(u==null?void 0:u.code)==="ABORT_ERR"?(m="",h="Request was aborted (timeout or manual cancellation)",D>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${D} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((g==null?void 0:g.name)==="HeadersOverflowError"||(g==null?void 0:g.code)==="UND_ERR_HEADERS_OVERFLOW")&&(m="",h="HTTP headers exceeded server limits (typically 16KB)",D>this.urlLengthLimit&&(h+=`. Your request URL is ${D} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:p,hint:h,code:m},data:null,count:null,status:0,statusText:""}})),l.then(n,t)}returns(){return this}overrideTypes(){return this}},Fb=class extends kb{select(n){let t=!1;const s=(n??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:l=r}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:s=t}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,t,{foreignTable:s,referencedTable:r=s}={}){const l=typeof r>"u"?"offset":`${r}.offset`,u=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:l=!1,format:u="text"}={}){var c;const p=[n?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const iC=new RegExp("[,()]");var Ys=class extends Fb{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&iC.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&iC.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:s,type:r}={}){let l="";r==="plain"?l="pl":r==="phrase"?l="ph":r==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${l}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(n,t,s){return this.url.searchParams.append(n,`not.${t}.${s}`),this}or(n,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,t,s){return this.url.searchParams.append(n,`${t}.${s}`),this}},zb=class{constructor(n,{headers:t={},schema:s,fetch:r,urlLengthLimit:l=8e3}){this.url=n,this.headers=new Headers(t),this.schema=s,this.fetch=r,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:s=!1,count:r}=t??{},l=s?"HEAD":"GET";let u=!1;const c=(n??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join(""),{url:p,headers:h}=this.cloneRequestState();return p.searchParams.set("select",c),r&&h.append("Prefer",`count=${r}`),new Ys({method:l,url:p,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:t,defaultToNull:s=!0}={}){var r;const l="POST",{url:u,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),s||c.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(p.length>0){const h=[...new Set(p)].map(m=>`"${m}"`);u.searchParams.set("columns",h.join(","))}}return new Ys({method:l,url:u,headers:c,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:l=!0}={}){var u;const c="POST",{url:p,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&p.searchParams.set("on_conflict",t),r&&h.append("Prefer",`count=${r}`),l||h.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((g,C)=>g.concat(Object.keys(C)),[]);if(m.length>0){const g=[...new Set(m)].map(C=>`"${C}"`);p.searchParams.set("columns",g.join(","))}}return new Ys({method:c,url:p,headers:h,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:t}={}){var s;const r="PATCH",{url:l,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new Ys({method:r,url:l,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var t;const s="DELETE",{url:r,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new Ys({method:s,url:r,headers:l,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function gr(n){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(n)}function Gb(n,t){if(gr(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,t);if(gr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Hb(n){var t=Gb(n,"string");return gr(t)=="symbol"?t:t+""}function Bb(n,t,s){return(t=Hb(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function sC(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,r)}return s}function Yo(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(s),!0).forEach(function(r){Bb(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):sC(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}var Qb=class Nv{constructor(t,{headers:s={},schema:r,fetch:l,timeout:u,urlLengthLimit:c=8e3}={}){this.url=t,this.headers=new Headers(s),this.schemaName=r,this.urlLengthLimit=c;const p=l??globalThis.fetch;u!==void 0&&u>0?this.fetch=(h,m)=>{const g=new AbortController,C=setTimeout(()=>g.abort(),u),T=m==null?void 0:m.signal;if(T){if(T.aborted)return clearTimeout(C),p(h,m);const _=()=>{clearTimeout(C),g.abort()};return T.addEventListener("abort",_,{once:!0}),p(h,Yo(Yo({},m),{},{signal:g.signal})).finally(()=>{clearTimeout(C),T.removeEventListener("abort",_)})}return p(h,Yo(Yo({},m),{},{signal:g.signal})).finally(()=>clearTimeout(C))}:this.fetch=p}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new zb(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Nv(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,s={},{head:r=!1,get:l=!1,count:u}={}){var c;let p;const h=new URL(`${this.url}/rpc/${t}`);let m;const g=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(g)),C=r&&Object.values(s).some(g);C?(p="POST",m=s):r||l?(p=r?"HEAD":"GET",Object.entries(s).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{h.searchParams.append(_,S)})):(p="POST",m=s);const T=new Headers(this.headers);return C?T.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&T.set("Prefer",`count=${u}`),new Ys({method:p,url:h,headers:T,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class Kb{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const l=r.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $b="2.95.3",Jb=`realtime-js/${$b}`,Wb="1.0.0",Pv="2.0.0",aC=Pv,Rd=1e4,Yb=1e3,Xb=100;var Si;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Si||(Si={}));var fn;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(fn||(fn={}));var vt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(vt||(vt={}));var yd;(function(n){n.websocket="websocket"})(yd||(yd={}));var $i;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})($i||($i={}));class Zb{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,r;const l=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var s,r;const l=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,s,r){var l,u;const c=t.topic,p=(l=t.ref)!==null&&l!==void 0?l:"",h=(u=t.join_ref)!==null&&u!==void 0?u:"",m=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},C=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(C.length>255)throw new Error(`metadata length ${C.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+p.length+c.length+m.length+C.length,_=new ArrayBuffer(this.HEADER_LENGTH+T);let S=new DataView(_),b=0;S.setUint8(b++,this.KINDS.userBroadcastPush),S.setUint8(b++,h.length),S.setUint8(b++,p.length),S.setUint8(b++,c.length),S.setUint8(b++,m.length),S.setUint8(b++,C.length),S.setUint8(b++,s),Array.from(h,R=>S.setUint8(b++,R.charCodeAt(0))),Array.from(p,R=>S.setUint8(b++,R.charCodeAt(0))),Array.from(c,R=>S.setUint8(b++,R.charCodeAt(0))),Array.from(m,R=>S.setUint8(b++,R.charCodeAt(0))),Array.from(C,R=>S.setUint8(b++,R.charCodeAt(0)));var D=new Uint8Array(_.byteLength+r.byteLength);return D.set(new Uint8Array(_),0),D.set(new Uint8Array(r),_.byteLength),D.buffer}decode(t,s){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return s(r)}if(typeof t=="string"){const r=JSON.parse(t),[l,u,c,p,h]=r;return s({join_ref:l,ref:u,topic:c,event:p,payload:h})}return s({})}_binaryDecode(t){const s=new DataView(t),r=s.getUint8(0),l=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,l)}}_decodeUserBroadcast(t,s,r){const l=s.getUint8(1),u=s.getUint8(2),c=s.getUint8(3),p=s.getUint8(4);let h=this.HEADER_LENGTH+4;const m=r.decode(t.slice(h,h+l));h=h+l;const g=r.decode(t.slice(h,h+u));h=h+u;const C=r.decode(t.slice(h,h+c));h=h+c;const T=t.slice(h,t.byteLength),_=p===this.JSON_ENCODING?JSON.parse(r.decode(T)):T,S={type:this.BROADCAST_EVENT,event:g,payload:_};return c>0&&(S.meta=JSON.parse(C)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>s.includes(r)))}}class Iv{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Qe||(Qe={}));const rC=(n,t,s={})=>{var r;const l=(r=s.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=e3(c,n,t,l),u),{}):{}},e3=(n,t,s,r)=>{const l=t.find(p=>p.name===n),u=l==null?void 0:l.type,c=s[n];return u&&!r.includes(u)?xv(u,c):Od(c)},xv=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return s3(t,s)}switch(n){case Qe.bool:return n3(t);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return t3(t);case Qe.json:case Qe.jsonb:return i3(t);case Qe.timestamp:return a3(t);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Od(t);default:return Od(t)}},Od=n=>n,n3=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},t3=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},i3=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},s3=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,r=n[s];if(n[0]==="{"&&r==="}"){let u;const c=n.slice(1,s);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(p=>xv(t,p))}return n},a3=n=>typeof n=="string"?n.replace(" ","T"):n,Lv=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class od{constructor(t,s,r={},l=Rd){this.channel=t,this.event=s,this.payload=r,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var oC;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(oC||(oC={}));class pr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},l=>{const{onJoin:u,onLeave:c,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pr.syncState(this.state,l,u,c),this.pendingDiffs.forEach(h=>{this.state=pr.syncDiff(this.state,h,u,c)}),this.pendingDiffs=[],p()}),this.channel._on(r.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=pr.syncDiff(this.state,l,u,c),p())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,l){const u=this.cloneDeep(t),c=this.transformState(s),p={},h={};return this.map(u,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const C=u[m];if(C){const T=g.map(D=>D.presence_ref),_=C.map(D=>D.presence_ref),S=g.filter(D=>_.indexOf(D.presence_ref)<0),b=C.filter(D=>T.indexOf(D.presence_ref)<0);S.length>0&&(p[m]=S),b.length>0&&(h[m]=b)}else p[m]=g}),this.syncDiff(u,{joins:p,leaves:h},r,l)}static syncDiff(t,s,r,l){const{joins:u,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),l||(l=()=>{}),this.map(u,(p,h)=>{var m;const g=(m=t[p])!==null&&m!==void 0?m:[];if(t[p]=this.cloneDeep(h),g.length>0){const C=t[p].map(_=>_.presence_ref),T=g.filter(_=>C.indexOf(_.presence_ref)<0);t[p].unshift(...T)}r(p,g,h)}),this.map(c,(p,h)=>{let m=t[p];if(!m)return;const g=h.map(C=>C.presence_ref);m=m.filter(C=>g.indexOf(C.presence_ref)<0),t[p]=m,l(p,m,h),m.length===0&&delete t[p]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const l=t[r];return"metas"in l?s[r]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[r]=l,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lC;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(lC||(lC={}));var mr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(mr||(mr={}));var Kt;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Kt||(Kt={}));class ea{constructor(t,s={config:{}},r){var l,u;if(this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,vt.join,this.params,this.timeout),this.rejoinTimer=new Iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fn.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(c,p)=>{this._trigger(this._replyEventName(p),c)}),this.presence=new pr(this),this.broadcastEndpointURL=Lv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var r,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==fn.closed){const{config:{broadcast:c,presence:p,private:h}}=this.params,m=(l=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[mr.PRESENCE]&&this.bindings[mr.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,C={},T={broadcast:c,presence:Object.assign(Object.assign({},p),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(C.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(Kt.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(Kt.CLOSED)),this.updateJoinPayload(Object.assign({config:T},C)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(Kt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,D=(S=b==null?void 0:b.length)!==null&&S!==void 0?S:0,R=[];for(let P=0;P<D;P++){const N=b[P],{filter:{event:$,schema:Y,table:x,filter:z}}=N,te=_&&_[P];if(te&&te.event===$&&ea.isFilterValueEqual(te.schema,Y)&&ea.isFilterValueEqual(te.table,x)&&ea.isFilterValueEqual(te.filter,z))R.push(Object.assign(Object.assign({},N),{id:te.id}));else{this.unsubscribe(),this.state=fn.errored,t==null||t(Kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(Kt.SUBSCRIBED);return}}).receive("error",_=>{this.state=fn.errored,t==null||t(Kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===fn.joined&&t===mr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,r)}async httpSend(t,s,r={}){var l;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let h=p.statusText;try{const m=await p.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(t,s={}){var r,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,p,h;const m=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(p=(c=this.params)===null||c===void 0?void 0:c.config)===null||p===void 0?void 0:p.broadcast)===null||h===void 0)&&h.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fn.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(l=>{r=new od(this,vt.leave,{},t),r.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fn.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const l=new AbortController,u=setTimeout(()=>l.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),c}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new od(this,t,s,r);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Xb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var l,u;const c=t.toLocaleLowerCase(),{close:p,error:h,leave:m,join:g}=vt;if(r&&[p,h,m,g].indexOf(c)>=0&&r!==this._joinRef())return;let T=this._onMessage(c,s,r);if(s&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(_=>{var S,b,D;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((D=(b=_.filter)===null||b===void 0?void 0:b.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===c}).map(_=>_.callback(T,r)):(u=this.bindings[c])===null||u===void 0||u.filter(_=>{var S,b,D,R,P,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const $=_.id,Y=(S=_.filter)===null||S===void 0?void 0:S.event;return $&&((b=s.ids)===null||b===void 0?void 0:b.includes($))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((D=s.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const $=(P=(R=_==null?void 0:_.filter)===null||R===void 0?void 0:R.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return $==="*"||$===((N=s==null?void 0:s.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof T=="object"&&"ids"in T){const S=T.data,{schema:b,table:D,commit_timestamp:R,type:P,errors:N}=S;T=Object.assign(Object.assign({},{schema:b,table:D,commit_timestamp:R,eventType:P,new:{},old:{},errors:N}),this._getPayloadRecords(S))}_.callback(T,r)})}_isClosed(){return this.state===fn.closed}_isJoined(){return this.state===fn.joined}_isJoining(){return this.state===fn.joining}_isLeaving(){return this.state===fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const l=t.toLocaleLowerCase(),u={type:l,filter:s,callback:r};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&ea.isEqual(l.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vt.close,{},t)}_onError(t){this._on(vt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=rC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=rC(t.columns,t.old_record)),s}}const ld=()=>{},Xo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r3=[1e3,2e3,5e3,1e4],o3=1e4,l3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u3{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rd,this.transport=null,this.heartbeatIntervalMs=Xo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ld,this.ref=0,this.reconnectTimer=null,this.vsn=aC,this.logger=ld,this.conn=null,this.sendBuffer=[],this.serializer=new Zb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${yd.websocket}`,this.httpEndpoint=Lv(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return s==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Si.connecting:return $i.Connecting;case Si.open:return $i.Open;case Si.closing:return $i.Closing;default:return $i.Closed}}isConnected(){return this.connectionState()===$i.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===r);if(l)return l;{const u=new ea(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:r,payload:l,ref:u}=t,c=()=>{this.encode(t,p=>{var h;(h=this.conn)===null||h===void 0||h.send(p)})};this.log("push",`${s} ${r} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Yb,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Xo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",m)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:l,payload:u,ref:c}=s,p=c?`(${c})`:"",h=u.status||"";this.log("receive",`${h} ${r} ${l} ${p}`.trim(),u),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(l,u,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Si.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Si.open||this.conn.readyState===Si.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(vt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${t}${r}${l}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([l3],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,r=!1;if(t)s=t,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:Jb};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(vt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Iv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,l,u,c,p,h,m,g,C,T,_;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Rd,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:Xo.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(p=t==null?void 0:t.heartbeatCallback)!==null&&p!==void 0?p:ld,this.vsn=(h=t==null?void 0:t.vsn)!==null&&h!==void 0?h:aC,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:(S=>r3[S-1]||o3),this.vsn){case Wb:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:((S,b)=>b(JSON.stringify(S))),this.decode=(C=t==null?void 0:t.decode)!==null&&C!==void 0?C:((S,b)=>b(JSON.parse(S)));break;case Pv:this.encode=(T=t==null?void 0:t.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Cr=class extends Error{constructor(n,t){var s;super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function c3(n,t,s){const r=new URL(t,n);if(s)for(const[l,u]of Object.entries(s))u!==void 0&&r.searchParams.set(l,u);return r.toString()}async function d3(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function p3(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:l,body:u,headers:c}){const p=c3(n.baseUrl,r,l),h=await d3(n.auth),m=await t(p,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...h,...c},body:u?JSON.stringify(u):void 0}),g=await m.text(),C=(m.headers.get("content-type")||"").includes("application/json"),T=C&&g?JSON.parse(g):g;if(!m.ok){const _=C?T:void 0,S=_==null?void 0:_.error;throw new Cr((S==null?void 0:S.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:_})}return{status:m.status,headers:m.headers,data:T}}}}function Zo(n){return n.join("")}var m3=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Zo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,t){const s={namespace:n.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zo(n.namespace)}`}),!0}catch(t){if(t instanceof Cr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(s){if(s instanceof Cr&&s.status===409)return;throw s}}};function Hs(n){return n.join("")}var f3=class{constructor(n,t="",s){this.client=n,this.prefix=t,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hs(n.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(n,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hs(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hs(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hs(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(s){if(s instanceof Cr&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(s){if(s instanceof Cr&&s.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw s}}},h3=class{constructor(n){var r;let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=p3({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new m3(this.client,t),this.tableOps=new f3(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},_l=class extends Error{constructor(n,t="storage",s,r){super(n),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function Tl(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var el=class extends _l{constructor(n,t,s,r="storage"){super(n,r,t,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},jv=class extends _l{constructor(n,t,s="storage"){super(n,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const g3=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),C3=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Dd=n=>{if(Array.isArray(n))return n.map(s=>Dd(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,r])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=Dd(r)}),t},v3=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function vr(n){"@babel/helpers - typeof";return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(n)}function _3(n,t){if(vr(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,t);if(vr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function T3(n){var t=_3(n,"string");return vr(t)=="symbol"?t:t+""}function A3(n,t,s){return(t=T3(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function uC(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,r)}return s}function ge(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(s),!0).forEach(function(r){A3(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):uC(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}const cC=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},S3=async(n,t,s,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const l=n,u=l.status||500;if(typeof l.json=="function")l.json().then(c=>{const p=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||u+"";t(new el(cC(c),u,p,r))}).catch(()=>{if(r==="vectors"){const c=u+"";t(new el(l.statusText||`HTTP ${u} error`,u,c,r))}else{const c=u+"";t(new el(l.statusText||`HTTP ${u} error`,u,c,r))}});else{const c=u+"";t(new el(l.statusText||`HTTP ${u} error`,u,c,r))}}else t(new jv(cC(n),n,r))},E3=(n,t,s,r)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||n==="HEAD"||!r?ge(ge({},l),s):(C3(r)?(l.headers=ge({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(r)):l.body=r,t!=null&&t.duplex&&(l.duplex=t.duplex),ge(ge({},l),s))};async function rr(n,t,s,r,l,u,c){return new Promise((p,h)=>{n(s,E3(t,r,l,u)).then(m=>{if(!m.ok)throw m;if(r!=null&&r.noResolveJson)return m;if(c==="vectors"){const g=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!g||!g.includes("application/json"))return{}}return m.json()}).then(m=>p(m)).catch(m=>S3(m,h,r,c))})}function wv(n="storage"){return{get:async(t,s,r,l)=>rr(t,"GET",s,r,l,void 0,n),post:async(t,s,r,l,u)=>rr(t,"POST",s,l,u,r,n),put:async(t,s,r,l,u)=>rr(t,"PUT",s,l,u,r,n),head:async(t,s,r,l)=>rr(t,"HEAD",s,ge(ge({},r),{},{noResolveJson:!0}),l,void 0,n),remove:async(t,s,r,l,u)=>rr(t,"DELETE",s,l,u,r,n)}}const M3=wv("storage"),{get:_r,post:Ct,put:qd,head:b3,remove:tp}=M3,Xn=wv("vectors");var ra=class{constructor(n,t={},s,r="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.fetch=g3(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var t=this;try{return{data:await n(),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Tl(s))return{data:null,error:s};throw s}}},R3=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Tl(t))return{data:null,error:t};throw t}}};let Uv;Uv=Symbol.toStringTag;var y3=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[Uv]="BlobDownloadBuilder",this.promise=null}asStream(){return new R3(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Tl(t))return{data:null,error:t};throw t}}};const O3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var D3=class extends ra{constructor(n,t={},s,r){super(n,t,r,"storage"),this.bucketId=s}async uploadOrUpdate(n,t,s,r){var l=this;return l.handleOperation(async()=>{let u;const c=ge(ge({},dC),r);let p=ge(ge({},l.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",l.encodeMetadata(h)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),h&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(h))):(u=s,p["cache-control"]=`max-age=${c.cacheControl}`,p["content-type"]=c.contentType,h&&(p["x-metadata"]=l.toBase64(l.encodeMetadata(h))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),r!=null&&r.headers&&(p=ge(ge({},p),r.headers));const m=l._removeEmptyFolders(t),g=l._getFinalPath(m),C=await(n=="PUT"?qd:Ct)(l.fetch,`${l.url}/object/${g}`,u,ge({headers:p},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{path:m,id:C.Id,fullPath:C.Key}})}async upload(n,t,s){return this.uploadOrUpdate("POST",n,t,s)}async uploadToSignedUrl(n,t,s,r){var l=this;const u=l._removeEmptyFolders(n),c=l._getFinalPath(u),p=new URL(l.url+`/object/upload/sign/${c}`);return p.searchParams.set("token",t),l.handleOperation(async()=>{let h;const m=ge({upsert:dC.upsert},r),g=ge(ge({},l.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",m.cacheControl)):(h=s,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{path:u,fullPath:(await qd(l.fetch,p.toString(),h,{headers:g})).Key}})}async createSignedUploadUrl(n,t){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(n);const l=ge({},s.headers);t!=null&&t.upsert&&(l["x-upsert"]="true");const u=await Ct(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:l}),c=new URL(s.url+u.url),p=c.searchParams.get("token");if(!p)throw new _l("No token returned by API");return{signedUrl:c.toString(),path:n,token:p}})}async update(n,t,s){return this.uploadOrUpdate("PUT",n,t,s)}async move(n,t,s){var r=this;return r.handleOperation(async()=>await Ct(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(n,t,s){var r=this;return r.handleOperation(async()=>({path:(await Ct(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(n,t,s){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(n),u=await Ct(r.fetch,`${r.url}/object/sign/${l}`,ge({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${u.signedURL}${c}`)}})}async createSignedUrls(n,t,s){var r=this;return r.handleOperation(async()=>{const l=await Ct(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:n},{headers:r.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l.map(c=>ge(ge({},c),{},{signedUrl:c.signedURL?encodeURI(`${r.url}${c.signedURL}${u}`):null}))})}download(n,t,s){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),u=l?`?${l}`:"",c=this._getFinalPath(n),p=()=>_r(this.fetch,`${this.url}/${r}/${c}${u}`,{headers:this.headers,noResolveJson:!0},s);return new y3(p,this.shouldThrowOnError)}async info(n){var t=this;const s=t._getFinalPath(n);return t.handleOperation(async()=>Dd(await _r(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})))}async exists(n){var t=this;const s=t._getFinalPath(n);try{return await b3(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tl(r)&&r instanceof jv){const l=r.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,t){const s=this._getFinalPath(n),r=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&r.push(l);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&r.push(c);let p=r.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${p}`)}}}async remove(n){var t=this;return t.handleOperation(async()=>await tp(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}))}async list(n,t,s){var r=this;return r.handleOperation(async()=>{const l=ge(ge(ge({},O3),t),{},{prefix:n||""});return await Ct(r.fetch,`${r.url}/object/list/${r.bucketId}`,l,{headers:r.headers},s)})}async listV2(n,t){var s=this;return s.handleOperation(async()=>{const r=ge({},n);return await Ct(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},t)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const q3="2.95.3",Rr={"X-Client-Info":`storage-js/${q3}`};var V3=class extends ra{constructor(n,t={},s,r){const l=new URL(n);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const u=l.href.replace(/\/$/,""),c=ge(ge({},Rr),t);super(u,c,s,"storage")}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const s=t.listBucketOptionsToQueryString(n);return await _r(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers})})}async getBucket(n){var t=this;return t.handleOperation(async()=>await _r(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}))}async createBucket(n,t={public:!1}){var s=this;return s.handleOperation(async()=>await Ct(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async updateBucket(n,t){var s=this;return s.handleOperation(async()=>await qd(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(n){var t=this;return t.handleOperation(async()=>await Ct(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await tp(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},N3=class extends ra{constructor(n,t={},s){const r=n.replace(/\/$/,""),l=ge(ge({},Rr),t);super(r,l,s,"storage")}async createBucket(n){var t=this;return t.handleOperation(async()=>await Ct(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}))}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const r=s.toString(),l=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await _r(t.fetch,l,{headers:t.headers})})}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await tp(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}from(n){var t=this;if(!v3(n))throw new _l("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new h3({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(l,u){const c=l[u];return typeof c!="function"?c:async(...p)=>{try{return{data:await c.apply(l,p),error:null}}catch(h){if(r)throw h;return{data:null,error:h}}}}})}},P3=class extends ra{constructor(n,t={},s){const r=n.replace(/\/$/,""),l=ge(ge({},Rr),{},{"Content-Type":"application/json"},t);super(r,l,s,"vectors")}async createIndex(n){var t=this;return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{})}async getIndex(n,t){var s=this;return s.handleOperation(async()=>await Xn.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers}))}async listIndexes(n){var t=this;return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}))}async deleteIndex(n,t){var s=this;return s.handleOperation(async()=>await Xn.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers})||{})}},I3=class extends ra{constructor(n,t={},s){const r=n.replace(/\/$/,""),l=ge(ge({},Rr),{},{"Content-Type":"application/json"},t);super(r,l,s,"vectors")}async putVectors(n){var t=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{})}async getVectors(n){var t=this;return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}))}async listVectors(n){var t=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}))}async queryVectors(n){var t=this;return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}))}async deleteVectors(n){var t=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{})}},x3=class extends ra{constructor(n,t={},s){const r=n.replace(/\/$/,""),l=ge(ge({},Rr),{},{"Content-Type":"application/json"},t);super(r,l,s,"vectors")}async createBucket(n){var t=this;return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}async getBucket(n){var t=this;return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}))}async listBuckets(n={}){var t=this;return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await Xn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}},L3=class extends x3{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new j3(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,s=this;return t().call(s,n)}async getBucket(n){var t=()=>super.getBucket,s=this;return t().call(s,n)}async listBuckets(n={}){var t=()=>super.listBuckets,s=this;return t().call(s,n)}async deleteBucket(n){var t=()=>super.deleteBucket,s=this;return t().call(s,n)}},j3=class extends P3{constructor(n,t,s,r){super(n,t,r),this.vectorBucketName=s}async createIndex(n){var t=()=>super.createIndex,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,n)}index(n){return new w3(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},w3=class extends I3{constructor(n,t,s,r,l){super(n,t,l),this.vectorBucketName=s,this.indexName=r}async putVectors(n){var t=()=>super.putVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var t=()=>super.getVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,s=this;return t().call(s,ge(ge({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},U3=class extends V3{constructor(n,t={},s,r){super(n,t,s,r)}from(n){return new D3(this.url,this.headers,n,this.fetch)}get vectors(){return new L3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new N3(this.url+"/iceberg",this.headers,this.fetch)}};const kv="2.95.3",Xs=30*1e3,Vd=3,ud=Vd*Xs,k3="http://localhost:9999",F3="supabase.auth.token",z3={"X-Client-Info":`gotrue-js/${kv}`},Nd="X-Supabase-Api-Version",Fv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H3=600*1e3;class Tr extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function ue(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class B3 extends Tr{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Q3(n){return ue(n)&&n.name==="AuthApiError"}class Ji extends Tr{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Jt extends Tr{constructor(t,s,r,l){super(t,r,l),this.name=s,this.status=r}}class Yn extends Jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cd(n){return ue(n)&&n.name==="AuthSessionMissingError"}class Bs extends Jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nl extends Jt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tl extends Jt{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K3(n){return ue(n)&&n.name==="AuthImplicitGrantRedirectError"}class pC extends Jt{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $3 extends Jt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pd extends Jt{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function dd(n){return ue(n)&&n.name==="AuthRetryableFetchError"}class mC extends Jt{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Id extends Jt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fC=` 	
\r=`.split(""),J3=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<fC.length;t+=1)n[fC[t].charCodeAt(0)]=-2;for(let t=0;t<cl.length;t+=1)n[cl[t].charCodeAt(0)]=t;return n})();function hC(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(cl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(cl[r]),t.queuedBits-=6}}function zv(n,t,s){const r=J3[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function gC(n){const t=[],s=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{X3(c,r,s)};for(let c=0;c<n.length;c+=1)zv(n.charCodeAt(c),l,u);return t.join("")}function W3(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Y3(n,t){for(let s=0;s<n.length;s+=1){let r=n.charCodeAt(s);if(r>55295&&r<=56319){const l=(r-55296)*1024&65535;r=(n.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}W3(r,t)}}function X3(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function ta(n){const t=[],s={queue:0,queuedBits:0},r=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)zv(n.charCodeAt(l),s,r);return new Uint8Array(t)}function Z3(n){const t=[];return Y3(n,s=>t.push(s)),new Uint8Array(t)}function Wi(n){const t=[],s={queue:0,queuedBits:0},r=l=>{t.push(l)};return n.forEach(l=>hC(l,s,r)),hC(null,s,r),t.join("")}function eR(n){return Math.round(Date.now()/1e3)+n}function nR(){return Symbol("auth-callback")}const Mn=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},Gv=()=>{if(!Mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bi.tested)return Bi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable};function tR(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return s.searchParams.forEach((r,l)=>{t[l]=r}),t}const Hv=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),iR=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Zs=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},Qi=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},En=async(n,t)=>{await n.removeItem(t)};class Al{constructor(){this.promise=new Al.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Al.promiseConstructor=Promise;function il(n){const t=n.split(".");if(t.length!==3)throw new Id("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!G3.test(t[r]))throw new Id("JWT not in base64url format");return{header:JSON.parse(gC(t[0])),payload:JSON.parse(gC(t[1])),signature:ta(t[2]),raw:{header:t[0],payload:t[1]}}}async function sR(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function aR(n,t){return new Promise((r,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await n(u);if(!t(u,null,c)){r(c);return}}catch(c){if(!t(u,c)){l(c);return}}})()})}function rR(n){return("0"+n.toString(16)).substr(-2)}function oR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*r));return l}return crypto.getRandomValues(t),Array.from(t,rR).join("")}async function lR(n){const s=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(r);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function uR(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await lR(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qs(n,t,s=!1){const r=oR();let l=r;s&&(l+="/PASSWORD_RECOVERY"),await Zs(n,`${t}-code-verifier`,l);const u=await uR(r);return[u,r===u?"plain":"s256"]}const cR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dR(n){const t=n.headers.get(Nd);if(!t||!t.match(cR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pR(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function mR(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(n){if(!fR.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pd(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hR(n,t){return new Proxy(n,{get:(s,r,l)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const u=r.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,l)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,r,l)}})}function CC(n){return JSON.parse(JSON.stringify(n))}const Ki=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),gR=[502,503,504];async function vC(n){var t;if(!iR(n))throw new Pd(Ki(n),0);if(gR.includes(n.status))throw new Pd(Ki(n),n.status);let s;try{s=await n.json()}catch(u){throw new Ji(Ki(u),u)}let r;const l=dR(n);if(l&&l.getTime()>=Fv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new mC(Ki(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Yn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new mC(Ki(s),n.status,s.weak_password.reasons);throw new B3(Ki(s),n.status||500,r)}const CR=(n,t,s,r)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(r),Object.assign(Object.assign({},l),s))};async function he(n,t,s,r){var l;const u=Object.assign({},r==null?void 0:r.headers);u[Nd]||(u[Nd]=Fv["2024-01-01"].name),r!=null&&r.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const c=(l=r==null?void 0:r.query)!==null&&l!==void 0?l:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const p=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await vR(n,t,s+p,{headers:u,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function vR(n,t,s,r,l,u){const c=CR(t,r,l,u);let p;try{p=await n(s,Object.assign({},c))}catch(h){throw console.error(h),new Pd(Ki(h),0)}if(p.ok||await vC(p),r!=null&&r.noResolveJson)return p;try{return await p.json()}catch(h){await vC(h)}}function gt(n){var t;let s=null;AR(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=eR(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:r},error:null}}function _C(n){const t=gt(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Ei(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function _R(n){return{data:n,error:null}}function TR(n){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:l,verification_type:u}=n,c=vl(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:s,hashed_token:r,redirect_to:l,verification_type:u},h=Object.assign({},c);return{data:{properties:p,user:h},error:null}}function TC(n){return n}function AR(n){return n.access_token&&n.refresh_token&&n.expires_in}const md=["global","local","others"];class SR{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Hv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=md[0]){if(md.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${md.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ei})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=vl(t,["options"]),l=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(l.new_email=r==null?void 0:r.newEmail,delete l.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:TR,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ue(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ei})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,l,u,c,p,h;try{const m={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(u=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:TC});if(g.error)throw g.error;const C=await g.json(),T=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(p=g.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(S.split(";")[1].split("=")[1]);m[`${D}Page`]=b}),m.total=parseInt(T)),{data:Object.assign(Object.assign({},C),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Ks(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ei})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Ks(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ei})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){Ks(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ei})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ks(t.userId);try{const{data:s,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:r}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Ks(t.userId),Ks(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,r,l,u,c,p,h;try{const m={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(u=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:TC});if(g.error)throw g.error;const C=await g.json(),T=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(p=g.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(S.split(";")[1].split("=")[1]);m[`${D}Page`]=b}),m.total=parseInt(T)),{data:Object.assign(Object.assign({},C),m),error:null}}catch(m){if(ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}}function AC(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const $s={debug:!!(globalThis&&Gv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ER extends Bv{}async function MR(n,t,s){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async l=>{if(l){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await s()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new ER(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if($s.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function bR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function RR(n){return parseInt(n,16)}function yR(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function OR(n){var t;const{chainId:s,domain:r,expirationTime:l,issuedAt:u=new Date,nonce:c,notBefore:p,requestId:h,resources:m,scheme:g,uri:C,version:T}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!C)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=Qv(n.address),S=g?`${g}://${r}`:r,b=n.statement?`${n.statement}
`:"",D=`${S} wants you to sign in with your Ethereum account:
${_}

${b}`;let R=`URI: ${C}
Version: ${T}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(l&&(R+=`
Expiration Time: ${l.toISOString()}`),p&&(R+=`
Not Before: ${p.toISOString()}`),h&&(R+=`
Request ID: ${h}`),m){let P=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);P+=`
- ${N}`}R+=P}return`${D}
${R}`}class dn extends Error{constructor({message:t,code:s,cause:r,name:l}){var u;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(u=l??(r instanceof Error?r.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class dl extends dn{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function DR({error:n,options:t}){var s,r,l;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new dn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=u.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new dn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new dn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new dn({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new dn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new dn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Kv(c)){if(u.rp.id!==c)return new dn({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new dn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new dn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function qR({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new dn({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(Kv(r)){if(s.rpId!==r)return new dn({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new dn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class VR{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const NR=new VR;function PR(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:r}=n,l=vl(n,["challenge","user","excludeCredentials"]),u=ta(t).buffer,c=Object.assign(Object.assign({},s),{id:ta(s.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:u,user:c});if(r&&r.length>0){p.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const m=r[h];p.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:ta(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return p}function IR(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,r=vl(n,["challenge","allowCredentials"]),l=ta(t).buffer,u=Object.assign(Object.assign({},r),{challenge:l});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const p=s[c];u.allowCredentials[c]=Object.assign(Object.assign({},p),{id:ta(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function xR(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:Wi(new Uint8Array(n.response.attestationObject)),clientDataJSON:Wi(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LR(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,r=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Wi(new Uint8Array(l.authenticatorData)),clientDataJSON:Wi(new Uint8Array(l.clientDataJSON)),signature:Wi(new Uint8Array(l.signature)),userHandle:l.userHandle?Wi(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function SC(){var n,t;return!!(Mn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function jR(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",t)}:{data:null,error:new dl("Empty credential response",t)}}catch(t){return{data:null,error:DR({error:t,options:n})}}}async function wR(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",t)}:{data:null,error:new dl("Empty credential response",t)}}catch(t){return{data:null,error:qR({error:t,options:n})}}}const UR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pl(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),r={};for(const l of n)if(l)for(const u in l){const c=l[u];if(c!==void 0)if(Array.isArray(c))r[u]=c;else if(s(c))r[u]=c;else if(t(c)){const p=r[u];t(p)?r[u]=pl(p,c):r[u]=pl(c)}else r[u]=c}return r}function FR(n,t){return pl(UR,n,t||{})}function zR(n,t){return pl(kR,n,t||{})}class GR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:r,signal:l},u){var c;try{const{data:p,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!p)return{data:null,error:h};const m=l??NR.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:g}=p.webauthn.credential_options.publicKey;if(!g.name){const C=r;if(C)g.name=`${g.id}:${C}`;else{const _=(await this.client.getUser()).data.user,S=((c=_==null?void 0:_.user_metadata)===null||c===void 0?void 0:c.name)||(_==null?void 0:_.email)||(_==null?void 0:_.id)||"User";g.name=`${g.id}:${S}`}}g.displayName||(g.displayName=g.name)}switch(p.webauthn.type){case"create":{const g=FR(p.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:C,error:T}=await jR({publicKey:g,signal:m});return C?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:C}},error:null}:{data:null,error:T}}case"request":{const g=zR(p.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:C,error:T}=await wR(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:g,signal:m}));return C?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:C}},error:null}:{data:null,error:T}}}}catch(p){return ue(p)?{data:null,error:p}:{data:null,error:new Ji("Unexpected error in challenge",p)}}}async _verify({challengeId:t,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new Tr("rpId is required for WebAuthn authentication")};try{if(!SC())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:c,error:p}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:r},signal:l},{request:u});if(!c)return{data:null,error:p};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:s,rpOrigins:r,credential_response:h.credential_response}})}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new Ji("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new Tr("rpId is required for WebAuthn registration")};try{if(!SC())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:c,error:p}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(g=>{var C;return(C=g.data)===null||C===void 0?void 0:C.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===t&&T.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:p};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:l},{create:u});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:s,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new Ji("Unexpected error in register",c)}}}}bR();const HR={url:k3,storageKey:F3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:z3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function EC(n,t,s){return await s()}const Js={};class Ar{get jwks(){var t,s;return(s=(t=Js[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Js[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{cachedAt:t})}constructor(t){var s,r,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},HR),t);if(this.storageKey=u.storageKey,this.instanceID=(s=Ar.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ar.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Mn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new SR({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Hv(u.fetch),this.lock=u.lock||EC,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Mn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=MR:this.lock=EC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Gv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=AC(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=AC(this.memoryStorage)),Mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(p){this._debug("#broadcastChannel","error",p)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},r="none";if(Mn()&&(s=tR(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),Mn()&&this.detectSessionInUrl&&r!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),K3(u)){const h=(t=u.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",p),await this._saveSession(c),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ue(s)?this._returnResult({error:s}):this._returnResult({error:new Ji("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,l;try{const u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:gt}),{data:c,error:p}=u;if(p||!c)return this._returnResult({data:{user:null,session:null},error:p});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,r,l;try{let u;if("email"in t){const{email:g,password:C,options:T}=t;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Qs(this.storage,this.storageKey)),u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:g,password:C,data:(s=T==null?void 0:T.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:_,code_challenge_method:S},xform:gt})}else if("phone"in t){const{phone:g,password:C,options:T}=t;u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:C,data:(r=T==null?void 0:T.data)!==null&&r!==void 0?r:{},channel:(l=T==null?void 0:T.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:gt})}else throw new nl("You must provide either an email or phone number and a password");const{data:c,error:p}=u;if(p||!c)return await En(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(u){if(await En(this.storage,`${this.storageKey}-code-verifier`),ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:c,options:p}=t;s=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:_C})}else if("phone"in t){const{phone:u,password:c,options:p}=t;s=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:_C})}else throw new nl("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!r||!r.session||!r.user){const u=new Bs;return this._returnResult({data:{user:null,session:null},error:u})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:l})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,r,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,r,l,u,c,p,h,m,g,C,T;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:b,wallet:D,statement:R,options:P}=t;let N;if(Mn())if(typeof D=="object")N=D;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")N=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=D}const $=new URL((s=P==null?void 0:P.url)!==null&&s!==void 0?s:window.location.href),Y=await N.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Qv(Y[0]);let z=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!z){const ae=await N.request({method:"eth_chainId"});z=RR(ae)}const te={domain:$.host,address:x,statement:R,uri:$.href,version:"1",chainId:z,nonce:(l=P==null?void 0:P.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(p=P==null?void 0:P.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=P==null?void 0:P.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=P==null?void 0:P.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=OR(te),S=await N.request({method:"personal_sign",params:[yR(_),x]})}try{const{data:b,error:D}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((C=t.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(T=t.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:gt});if(D)throw D;if(!b||!b.session||!b.user){const R=new Bs;return this._returnResult({data:{user:null,session:null},error:R})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:D})}catch(b){if(ue(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var s,r,l,u,c,p,h,m,g,C,T,_;let S,b;if("message"in t)S=t.message,b=t.signature;else{const{chain:D,wallet:R,statement:P,options:N}=t;let $;if(Mn())if(typeof R=="object")$=R;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))$=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=R}const Y=new URL((s=N==null?void 0:N.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in $&&$.signIn){const x=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),P?{statement:P}:null));let z;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")z=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)z=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)S=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),b=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${Y.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(l=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((C=(g=N==null?void 0:N.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||C===void 0)&&C.length?["Resources",...N.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const x=await $.signMessage(new TextEncoder().encode(S),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=x}}try{const{data:D,error:R}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Wi(b)},!((T=t.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:gt});if(R)throw R;if(!D||!D.session||!D.user){const P=new Bs;return this._returnResult({data:{user:null,session:null},error:P})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:R})}catch(D){if(ue(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async _exchangeCodeForSession(t){const s=await Qi(this.storage,`${this.storageKey}-code-verifier`),[r,l]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new $3;const{data:u,error:c}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:gt});if(await En(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const p=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(await En(this.storage,`${this.storageKey}-code-verifier`),ue(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:r,token:l,access_token:u,nonce:c}=t,p=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:gt}),{data:h,error:m}=p;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new Bs;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,r,l,u,c;try{if("email"in t){const{email:p,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Qs(this.storage,this.storageKey));const{error:C}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:C})}if("phone"in t){const{phone:p,options:h}=t,{data:m,error:g}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=h==null?void 0:h.data)!==null&&l!==void 0?l:{},create_user:(u=h==null?void 0:h.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new nl("You must provide either an email or phone number.")}catch(p){if(await En(this.storage,`${this.storageKey}-code-verifier`),ue(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(t){var s,r;try{let l,u;"options"in t&&(l=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:p}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:gt});if(p)throw p;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var s,r,l,u,c;try{let p=null,h=null;this.flowType==="pkce"&&([p,h]=await Qs(this.storage,this.storageKey));const m=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:h}),headers:this.headers,xform:_R});return!((u=m.data)===null||u===void 0)&&u.url&&Mn()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(p){if(await En(this.storage,`${this.storageKey}-code-verifier`),ue(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Yn;const{error:l}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:l,options:u}=t,{error:c}=await he(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:r,type:l,options:u}=t,{data:c,error:p}=await he(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:p})}throw new nl("You must provide either an email or phone number and a type")}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ud:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await Qi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=pd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=hR(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ei}):await this._useSession(async s=>{var r,l,u;const{data:c,error:p}=s;if(p)throw p;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Ei})})}catch(s){if(ue(s))return cd(s)&&(await this._removeSession(),await En(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:l,error:u}=r;if(u)throw u;if(!l.session)throw new Yn;const c=l.session;let p=null,h=null;this.flowType==="pkce"&&t.email!=null&&([p,h]=await Qs(this.storage,this.storageKey));const{data:m,error:g}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:h}),jwt:c.access_token,xform:Ei});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await En(this.storage,`${this.storageKey}-code-verifier`),ue(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yn;const s=Date.now()/1e3;let r=s,l=!0,u=null;const{payload:c}=il(t.access_token);if(c.exp&&(r=c.exp,l=r<=s),l){const{data:p,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:h}=await this._getUser(t.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});u={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ue(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:c,error:p}=s;if(p)throw p;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Yn;const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!Mn())throw new tl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new pC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pC("No code detected.");const{data:P,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:p,expires_at:h,token_type:m}=t;if(!u||!p||!c||!m)throw new tl("No session defined in URL");const g=Math.round(Date.now()/1e3),C=parseInt(p);let T=g+C;h&&(T=parseInt(h));const _=T-g;_*1e3<=Xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${C}s`);const S=T-C;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,T,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,T,g);const{data:b,error:D}=await this._getUser(u);if(D)throw D;const R={provider_token:r,provider_refresh_token:l,access_token:u,expires_in:C,expires_at:T,refresh_token:c,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Qi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:l,error:u}=s;if(u&&!cd(u))return this._returnResult({error:u});const c=(r=l.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:p}=await this.admin.signOut(c,t);if(p&&!(Q3(p)&&(p.status===404||p.status===401||p.status===403)||cd(p)))return this._returnResult({error:p})}return t!=="others"&&(await this._removeSession(),await En(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=nR(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,l;try{const{data:{session:u},error:c}=s;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let r=null,l=null;this.flowType==="pkce"&&([r,l]=await Qs(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await En(this.storage,`${this.storageKey}-code-verifier`),ue(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:r,error:l}=await this._useSession(async u=>{var c,p,h,m,g;const{data:C,error:T}=u;if(T)throw T;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(m=C.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Mn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ue(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var r;try{const{error:l,data:{session:u}}=s;if(l)throw l;const{options:c,provider:p,token:h,access_token:m,nonce:g}=t,C=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=u==null?void 0:u.access_token)!==null&&r!==void 0?r:void 0,body:{provider:p,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:gt}),{data:T,error:_}=C;return _?this._returnResult({data:{user:null,session:null},error:_}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:_}))}catch(l){if(await En(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,l;const{data:u,error:c}=s;if(c)throw c;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await aR(async l=>(l>0&&await sR(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gt})),(l,u)=>{const c=200*Math.pow(2,l);return u&&dd(u)&&Date.now()+c-r<Xs})}catch(r){if(this._debug(s,"error",r),ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),Mn()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const l=await Qi(this.storage,this.storageKey);if(l&&this.userStorage){let c=await Qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Zs(this.userStorage,this.storageKey+"-user",c)),l.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:pd()}else if(l&&!l.user&&!l.user){const c=await Qi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(l.user=c.user,await En(this.storage,this.storageKey+"-user"),await Zs(this.storage,this.storageKey,l)):l.user=pd()}if(this._debug(r,"session from storage",l),!this._isValidSession(l)){this._debug(r,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ud;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${ud}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),dd(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:p}=await this._getUser(l.access_token);!p&&(c!=null&&c.user)?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(r,"error",l),console.error(l);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Al;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new Yn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),ue(u)){const c={data:null,error:u};return dd(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,s,r=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,s)}catch(h){u.push(h)}});if(await Promise.all(c),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await En(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Zs(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=CC(l);await Zs(this.storage,this.storageKey,u)}else{const l=CC(s);await Zs(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await En(this.storage,this.storageKey),await En(this.storage,this.storageKey+"-code-verifier"),await En(this.storage,this.storageKey+"-user"),this.userStorage&&await En(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((r.expires_at*1e3-t)/Xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Xs}ms, refresh threshold is ${Vd} ticks`),l<=Vd&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const l=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&l.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&l.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,c]=await Qs(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(p.toString())}if(r!=null&&r.queryParams){const u=new URLSearchParams(r.queryParams);l.push(u.toString())}return r!=null&&r.skipBrowserRedirect&&l.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:l,error:u}=s;return u?this._returnResult({data:null,error:u}):await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,l;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:m}=await he(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&h.type==="totp"&&(!((l=h==null?void 0:h.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?xR(t.webauthn.credential_response):LR(t.webauthn.credential_response)})}:{code:t.code}),{data:p,error:h}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:h}))})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:p}=c;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:PR(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:IR(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(t){var s,r,l,u;if(t)try{const{payload:_}=il(t);let S=null;_.aal&&(S=_.aal);let b=S;const{data:{user:D},error:R}=await this.getUser(t);if(R)return this._returnResult({data:null,error:R});((r=(s=D==null?void 0:D.factors)===null||s===void 0?void 0:s.filter($=>$.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const N=_.amr||[];return{data:{currentLevel:S,nextLevel:b,currentAuthenticationMethods:N},error:null}}catch(_){if(ue(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:c},error:p}=await this.getSession();if(p)return this._returnResult({data:null,error:p});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=il(c.access_token);let m=null;h.aal&&(m=h.aal);let g=m;((u=(l=c.user.factors)===null||l===void 0?void 0:l.filter(_=>_.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(g="aal2");const T=h.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:T},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:r},error:l}=s;return l?this._returnResult({data:null,error:l}):r?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Yn});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return c.data&&c.data.redirect_url&&Mn()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Yn});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return c.data&&c.data.redirect_url&&Mn()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:r},error:l}=s;return l?this._returnResult({data:null,error:l}):r?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(p=>p.kid===t);if(r)return r;const l=Date.now();if(r=this.jwks.keys.find(p=>p.kid===t),r&&this.jwks_cached_at+H3>l)return r;const{data:u,error:c}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,r=u.keys.find(p=>p.kid===t),!r)?null:r}async getClaims(t,s={}){try{let r=t;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});r=_.session.access_token}const{header:l,payload:u,signature:c,raw:{header:p,payload:h}}=il(r);s!=null&&s.allowExpired||pR(u.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!m){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:u,header:l,signature:c},error:null}}const g=mR(l.alg),C=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,C,c,Z3(`${p}.${h}`)))throw new Id("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}}Ar.nextInstanceID={};const BR=Ar,QR="2.95.3";let lr="";typeof Deno<"u"?lr="deno":typeof document<"u"?lr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lr="react-native":lr="node";const KR={"X-Client-Info":`supabase-js-${lr}/${QR}`},$R={headers:KR},JR={schema:"public"},WR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YR={};function Sr(n){"@babel/helpers - typeof";return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(n)}function XR(n,t){if(Sr(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,t);if(Sr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ZR(n){var t=XR(n,"string");return Sr(t)=="symbol"?t:t+""}function ey(n,t,s){return(t=ZR(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function MC(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,r)}return s}function tn(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(s),!0).forEach(function(r){ey(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):MC(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}const ny=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),ty=()=>Headers,iy=(n,t,s)=>{const r=ny(s),l=ty();return async(u,c)=>{var p;const h=(p=await t())!==null&&p!==void 0?p:n;let m=new l(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),r(u,tn(tn({},c),{},{headers:m}))}};function sy(n){return n.endsWith("/")?n:n+"/"}function ay(n,t){var s,r;const{db:l,auth:u,realtime:c,global:p}=n,{db:h,auth:m,realtime:g,global:C}=t,T={db:tn(tn({},h),l),auth:tn(tn({},m),u),realtime:tn(tn({},g),c),storage:{},global:tn(tn(tn({},C),p),{},{headers:tn(tn({},(s=C==null?void 0:C.headers)!==null&&s!==void 0?s:{}),(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?T.accessToken=n.accessToken:delete T.accessToken,T}function ry(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sy(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var oy=class extends BR{constructor(n){super(n)}},ly=class{constructor(n,t,s){var r,l;this.supabaseUrl=n,this.supabaseKey=t;const u=ry(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:JR,realtime:YR,auth:tn(tn({},WR),{},{storageKey:c}),global:$R},h=ay(s??{},p);if(this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(l=h.global.headers)!==null&&l!==void 0?l:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=iy(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(tn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new Qb(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new U3(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new wb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,s)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,s;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(t=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:l,storageKey:u,flowType:c,lock:p,debug:h,throwOnError:m},g,C){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oy({url:this.authUrl.href,headers:tn(tn({},T),g),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:l,flowType:c,lock:p,debug:h,throwOnError:m,fetch:C,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new u3(this.realtimeUrl.href,tn(tn({},n),{},{params:tn(tn({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(n,t,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const uy=(n,t,s)=>new ly(n,t,s);function cy(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}cy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dy="https://mbxeqrvofrmhqlwlefff.supabase.co",py="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ieGVxcnZvZnJtaHFsd2xlZmZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2NDAwMDUsImV4cCI6MjA4NjIxNjAwNX0.GhV05FiBjI66m6MPsx8HFEuId9POyZaYxDSSU68jCcI",or=uy(dy,py),Sl=db(),$v=Ib(),al={};$v.forEach(n=>{const t=n.type;al[t]||(al[t]=[]),al[t].push(n)});const my={mp_completude:{label:"Fiches MP",icon:""},coherence_check:{label:"Contrles Cohrence",icon:""},global_audit:{label:"Audit Global",icon:""}},Yi={};Sl.forEach(n=>{Yi[n.vulnerability]||(Yi[n.vulnerability]=[]),Yi[n.vulnerability].push(n)});const Mi={V1:{label:"Social & Relationnel",icon:"",color:"#6C5CE7"},V2:{label:"Administrative",icon:"",color:"#fdcb6e"},V3:{label:"Sant de l'Aidant",icon:"",color:"#e17055"},V4:{label:"Fragilit du Proche",icon:"",color:"#00b894"},V5:{label:"Parcours Mdical",icon:"",color:"#74b9ff"}},ip={R1:"",R2:"",R3:"",R4:"",A1:"",A2:"",A3:"",A4:"",S1:"",S2:"",S3:"",S4:"",F1:"",F2:"",F3:"",F4:"",F5:"",F6:"",M1:"",M2:"",M3:"",M4:"",M5:"",M6:""};function fy({message:n,visible:t}){return t?M.jsxs("div",{className:"toast",children:[" ",n]}):null}function xd({mpId:n,sectionId:t,itemId:s,label:r,annotation:l,onSave:u}){const[c,p]=Cn.useState(!1),[h,m]=Cn.useState(!1),[g,C]=Cn.useState((l==null?void 0:l.comment)||""),T=(l==null?void 0:l.status)||"pending",_=T==="validated"||T==="rejected";Cn.useEffect(()=>{C((l==null?void 0:l.comment)||"")},[l==null?void 0:l.comment]);const S=D=>{if(D==="rejected"&&!h){m(!0);return}u({mp_id:n,section_id:t,item_id:s,status:D,comment:g||void 0,reviewer:"dr_monka"}),p(!1),m(!1)},b=()=>{u({mp_id:n,section_id:t,item_id:s,status:T==="pending"?"comment":T,comment:g,reviewer:"dr_monka"}),m(!1)};return _&&!c?M.jsxs("div",{className:`decision-widget ${T}`,children:[M.jsxs("div",{className:"decision-header",children:[M.jsx("span",{className:"decision-label",children:r}),M.jsxs("div",{className:"decision-actions",children:[M.jsx("span",{className:`decision-resolved-badge ${T}`,children:T==="validated"?" Valid":" Rejet"}),M.jsx("button",{className:"decision-btn edit-btn",onClick:()=>p(!0),title:"Modifier la dcision",children:""})]})]}),(l==null?void 0:l.comment)&&M.jsxs("div",{className:"saved-comment",children:[" ",l.comment,M.jsx("button",{className:"edit-comment-btn",onClick:()=>{p(!0),m(!0)},title:"Modifier le commentaire",children:""})]})]}):M.jsxs("div",{className:`decision-widget ${T}`,children:[M.jsxs("div",{className:"decision-header",children:[M.jsx("span",{className:"decision-label",children:r}),M.jsxs("div",{className:"decision-actions",children:[M.jsx("button",{className:`decision-btn validate ${T==="validated"?"active":""}`,onClick:()=>S("validated"),title:"Valider",children:" Valider"}),M.jsx("button",{className:`decision-btn reject ${T==="rejected"?"active":""}`,onClick:()=>S("rejected"),title:"Rejeter",children:" Rejeter"}),c&&M.jsx("button",{className:"decision-btn reset-btn",onClick:()=>{u({mp_id:n,section_id:t,item_id:s,status:"pending",comment:g||void 0,reviewer:"dr_monka"}),p(!1)},title:"Remettre  valider",children:"  valider"}),M.jsx("button",{className:"decision-btn comment-btn",onClick:()=>m(!h),title:"Commenter",children:""}),c&&M.jsx("button",{className:"decision-btn cancel-btn",onClick:()=>p(!1),title:"Annuler",children:""})]})]}),(h||c&&(l==null?void 0:l.comment))&&M.jsxs("div",{className:"decision-comment",children:[M.jsx("textarea",{value:g,onChange:D=>C(D.target.value),placeholder:"Ajoutez votre commentaire ici..."}),M.jsx("div",{className:"decision-comment-actions",children:M.jsx("button",{className:"decision-save-btn",onClick:b,children:"Enregistrer le commentaire"})})]})]})}function hy({section:n,mpId:t,annotations:s,onSave:r,defaultOpen:l}){const[u,c]=Cn.useState(l||!1),p=s.filter(P=>P.section_id===n.id),h=n.content.match(/\*\*Dcision Dr\. Monka\*\*/g),m=h&&h.length>0,g=n.content.match(/\|\s*\s*\|/g),C=g&&g.length>0,T=m||C,_=p.filter(P=>{var N;return(N=P.item_id)==null?void 0:N.startsWith(n.id)}),S=_.length>0&&_.every(P=>P.status==="validated"||P.status==="rejected"),b=_.some(P=>P.status==="rejected");let D="badge-pending",R=" valider";return S&&!b?(D="badge-done",R=" Valid"):S&&b?(D="badge-rejected",R=" Rejet"):_.length>0&&(D="badge-progress",R="En cours"),M.jsxs("div",{className:"section-block",children:[M.jsxs("div",{className:"section-header",onClick:()=>c(!u),children:[M.jsxs("div",{className:"section-header-left",children:[M.jsx("span",{className:`section-chevron ${u?"open":""}`,children:""}),M.jsx("span",{className:"section-title",children:n.title})]}),M.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:T&&M.jsx("span",{className:`section-badge ${D}`,children:R})})]}),u&&M.jsxs("div",{className:"section-body",children:[M.jsx("div",{className:"md-content",children:M.jsx(ov,{remarkPlugins:[Vv],children:n.content})}),T&&M.jsxs(M.Fragment,{children:[M.jsx("hr",{style:{border:"none",borderTop:"1px solid var(--border)",margin:"1.5rem 0"}}),M.jsx("h4",{style:{color:"var(--primary-light)",marginBottom:"0.75rem",fontSize:"0.9rem"},children:" Points de dcision  Dr. Monka"}),m&&M.jsx(xd,{mpId:t,sectionId:n.id,itemId:`${n.id}_global`,label:`Validation globale de la section "${n.title}"`,annotation:p.find(P=>P.item_id===`${n.id}_global`),onSave:r}),C&&M.jsx(xd,{mpId:t,sectionId:n.id,itemId:`${n.id}_wording`,label:"Validation du wording (IDEC + Utilisateur)",annotation:p.find(P=>P.item_id===`${n.id}_wording`),onSave:r})]})]})]})}function gy({mp:n,annotations:t,onSave:s}){const r=t.filter(m=>m.mp_id===n.id),l=r.filter(m=>m.status==="rejected").length,u=r.length,c=r.filter(m=>m.status==="validated").length,p=u>0?c/u*100:0,h=Mi[n.vulnerability]||Mi.V1;return M.jsxs("div",{children:[M.jsxs("div",{className:"mp-header",children:[M.jsxs("h1",{children:[M.jsx("span",{children:n.title}),"  ",n.subtitle]}),M.jsxs("p",{className:"mp-header-sub",children:[n.vulnerability,"  ",h.label]}),M.jsxs("div",{className:"mp-stats",children:[M.jsxs("div",{className:"mp-stat",children:[M.jsx("span",{className:"mp-stat-value",children:n.questions}),M.jsx("span",{className:"mp-stat-label",children:"questions"})]}),M.jsxs("div",{className:"mp-stat",children:[M.jsx("span",{className:"mp-stat-value",children:n.categories}),M.jsx("span",{className:"mp-stat-label",children:"catgories"})]}),M.jsxs("div",{className:"mp-stat",children:[M.jsx("span",{className:"mp-stat-value",children:n.rules}),M.jsx("span",{className:"mp-stat-label",children:"rgles"})]}),M.jsxs("div",{className:"mp-stat",children:[M.jsx("span",{className:"mp-stat-value",children:n.microTasks}),M.jsx("span",{className:"mp-stat-label",children:"micro-tches"})]})]})]}),u>0&&M.jsxs("div",{className:"progress-bar-container",children:[M.jsxs("div",{className:"progress-bar-header",children:[M.jsx("span",{className:"progress-bar-label",children:"Progression de la validation"}),M.jsxs("span",{className:"progress-bar-count",children:[c,"/",u," valids"]})]}),M.jsx("div",{className:"progress-bar-track",children:M.jsx("div",{className:"progress-bar-fill",style:{width:`${p}%`}})}),M.jsxs("div",{className:"progress-stats",children:[M.jsxs("div",{className:"progress-stat",children:[M.jsx("div",{className:"progress-dot validated"}),c," valids"]}),M.jsxs("div",{className:"progress-stat",children:[M.jsx("div",{className:"progress-dot rejected"}),l," rejets"]}),M.jsxs("div",{className:"progress-stat",children:[M.jsx("div",{className:"progress-dot pending"}),u-c-l," en attente"]})]})]}),n.sections.map((m,g)=>M.jsx(hy,{section:m,mpId:n.id,annotations:r,onSave:s,defaultOpen:g===0},m.id))]})}function Cy({todos:n,onToggle:t,annotations:s}){const r=[...new Set(n.map(l=>l.vulnerability))].sort();return M.jsxs("div",{children:[M.jsxs("div",{className:"mp-header",children:[M.jsxs("h1",{children:[M.jsx("span",{children:" faire"}),"  Checklist de validation"]}),M.jsx("p",{className:"mp-header-sub",children:"Cochez chaque section une fois relue. Antonin suit votre avance en temps rel."})]}),n.length>0&&M.jsxs("div",{className:"progress-bar-container",children:[M.jsxs("div",{className:"progress-bar-header",children:[M.jsx("span",{className:"progress-bar-label",children:"Progression globale"}),M.jsxs("span",{className:"progress-bar-count",children:[n.filter(l=>l.checked).length,"/",n.length," cochs"]})]}),M.jsx("div",{className:"progress-bar-track",children:M.jsx("div",{className:"progress-bar-fill",style:{width:`${n.filter(l=>l.checked).length/n.length*100}%`}})})]}),r.map(l=>{const u=n.filter(m=>m.vulnerability===l),c=Mi[l]||Mi.V1,p=[...new Set(u.map(m=>m.mp_id))].sort(),h=u.filter(m=>m.checked).length;return M.jsxs("div",{className:"todo-vuln-group",children:[M.jsxs("div",{className:"todo-vuln-header",children:[M.jsxs("div",{className:"todo-vuln-title",children:[M.jsx("span",{className:"todo-vuln-icon",children:c.icon}),M.jsxs("span",{children:[l,"  ",c.label]})]}),M.jsxs("span",{className:`section-badge ${h===u.length?"badge-done":"badge-progress"}`,children:[h,"/",u.length]})]}),p.map(m=>{const g=u.filter(S=>S.mp_id===m),C=s.filter(S=>S.mp_id===m),T=g.filter(S=>S.checked).length,_=Sl.find(S=>S.id===m);return M.jsxs("div",{className:"todo-mp-group",children:[M.jsxs("div",{className:"todo-mp-header",children:[M.jsx("span",{className:"todo-mp-icon",children:ip[m]||""}),M.jsx("span",{className:"todo-mp-title",children:m}),M.jsx("span",{className:"todo-mp-subtitle",children:(_==null?void 0:_.subtitle)||""}),M.jsxs("span",{className:`sidebar-item-badge ${T===g.length?"badge-done":T>0?"badge-progress":"badge-pending"}`,children:[T,"/",g.length]})]}),M.jsx("div",{className:"todo-items",children:g.map(S=>{const b=C.filter(P=>{var N,$;return((N=P.section_id)==null?void 0:N.includes(S.section_id))||(($=P.item_id)==null?void 0:$.includes(S.section_id))}),D=b.some(P=>P.status==="validated"),R=b.some(P=>P.status==="rejected");return M.jsxs("label",{className:`todo-item ${S.checked?"checked":""}`,children:[M.jsx("input",{type:"checkbox",checked:S.checked,onChange:P=>t(S.id,P.target.checked)}),M.jsx("span",{className:"todo-checkbox-custom"}),M.jsx("span",{className:"todo-label",children:S.label}),D&&M.jsx("span",{className:"todo-annotation-dot validated",title:"Dcision valide",children:""}),R&&M.jsx("span",{className:"todo-annotation-dot rejected",title:"Dcision rejete",children:""}),S.checked&&S.checked_at&&M.jsx("span",{className:"todo-timestamp",children:new Date(S.checked_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]},S.id)})})]},m)})]},l)})]})}function vy({annotations:n,todos:t}){const s=Object.keys(Mi).filter(m=>Yi[m]&&Yi[m].length>0),r=t.length,l=t.filter(m=>m.checked).length,u=n.length,c=n.filter(m=>m.status==="validated").length,p=n.filter(m=>m.status==="rejected").length,h=[...n].sort((m,g)=>new Date(g.updated_at||"").getTime()-new Date(m.updated_at||"").getTime()).slice(0,15);return M.jsxs("div",{children:[M.jsxs("div",{className:"mp-header",children:[M.jsxs("h1",{children:[M.jsx("span",{children:"Dashboard"}),"  Vue consolide"]}),M.jsx("p",{className:"mp-header-sub",children:"Suivi en temps rel des retours de Dr. Monka"})]}),M.jsxs("div",{className:"dashboard-global-stats",children:[M.jsxs("div",{className:"dashboard-global-stat",children:[M.jsx("div",{className:"dgs-value",children:l}),M.jsx("div",{className:"dgs-label",children:"Sections relues"}),M.jsxs("div",{className:"dgs-sub",children:["sur ",r]})]}),M.jsxs("div",{className:"dashboard-global-stat",children:[M.jsx("div",{className:"dgs-value",style:{color:"var(--green)"},children:c}),M.jsx("div",{className:"dgs-label",children:"Dcisions valides"}),M.jsxs("div",{className:"dgs-sub",children:["sur ",u," annotations"]})]}),M.jsxs("div",{className:"dashboard-global-stat",children:[M.jsx("div",{className:"dgs-value",style:{color:"var(--red)"},children:p}),M.jsx("div",{className:"dgs-label",children:"Points rejets"}),M.jsx("div",{className:"dgs-sub",children:" corriger"})]}),M.jsxs("div",{className:"dashboard-global-stat",children:[M.jsx("div",{className:"dgs-value",style:{color:"var(--yellow)"},children:r-l}),M.jsx("div",{className:"dgs-label",children:"Sections restantes"}),M.jsx("div",{className:"dgs-sub",children:" relire"})]})]}),M.jsx("h3",{style:{margin:"1.5rem 0 1rem",fontSize:"1rem"},children:"Avance par vulnrabilit"}),s.map(m=>{const g=Mi[m],C=Yi[m]||[],T=t.filter(b=>b.vulnerability===m),_=T.filter(b=>b.checked).length,S=n.filter(b=>C.some(D=>D.id===b.mp_id));return S.filter(b=>b.status==="validated").length,S.filter(b=>b.status==="rejected").length,M.jsxs("div",{className:"dashboard-vuln-card",children:[M.jsxs("div",{className:"dvc-header",children:[M.jsx("span",{className:"dvc-icon",children:g.icon}),M.jsxs("div",{className:"dvc-info",children:[M.jsxs("div",{className:"dvc-title",children:[m,"  ",g.label]}),M.jsx("div",{className:"dvc-progress-track",children:M.jsx("div",{className:"dvc-progress-fill",style:{width:`${T.length>0?_/T.length*100:0}%`,background:g.color}})})]}),M.jsxs("span",{className:`section-badge ${_===T.length&&T.length>0?"badge-done":"badge-progress"}`,children:[_,"/",T.length]})]}),M.jsx("div",{className:"dvc-mps",children:C.map(b=>{const D=T.filter(Y=>Y.mp_id===b.id),R=D.filter(Y=>Y.checked).length,P=S.filter(Y=>Y.mp_id===b.id),N=P.filter(Y=>Y.status==="validated").length,$=P.filter(Y=>Y.status==="rejected").length;return M.jsxs("div",{className:"dvc-mp-row",children:[M.jsx("span",{className:"dvc-mp-icon",children:ip[b.id]||""}),M.jsx("span",{className:"dvc-mp-name",children:b.id}),M.jsx("span",{className:"dvc-mp-subtitle",children:b.subtitle.slice(0,30)}),M.jsxs("div",{className:"dvc-mp-badges",children:[M.jsxs("span",{className:"dvc-mp-badge todo",children:[R,"/",D.length," relu"]}),N>0&&M.jsxs("span",{className:"dvc-mp-badge ok",children:[" ",N]}),$>0&&M.jsxs("span",{className:"dvc-mp-badge ko",children:[" ",$]})]})]},b.id)})})]},m)}),M.jsx("h3",{style:{margin:"1.5rem 0 1rem",fontSize:"1rem"},children:"Annotations rcentes"}),h.length===0?M.jsxs("div",{className:"empty-state",children:[M.jsx("div",{className:"empty-state-icon",children:""}),M.jsx("p",{children:"Aucune annotation pour le moment"})]}):M.jsx("div",{className:"annotations-list",children:h.map(m=>M.jsxs("div",{className:"annotation-row",children:[M.jsx("span",{className:"status-icon",children:m.status==="validated"?"":m.status==="rejected"?"":""}),M.jsx("span",{className:"mp-label",children:m.mp_id}),M.jsx("span",{className:"section-label",children:m.section_id.replace(/_/g," ").replace(/section \d+/,g=>{var _;const C=parseInt(g.split(" ")[1]),T=(_=Sl.find(S=>S.id===m.mp_id))==null?void 0:_.sections[C];return T?T.title.slice(0,40):g})}),m.comment&&M.jsx("span",{className:"comment-preview",children:m.comment})]},m.id))})]})}function _y({doc:n,annotations:t,onSave:s}){const r=t.filter(g=>g.mp_id===n.id),l=r.length,u=r.filter(g=>g.status==="validated").length,c=r.filter(g=>g.status==="rejected").length,p=l>0?u/l*100:0,h=n.type==="mp_completude"?"Compltude MP":n.type==="coherence_check"?"Contrle Cohrence":"Audit Global",m=n.type==="mp_completude"?"#e17055":n.type==="coherence_check"?"#6C5CE7":"#00b894";return M.jsxs("div",{children:[M.jsxs("div",{className:"mp-header",children:[M.jsx("h1",{children:M.jsx("span",{children:n.title})}),M.jsxs("p",{className:"mp-header-sub",children:[M.jsx("span",{style:{display:"inline-block",padding:"0.15rem 0.6rem",borderRadius:"4px",background:m+"22",color:m,fontSize:"0.75rem",fontWeight:600,marginRight:"0.5rem"},children:h}),n.subtitle]}),M.jsxs("div",{className:"mp-stats",children:[n.score&&M.jsxs("div",{className:"mp-stat",children:[M.jsx("span",{className:"mp-stat-value",children:n.score}),M.jsx("span",{className:"mp-stat-label",children:"score"})]}),M.jsxs("div",{className:"mp-stat",children:[M.jsx("span",{className:"mp-stat-value",children:n.sections.length}),M.jsx("span",{className:"mp-stat-label",children:"sections"})]}),M.jsxs("div",{className:"mp-stat",children:[M.jsx("span",{className:"mp-stat-value",children:n.sections.filter(g=>g.hasDecisionItems).length}),M.jsx("span",{className:"mp-stat-label",children:" valider"})]})]})]}),l>0&&M.jsxs("div",{className:"progress-bar-container",children:[M.jsxs("div",{className:"progress-bar-header",children:[M.jsx("span",{className:"progress-bar-label",children:"Progression de la validation"}),M.jsxs("span",{className:"progress-bar-count",children:[u,"/",l," valids"]})]}),M.jsx("div",{className:"progress-bar-track",children:M.jsx("div",{className:"progress-bar-fill",style:{width:`${p}%`}})}),M.jsxs("div",{className:"progress-stats",children:[M.jsxs("div",{className:"progress-stat",children:[M.jsx("div",{className:"progress-dot validated"}),u," valids"]}),M.jsxs("div",{className:"progress-stat",children:[M.jsx("div",{className:"progress-dot rejected"}),c," rejets"]}),M.jsxs("div",{className:"progress-stat",children:[M.jsx("div",{className:"progress-dot pending"}),l-u-c," en attente"]})]})]}),n.sections.map((g,C)=>{const T=r.filter(P=>P.section_id===g.id),_=T.filter(P=>{var N;return(N=P.item_id)==null?void 0:N.startsWith(g.id)}),S=_.length>0&&_.every(P=>P.status==="validated"||P.status==="rejected"),b=_.some(P=>P.status==="rejected");let D="badge-pending",R=" valider";return S&&!b?(D="badge-done",R=" Valid"):S&&b?(D="badge-rejected",R=" Rejet"):_.length>0&&(D="badge-progress",R="En cours"),M.jsx(Ty,{section:g,docId:n.id,annotations:T,onSave:s,badgeClass:D,badgeText:R,defaultOpen:C===0},g.id)})]})}function Ty({section:n,docId:t,annotations:s,onSave:r,badgeClass:l,badgeText:u,defaultOpen:c}){const[p,h]=Cn.useState(c||!1);return M.jsxs("div",{className:"section-block",children:[M.jsxs("div",{className:"section-header",onClick:()=>h(!p),children:[M.jsxs("div",{className:"section-header-left",children:[M.jsx("span",{className:`section-chevron ${p?"open":""}`,children:""}),M.jsx("span",{className:"section-title",children:n.title})]}),M.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:n.hasDecisionItems&&M.jsx("span",{className:`section-badge ${l}`,children:u})})]}),p&&M.jsxs("div",{className:"section-body",children:[M.jsx("div",{className:"md-content",children:M.jsx(ov,{remarkPlugins:[Vv],children:n.content})}),n.hasDecisionItems&&M.jsxs(M.Fragment,{children:[M.jsx("hr",{style:{border:"none",borderTop:"1px solid var(--border)",margin:"1.5rem 0"}}),M.jsx("h4",{style:{color:"var(--primary-light)",marginBottom:"0.75rem",fontSize:"0.9rem"},children:" Validation  Dr. Monka"}),M.jsx(xd,{mpId:t,sectionId:n.id,itemId:`${n.id}_global`,label:`Validation de la section "${n.title}"`,annotation:s.find(m=>m.item_id===`${n.id}_global`),onSave:r})]})]})]})}function Ay(){const[n]=Cn.useState(!0),[t,s]=Cn.useState("R1"),[r,l]=Cn.useState(""),[u,c]=Cn.useState("review"),[p,h]=Cn.useState([]),[m,g]=Cn.useState([]),[C,T]=Cn.useState({V1:!0,V2:!0,V3:!0}),[_,S]=Cn.useState({mp_completude:!0}),[b,D]=Cn.useState({message:"",visible:!1}),R=Cn.useCallback(async()=>{const[z,te]=await Promise.all([or.from("mp_annotations").select("*").order("updated_at",{ascending:!1}),or.from("mp_todos").select("*").order("created_at",{ascending:!0})]);z.data&&h(z.data),te.data&&g(te.data)},[]);Cn.useEffect(()=>{R()},[R]);const P=async z=>{const te=p.find(ae=>ae.mp_id===z.mp_id&&ae.section_id===z.section_id&&ae.item_id===z.item_id);if(te){const{error:ae}=await or.from("mp_annotations").update({status:z.status,comment:z.comment,updated_at:new Date().toISOString()}).eq("id",te.id);ae||(h(k=>k.map(W=>W.id===te.id?{...W,status:z.status,comment:z.comment,updated_at:new Date().toISOString()}:W)),$("Annotation enregistre"))}else{const{data:ae,error:k}=await or.from("mp_annotations").insert(z).select().single();ae&&!k&&(h(W=>[ae,...W]),$("Annotation cre"))}},N=async(z,te)=>{const ae=new Date().toISOString(),{error:k}=await or.from("mp_todos").update({checked:te,checked_at:te?ae:null,checked_by:te?"dr_monka":null}).eq("id",z);k||(g(W=>W.map(ne=>ne.id===z?{...ne,checked:te,checked_at:te?ae:void 0,checked_by:te?"dr_monka":void 0}:ne)),$(te?"Section coche ":"Section dcoche"))},$=z=>{D({message:z,visible:!0}),setTimeout(()=>D({message:"",visible:!1}),2500)},Y=Sl.find(z=>z.id===t),x=m.filter(z=>z.checked).length;return M.jsxs("div",{className:"app-layout",children:[M.jsxs("div",{className:"sidebar",children:[M.jsx("div",{className:"sidebar-logo",children:" Monka Validation"}),M.jsx("div",{className:"sidebar-subtitle",children:"Navigation"}),M.jsx("div",{className:`sidebar-nav-link ${u==="dashboard"?"active":""}`,onClick:()=>c("dashboard"),children:" Dashboard"}),M.jsxs("div",{className:`sidebar-nav-link ${u==="todo"?"active":""}`,onClick:()=>c("todo"),children:["  faire",m.length>0&&M.jsxs("span",{className:`sidebar-todo-badge ${x===m.length?"done":""}`,children:[x,"/",m.length]})]}),M.jsx("div",{className:"sidebar-subtitle",style:{marginTop:"1rem"},children:"Templates MP"}),Object.entries(Yi).map(([z,te])=>{const ae=Mi[z]||Mi.V1,k=C[z]??!1,W=m.filter(ie=>te.some(X=>X.id===ie.mp_id)),ne=W.filter(ie=>ie.checked).length,ve=W.length;return M.jsxs("div",{className:"sidebar-vuln-group",children:[M.jsxs("div",{className:"sidebar-vuln-header",onClick:()=>T(ie=>({...ie,[z]:!ie[z]})),children:[M.jsxs("div",{className:"sidebar-vuln-left",children:[M.jsx("span",{className:`sidebar-vuln-chevron ${k?"expanded":""}`,children:""}),M.jsx("span",{children:ae.icon}),M.jsx("span",{className:"sidebar-vuln-id",children:z}),M.jsx("span",{className:"sidebar-vuln-name",children:ae.label})]}),ve>0&&M.jsxs("span",{className:`sidebar-item-badge ${ne===ve?"badge-done":"badge-progress"}`,children:[ne,"/",ve]})]}),k&&M.jsx("div",{className:"sidebar-vuln-items",children:te.map(ie=>{const X=m.filter(oe=>oe.mp_id===ie.id),w=X.filter(oe=>oe.checked).length,J=X.length;return M.jsxs("div",{className:`sidebar-item ${u==="review"&&t===ie.id?"active":""}`,onClick:()=>{s(ie.id),c("review")},children:[M.jsx("span",{className:"sidebar-item-icon",children:ip[ie.id]||""}),M.jsxs("div",{className:"sidebar-item-info",children:[M.jsx("div",{className:"sidebar-item-title",children:ie.id}),M.jsx("div",{className:"sidebar-item-sub",children:ie.subtitle})]}),J>0&&M.jsxs("span",{className:`sidebar-item-badge ${w===J?"badge-done":"badge-progress"}`,children:[w,"/",J]})]},ie.id)})})]},z)}),M.jsx("div",{className:"sidebar-subtitle",style:{marginTop:"1rem"},children:" Compltude"}),Object.entries(al).map(([z,te])=>{const ae=my[z]||{label:z,icon:""},k=_[z]??!1;return M.jsxs("div",{className:"sidebar-vuln-group",children:[M.jsxs("div",{className:"sidebar-vuln-header",onClick:()=>S(W=>({...W,[z]:!W[z]})),children:[M.jsxs("div",{className:"sidebar-vuln-left",children:[M.jsx("span",{className:`sidebar-vuln-chevron ${k?"expanded":""}`,children:""}),M.jsx("span",{children:ae.icon}),M.jsx("span",{className:"sidebar-vuln-name",children:ae.label})]}),M.jsx("span",{className:"sidebar-item-badge badge-progress",children:te.length})]}),k&&M.jsx("div",{className:"sidebar-vuln-items",children:te.map(W=>{const ne=p.filter(X=>X.mp_id===W.id),ve=ne.filter(X=>X.status==="validated").length,ie=ne.length;return M.jsxs("div",{className:`sidebar-item ${u==="completude"&&r===W.id?"active":""}`,onClick:()=>{l(W.id),c("completude")},children:[M.jsx("span",{className:"sidebar-item-icon",children:W.type==="global_audit"?"":W.type==="coherence_check"?"":W.score?W.score==="8/8"?"":"":""}),M.jsxs("div",{className:"sidebar-item-info",children:[M.jsx("div",{className:"sidebar-item-title",children:W.id.replace("COMP_","").replace("CHECK_","")}),M.jsx("div",{className:"sidebar-item-sub",children:W.score?`Score: ${W.score}`:W.title.slice(0,35)})]}),ie>0&&M.jsxs("span",{className:`sidebar-item-badge ${ve===ie?"badge-done":"badge-progress"}`,children:[ve,"/",ie]})]},W.id)})})]},z)})]}),M.jsx("div",{className:"main-content",children:u==="dashboard"?M.jsx(vy,{annotations:p,todos:m}):u==="todo"?M.jsx(Cy,{todos:m,onToggle:N,annotations:p}):u==="completude"?(()=>{const z=$v.find(te=>te.id===r);return z?M.jsx(_y,{doc:z,annotations:p,onSave:P}):M.jsxs("div",{className:"mp-header",children:[M.jsxs("h1",{children:[M.jsx("span",{children:"Compltude"}),"  Slectionnez un document"]}),M.jsx("p",{className:"mp-header-sub",children:"Choisissez un document de compltude dans la barre latrale"})]})})():Y?M.jsx(gy,{mp:Y,annotations:p,onSave:P}):null}),M.jsx(fy,{message:b.message,visible:b.visible})]})}v0.createRoot(document.getElementById("root")).render(M.jsx(Cn.StrictMode,{children:M.jsx(Ay,{})}));
